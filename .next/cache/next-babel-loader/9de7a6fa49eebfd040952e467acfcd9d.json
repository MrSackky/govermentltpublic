{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"D:\\\\govermentlt\\\\components\\\\managemnet\\\\poll-menu\\\\edit-menu-sub.jsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport { Button, Col, Form, Input, Modal, notification, Row, Select, Typography } from 'antd';\nimport dynamic from 'next/dynamic';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { apiInstance } from '../../../middleware/utils';\nvar Option = Select.Option;\nvar TextArea = Input.TextArea; // const config = require('./../../config');\n\nvar config = require('../../../pages/admin/config');\n\nvar JoditEditor = dynamic(_c = function _c() {\n  return import(\"jodit-react\");\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak(\"jodit-react\")];\n    },\n    modules: [\"jodit-react\"]\n  }\n});\n_c2 = JoditEditor;\nvar Text = Typography.Text,\n    Title = Typography.Title;\nexport default function modal(_ref) {\n  _s();\n\n  var _visible = _ref._visible,\n      hideModal = _ref.hideModal,\n      fetch = _ref.fetch,\n      dataEdit = _ref.dataEdit;\n  var divRef = useRef(null);\n\n  var _notification$useNoti = notification.useNotification(),\n      _notification$useNoti2 = _slicedToArray(_notification$useNoti, 2),\n      api = _notification$useNoti2[0],\n      contextHolder = _notification$useNoti2[1]; // const [divRef] = useRef(null);\n\n\n  var _useState = useState(false),\n      visible = _useState[0],\n      setVisible = _useState[1];\n\n  var _useState2 = useState(1),\n      patternMenuSelected = _useState2[0],\n      setPatternMenuSelected = _useState2[1];\n\n  var _useState3 = useState(''),\n      content = _useState3[0],\n      setContent = _useState3[1];\n\n  var _useState4 = useState(1),\n      active = _useState4[0],\n      setActive = _useState4[1];\n\n  var _useState5 = useState([{\n    name: ['intro_title'],\n    value: ''\n  }]),\n      fields = _useState5[0],\n      setFields = _useState5[1];\n\n  var _Form$useForm = Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  useEffect(function () {\n    setVisible(_visible);\n    fetchEditData();\n  }, [dataEdit]);\n\n  var fetchEditData = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (dataEdit) {\n                setFields([{\n                  name: ['poll_options_name'],\n                  value: !dataEdit ? \"\" : dataEdit.poll_options_name\n                }, {\n                  name: ['poll_options_score'],\n                  value: !dataEdit ? 0 : dataEdit.poll_options_score\n                }]);\n              }\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function fetchEditData() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var onSubmitHandler = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(value) {\n      var data, registerData;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              data = {\n                \"poll_options_name\": value.poll_options_name,\n                \"poll_options_score\": value.poll_options_score ? value.poll_options_score : 0\n              };\n              console.log(data);\n              _context2.next = 4;\n              return apiInstance().put('/pollmenu/poll-option/' + (dataEdit ? dataEdit.poll_option_id : 0), data);\n\n            case 4:\n              registerData = _context2.sent;\n\n              if (registerData.data.status == 200) {\n                openNotificationSuccess();\n              } else {\n                openNotificationFail(registerData.data.message);\n              }\n\n              fetch();\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function onSubmitHandler(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var openNotificationSuccess = function openNotificationSuccess() {\n    api.success({\n      message: \"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\\u0E21\\u0E39\\u0E25\\u0E2A\\u0E33\\u0E40\\u0E23\\u0E47\\u0E08\",\n      description: 'บันทึกมูลสำเร็จ',\n      placement: 'topRight'\n    });\n  };\n\n  var openNotificationFail = function openNotificationFail(messgae) {\n    api.error({\n      message: \"\\u0E1E\\u0E1A\\u0E1B\\u0E31\\u0E0D\\u0E2B\\u0E32\\u0E23\\u0E30\\u0E2B\\u0E27\\u0E48\\u0E32\\u0E07\\u0E01\\u0E32\\u0E23\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\",\n      description: messgae,\n      placement: 'topRight'\n    });\n  };\n\n  var onReset = function onReset() {\n    setFields([{\n      name: ['poll_options_name'],\n      value: !dataEdit ? \"\" : dataEdit.poll_options_name\n    }, {\n      name: ['poll_options_score'],\n      value: !dataEdit ? 0 : dataEdit.poll_options_score\n    }]);\n  };\n\n  return __jsx(React.Fragment, null, contextHolder, __jsx(Modal, {\n    title: \"แก้ไขเมนู \" + (!dataEdit ? \"\" : dataEdit.poll_options_name),\n    className: \"mt-4\",\n    centered: true,\n    visible: _visible // onOk={() => onOK()}\n    ,\n    onCancel: function onCancel() {\n      hideModal();\n    },\n    width: 1000,\n    footer: null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, __jsx(Col, {\n    span: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 21\n    }\n  }, __jsx(Form, {\n    name: \"basic\",\n    layout: \"vertical\",\n    onFinish: onSubmitHandler,\n    requiredMark: true,\n    form: form,\n    fields: fields,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 25\n    }\n  }, __jsx(Form.Item, {\n    name: \"poll_options_name\",\n    label: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E15\\u0E31\\u0E27\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\",\n    style: {\n      \"float\": 'left'\n    },\n    className: \"block text-gray-700 text-sm font-bold mb-2 w-2/3\",\n    rules: [{\n      required: true,\n      message: 'กรุณากรอกชื่อตัวเลือก'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 29\n    }\n  }, __jsx(Input, {\n    id: \"#\",\n    type: \"text\",\n    placeholder: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E15\\u0E31\\u0E27\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\",\n    className: \"resize-none border rounded-md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 33\n    }\n  })), __jsx(Form.Item, {\n    className: \"flex mt-6 mb-0 w-1/3\",\n    style: {\n      marginBottom: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 29\n    }\n  }, __jsx(\"div\", {\n    className: \"lg:inline-flex w-full mt-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 33\n    }\n  }, __jsx(\"div\", {\n    className: \"text-center lg:text-right w-full lg:w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 37\n    }\n  }, __jsx(Button, {\n    htmlType: \"button\",\n    onClick: onReset,\n    style: {\n      backgroundColor: '#C2CFE0',\n      borderColor: '#C2CFE0',\n      height: 40,\n      width: 110,\n      marginBottom: '0px !important',\n      marginRight: '2px',\n      color: 'white !important'\n    } // htmlType=\"submit\"\n    ,\n    className: \"text-center bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full lg:w-1/4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 41\n    }\n  }, __jsx(Text, {\n    className: \"text-custom-black \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 45\n    }\n  }, \"\\u0E23\\u0E35\\u0E40\\u0E0B\\u0E47\\u0E17\")), __jsx(Button // type=\"primary\"\n  , {\n    style: {\n      backgroundColor: '#059669',\n      borderColor: '#059669',\n      height: 40,\n      width: 110,\n      marginBottom: '0px !important',\n      color: 'white !important'\n    },\n    htmlType: \"submit\",\n    className: \"text-center bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full lg:w-1/4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 41\n    }\n  }, __jsx(Text, {\n    className: \"text-custom-white \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 45\n    }\n  }, \"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\"))))), __jsx(Form.Item, {\n    name: \"poll_options_score\",\n    label: \"\\u0E04\\u0E30\\u0E41\\u0E19\\u0E19\\u0E15\\u0E31\\u0E27\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\",\n    style: {\n      \"float\": 'left'\n    },\n    className: \"block text-gray-700 text-sm font-bold mb-2 w-2/3\",\n    rules: [{\n      required: true,\n      message: 'กรุณากรอกคะแนนตัวเลือก'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 29\n    }\n  }, __jsx(Input, {\n    id: \"#\",\n    type: \"number\",\n    placeholder: \"\\u0E04\\u0E30\\u0E41\\u0E19\\u0E19\\u0E15\\u0E31\\u0E27\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\",\n    className: \"resize-none border rounded-md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 33\n    }\n  }))))), __jsx(\"div\", {\n    style: {\n      \"float\": \"left\",\n      clear: \"both\"\n    },\n    ref: divRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 17\n    }\n  })));\n}\n\n_s(modal, \"4Gy1sRdgMpe1NHo7dGj/cm3em2Y=\", false, function () {\n  return [notification.useNotification, Form.useForm];\n});\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"JoditEditor$dynamic\");\n$RefreshReg$(_c2, \"JoditEditor\");","map":{"version":3,"sources":["D:/govermentlt/components/managemnet/poll-menu/edit-menu-sub.jsx"],"names":["Button","Col","Form","Input","Modal","notification","Row","Select","Typography","dynamic","React","useEffect","useRef","useState","apiInstance","Option","TextArea","config","require","JoditEditor","ssr","Text","Title","modal","_visible","hideModal","fetch","dataEdit","divRef","useNotification","api","contextHolder","visible","setVisible","patternMenuSelected","setPatternMenuSelected","content","setContent","active","setActive","name","value","fields","setFields","useForm","form","fetchEditData","poll_options_name","poll_options_score","onSubmitHandler","data","console","log","put","poll_option_id","registerData","status","openNotificationSuccess","openNotificationFail","message","success","description","placement","messgae","error","onReset","required","marginBottom","backgroundColor","borderColor","height","width","marginRight","color","clear"],"mappings":"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","sourcesContent":["import { Button, Col, Form, Input, Modal, notification, Row, Select, Typography } from 'antd';\r\nimport dynamic from 'next/dynamic';\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport { apiInstance } from '../../../middleware/utils';\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\n// const config = require('./../../config');\r\nconst config = require('../../../pages/admin/config');\r\nconst JoditEditor = dynamic(() => import(\"jodit-react\"), { ssr: false });\r\nconst { Text, Title } = Typography;\r\nexport default function modal({ _visible, hideModal, fetch, dataEdit }) {\r\n    let divRef = useRef(null);\r\n    const [api, contextHolder] = notification.useNotification();\r\n    // const [divRef] = useRef(null);\r\n    const [visible, setVisible] = useState(false);\r\n    const [patternMenuSelected, setPatternMenuSelected] = useState(1);\r\n    const [content, setContent] = useState('')\r\n    const [active, setActive] = useState(1)\r\n    const [fields, setFields] = useState([\r\n        {\r\n            name: ['intro_title'],\r\n            value: '',\r\n        },\r\n    ]);\r\n    const [form] = Form.useForm();\r\n\r\n    useEffect(() => {\r\n        setVisible(_visible)\r\n        fetchEditData()\r\n    }, [dataEdit])\r\n\r\n    const fetchEditData = async () => {\r\n        if (dataEdit) {\r\n\r\n            setFields([\r\n                {\r\n                    name: ['poll_options_name'],\r\n                    value: (!dataEdit ? \"\" : dataEdit.poll_options_name),\r\n                },\r\n                {\r\n                    name: ['poll_options_score'],\r\n                    value: (!dataEdit ? 0 : dataEdit.poll_options_score),\r\n                },\r\n            ])\r\n\r\n        }\r\n    }\r\n\r\n    const onSubmitHandler = async (value) => {\r\n\r\n        const data = {\r\n            \"poll_options_name\": value.poll_options_name,\r\n            \"poll_options_score\": value.poll_options_score ? value.poll_options_score : 0,\r\n        }\r\n        console.log(data)\r\n        const registerData = await apiInstance().put('/pollmenu/poll-option/' + (dataEdit ? dataEdit.poll_option_id : 0), data);\r\n        if (registerData.data.status == 200) {\r\n            openNotificationSuccess()\r\n        } else {\r\n            openNotificationFail(registerData.data.message)\r\n        }\r\n        fetch()\r\n    }\r\n\r\n    const openNotificationSuccess = () => {\r\n        api.success({\r\n            message: `บันทึกมูลสำเร็จ`,\r\n            description: 'บันทึกมูลสำเร็จ',\r\n            placement: 'topRight',\r\n        });\r\n    };\r\n\r\n    const openNotificationFail = (messgae) => {\r\n        api.error({\r\n            message: `พบปัญหาระหว่างการบันทึกข้อมูล`,\r\n            description: messgae,\r\n            placement: 'topRight',\r\n        });\r\n    };\r\n\r\n\r\n    const onReset = () => {\r\n\r\n        setFields([\r\n            {\r\n                name: ['poll_options_name'],\r\n                value: (!dataEdit ? \"\" : dataEdit.poll_options_name),\r\n            },\r\n            {\r\n                name: ['poll_options_score'],\r\n                value: (!dataEdit ? 0 : dataEdit.poll_options_score),\r\n            },\r\n        ])\r\n\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            {contextHolder}\r\n            <Modal\r\n                title={\"แก้ไขเมนู \" + (!dataEdit ? \"\" : dataEdit.poll_options_name)}\r\n                className=\"mt-4\"\r\n                centered\r\n                visible={_visible}\r\n                // onOk={() => onOK()}\r\n                onCancel={() => {\r\n                    hideModal()\r\n                }}\r\n                width={1000}\r\n                footer={null}\r\n            >\r\n                <Row>\r\n                    <Col span={24}>\r\n                        <Form\r\n                            name=\"basic\"\r\n                            layout=\"vertical\"\r\n                            onFinish={onSubmitHandler}\r\n                            requiredMark={true}\r\n                            form={form}\r\n                            fields={fields}\r\n                        >\r\n                            <Form.Item\r\n                                name=\"poll_options_name\"\r\n                                label=\"ชื่อตัวเลือก\"\r\n                                style={{ float: 'left' }}\r\n                                className=\"block text-gray-700 text-sm font-bold mb-2 w-2/3\"\r\n                                rules={[\r\n                                    {\r\n                                        required: true,\r\n                                        message: 'กรุณากรอกชื่อตัวเลือก',\r\n                                    },\r\n                                ]}\r\n                            >\r\n                                <Input\r\n                                    id=\"#\"\r\n                                    type=\"text\"\r\n                                    placeholder=\"ชื่อตัวเลือก\"\r\n                                    className=\"resize-none border rounded-md\"\r\n                                />\r\n                            </Form.Item>\r\n\r\n                            <Form.Item\r\n                                className=\"flex mt-6 mb-0 w-1/3\"\r\n                                style={{ marginBottom: 0 }}\r\n                            >\r\n                                <div className=\"lg:inline-flex w-full mt-6\">\r\n                                    <div className=\"text-center lg:text-right w-full lg:w-full\">\r\n                                        <Button\r\n                                            htmlType=\"button\"\r\n                                            onClick={onReset}\r\n                                            style={{\r\n                                                backgroundColor: '#C2CFE0',\r\n                                                borderColor: '#C2CFE0',\r\n                                                height: 40,\r\n                                                width: 110,\r\n                                                marginBottom: '0px !important',\r\n                                                marginRight: '2px',\r\n                                                color: 'white !important',\r\n                                            }}\r\n                                            // htmlType=\"submit\"\r\n                                            className=\"text-center bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full lg:w-1/4\"\r\n                                        >\r\n                                            <Text className=\"text-custom-black \">รีเซ็ท</Text>\r\n                                        </Button>\r\n                                        <Button\r\n                                            // type=\"primary\"\r\n                                            style={{\r\n                                                backgroundColor: '#059669',\r\n                                                borderColor: '#059669',\r\n                                                height: 40,\r\n                                                width: 110,\r\n                                                marginBottom: '0px !important',\r\n                                                color: 'white !important',\r\n                                            }}\r\n                                            htmlType=\"submit\"\r\n                                            className=\"text-center bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full lg:w-1/4\"\r\n                                        >\r\n                                            <Text className=\"text-custom-white \">บันทึก</Text>\r\n                                        </Button>\r\n                                    </div>\r\n                                </div>\r\n                            </Form.Item>\r\n                            <Form.Item\r\n                                name=\"poll_options_score\"\r\n                                label=\"คะแนนตัวเลือก\"\r\n                                style={{ float: 'left' }}\r\n                                className=\"block text-gray-700 text-sm font-bold mb-2 w-2/3\"\r\n                                rules={[\r\n                                    {\r\n                                        required: true,\r\n                                        message: 'กรุณากรอกคะแนนตัวเลือก',\r\n                                    },\r\n                                ]}\r\n                            >\r\n                                <Input\r\n                                    id=\"#\"\r\n                                    type=\"number\"\r\n                                    placeholder=\"คะแนนตัวเลือก\"\r\n                                    className=\"resize-none border rounded-md\"\r\n                                />\r\n                            </Form.Item>\r\n                        </Form>\r\n                    </Col>\r\n                </Row>\r\n                <div style={{ float: \"left\", clear: \"both\" }}\r\n                    ref={divRef}>\r\n                </div>\r\n            </Modal>\r\n        </>\r\n\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}