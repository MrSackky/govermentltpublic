{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Sackky\\\\Desktop\\\\govermentlt\\\\pages\\\\admin\\\\management\\\\activities\\\\add-activities.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport { InboxOutlined } from '@ant-design/icons';\nimport { Button, DatePicker, Form, Image, Input, notification, Switch, Typography, Upload } from 'antd';\nimport axios from 'axios';\nimport moment from 'moment';\nimport dynamic from 'next/dynamic';\nimport { useRouter } from 'next/router'; // import UserNav from '../components/navigation/User';\n\nimport React, { useEffect, useRef, useState } from 'react';\n/* components */\n\nimport Layout from '../../../../components/layout/LayoutAdmin';\n/* utils */\n\nimport { apiInstance } from '../../../../middleware/utils';\nvar JoditEditor = dynamic(_c = function _c() {\n  return import(\"jodit-react\");\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak(\"jodit-react\")];\n    },\n    modules: [\"jodit-react\"]\n  }\n});\n_c2 = JoditEditor;\nvar Text = Typography.Text,\n    Title = Typography.Title;\nvar TextArea = Input.TextArea;\n\nvar config = require('./../../config');\n\nexport var __N_SSP = true;\nexport default function Home(props) {\n  _s();\n\n  var editor = useRef(null);\n\n  var _useState = useState(''),\n      content = _useState[0],\n      setContent = _useState[1];\n\n  var _notification$useNoti = notification.useNotification(),\n      _notification$useNoti2 = _slicedToArray(_notification$useNoti, 2),\n      api = _notification$useNoti2[0],\n      contextHolder = _notification$useNoti2[1];\n\n  var user = props.user,\n      origin = props.origin;\n  var router = useRouter();\n\n  var _useState2 = useState(null),\n      previewImage = _useState2[0],\n      setPreviewImage = _useState2[1];\n\n  var _useState3 = useState(null),\n      imageLandingPage = _useState3[0],\n      setImageLandingPage = _useState3[1];\n\n  var _useState4 = useState(false),\n      previewVisible = _useState4[0],\n      setPreviewVisible = _useState4[1];\n\n  var _useState5 = useState(1),\n      slide = _useState5[0],\n      setSlide = _useState5[1];\n\n  var slider = function slider() {\n    slide ? setSlide(0) : setSlide(1);\n  };\n\n  var _useState6 = useState(1),\n      active = _useState6[0],\n      setActive = _useState6[1];\n\n  var actived = function actived() {\n    active ? setActive(0) : setActive(1);\n  };\n\n  var _useState7 = useState(''),\n      date = _useState7[0],\n      setDate = _useState7[1];\n\n  var _useState8 = useState([{\n    name: ['activities_date'],\n    value: moment()\n  }]),\n      fields = _useState8[0],\n      setFields = _useState8[1];\n\n  useEffect(function () {\n    setDate(moment());\n  }, []);\n\n  function onSubmitHandler(_x) {\n    return _onSubmitHandler.apply(this, arguments);\n  }\n\n  function _onSubmitHandler() {\n    _onSubmitHandler = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(value) {\n      var dateStr, data, addactivitiesData;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              console.log(\"date onSubmitHandler\"); // console.log(date)\n\n              dateStr = moment(value.activities_date).format();\n              data = {\n                organization_id: user.organization_id,\n                activities_title: value.activities_title,\n                activities_detail: value.activities_detail,\n                activities_image: imageLandingPage,\n                activities_date: dateStr,\n                activities_keyword: value.activities_keyword,\n                is_slide: slide,\n                status_active: active\n              };\n              console.log(dateStr._i);\n              console.log(data);\n              _context2.next = 7;\n              return apiInstance().post('admin/management/add-activities', data);\n\n            case 7:\n              addactivitiesData = _context2.sent;\n\n              if (addactivitiesData.data.status == 200) {\n                openNotificationRegisterSuccess();\n                setTimeout(function () {\n                  //Start the timer\n                  router.push('/admin/management/activities');\n                }.bind(this), 2000);\n              } else {\n                openNotificationRegisterFail(addactivitiesData.data.message);\n              }\n\n            case 9:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n    return _onSubmitHandler.apply(this, arguments);\n  }\n\n  var openNotificationRegisterSuccess = function openNotificationRegisterSuccess() {\n    api.success({\n      message: \"\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E01\\u0E34\\u0E08\\u0E01\\u0E23\\u0E23\\u0E21\\u0E2A\\u0E33\\u0E40\\u0E23\\u0E47\\u0E08\",\n      description: 'เพิ่มกิจกรรมสำเร็จแล้ว',\n      placement: 'topRight'\n    });\n  };\n\n  var openNotificationRegisterFail = function openNotificationRegisterFail(messgae) {\n    api.error({\n      message: \"\\u0E1E\\u0E1A\\u0E1B\\u0E31\\u0E0D\\u0E2B\\u0E32\\u0E23\\u0E30\\u0E2B\\u0E27\\u0E48\\u0E32\\u0E07\\u0E01\\u0E32\\u0E23\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E01\\u0E34\\u0E08\\u0E01\\u0E23\\u0E23\\u0E21\",\n      description: messgae,\n      placement: 'topRight'\n    });\n  };\n\n  var Dragger = Upload.Dragger;\n\n  function onChange(value, dateString) {\n    // console.log('Selected Time: ', value);\n    // console.log('Formatted Selected Time: ', dateString);\n    setDate(dateString);\n  }\n\n  var _Form$useForm = Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var onReset = function onReset() {\n    setActive(1);\n    setSlide(1);\n    resetImagePreview();\n    form.resetFields();\n    setFields([{\n      name: ['activities_date'],\n      value: moment()\n    }]);\n  };\n\n  var imageUploadprops = {\n    name: 'file',\n    multiple: false,\n    listType: 'text',\n    maxCount: 1,\n    action: \"/api/upload/activities\",\n    preview: false,\n    // uid: user.type_user == 1 ? \"admin\" : user.organization_id,\n    // beforeUpload(file) {\n    // \tconst isLt10M = file.size / 1024 / 1024 < 10\n    // \tif (!isLt10M) {\n    // \t\tnotification.open({\n    // \t\t\tmessage: 'Upload error!',\n    // \t\t\tdescription: <Text className=\"text-black\">Image must smaller than 10MB!</Text>,\n    // \t\t})\n    // \t}\n    // \treturn isLt10M\n    // },\n    customRequest: function customRequest(options) {\n      var data = new FormData();\n      data.append('file', options.file);\n      data.append('id', user.type_user == 1 ? \"admin\" : user.organization_id);\n      var config = {\n        \"headers\": {\n          \"content-type\": 'multipart/form-data; boundary=----WebKitFormBoundaryqTqJIxvkWFYqvP5s'\n        }\n      };\n      axios.post(options.action, data, config).then(function (res) {\n        setImageLandingPage(res.data.data.list[0]._name);\n        options.onSuccess(res.data, options.file);\n      })[\"catch\"](function (err) {\n        console.log(err);\n      });\n    },\n    onChange: function onChange(info) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var status;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                status = info.file.status; // console.log(user)\n\n                _context.t0 = info.file.status;\n                _context.next = _context.t0 === \"done\" ? 4 : 11;\n                break;\n\n              case 4:\n                if (!(!info.file.url && !info.file.preview)) {\n                  _context.next = 8;\n                  break;\n                }\n\n                _context.next = 7;\n                return getBase64(info.file.originFileObj);\n\n              case 7:\n                info.file.preview = _context.sent;\n\n              case 8:\n                setPreviewImage(info.file.url || info.file.preview);\n                setPreviewVisible(true);\n                return _context.abrupt(\"break\", 12);\n\n              case 11:\n                // error or removed\n                resetImagePreview();\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    onRemove: function onRemove(info) {\n      console.log(\"onRemove\");\n      console.log(info);\n      resetImagePreview();\n    }\n  };\n\n  var resetImagePreview = function resetImagePreview() {\n    setPreviewVisible(false);\n    setPreviewImage(null);\n  };\n\n  function getBase64(file) {\n    return new Promise(function (resolve, reject) {\n      var reader = new FileReader();\n      reader.readAsDataURL(file);\n\n      reader.onload = function () {\n        return resolve(reader.result);\n      };\n\n      reader.onerror = function (error) {\n        return reject(error);\n      };\n    });\n  }\n\n  return __jsx(Layout, {\n    title: \"Government - Admin management\",\n    url: origin,\n    origin: origin // user={login}\n    ,\n    indexSubMenu: \"1\",\n    indexMenu: \"sub-1-0\",\n    titlePage: \"\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E02\\u0E48\\u0E32\\u0E27\\u0E01\\u0E34\\u0E08\\u0E01\\u0E23\\u0E23\\u0E21\",\n    _routes: [{\n      path: '/admin/dashborad',\n      breadcrumbName: 'หน้าหลัก'\n    }, {\n      path: '/admin/management/activities',\n      breadcrumbName: 'จัดการข่าวกิจกรรม'\n    }, {\n      path: '/admin/management/activities/add-activities',\n      breadcrumbName: 'เพิ่มข่าวกิจกรรม'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 5\n    }\n  }, contextHolder, __jsx(\"link\", {\n    rel: \"stylesheet\",\n    href: \"https://unpkg.com/react-quill@1.3.3/dist/quill.snow.css\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    className: \"w-5/6 lg:w-full mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }\n  }, __jsx(Form, {\n    name: \"basic\",\n    layout: \"vertical\",\n    onFinish: onSubmitHandler,\n    requiredMark: true,\n    form: form,\n    fields: fields,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 9\n    }\n  }, __jsx(Form.Item, {\n    name: \"activities_title\",\n    label: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E01\\u0E34\\u0E08\\u0E01\\u0E23\\u0E23\\u0E21 :\",\n    className: \"block text-gray-700 text-sm font-bold mb-2 w-full\",\n    rules: [{\n      required: true,\n      message: 'กรุณากรอกชื่อกิจกรรม'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 11\n    }\n  }, __jsx(TextArea, {\n    id: \"#\",\n    type: \"text\",\n    placeholder: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E01\\u0E34\\u0E08\\u0E01\\u0E23\\u0E23\\u0E21\",\n    className: \"resize-none border rounded-md\",\n    autoSize: {\n      minRows: 1,\n      maxRows: 3\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 13\n    }\n  })), __jsx(Form.Item, {\n    name: \"activities_detail\",\n    label: \"\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14 :\",\n    className: \"block text-gray-700 text-sm font-bold mb-2 w-full\",\n    rules: [{\n      required: true,\n      message: 'กรุณากรอกรายละเอียดกิจกรรม'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 11\n    }\n  }, __jsx(JoditEditor, {\n    ref: editor,\n    value: content,\n    config: config.config(user),\n    height: \"700px\",\n    tabIndex: 1 // tabIndex of textarea\n    ,\n    onBlur: function onBlur(newContent) {\n      return setContent(newContent);\n    } // preferred to use only this option to update the content for performance reasons\n    ,\n    onChange: function onChange(newContent) {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 13\n    }\n  })), __jsx(Form.Item, {\n    name: \"activities_image\",\n    label: \"\\u0E20\\u0E32\\u0E1E\\u0E1B\\u0E01\\u0E01\\u0E34\\u0E08\\u0E01\\u0E23\\u0E23\\u0E21 :\",\n    className: \"block text-gray-700 text-sm font-bold mb-2 w-full\",\n    rules: [{\n      required: true,\n      message: 'กรุณากรอกเลือกภาพปกกิจกรรม'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 11\n    }\n  }, __jsx(Dragger, _extends({\n    maxCount: 1 // listType=\"picture\"\n    ,\n    accept: \".jpg, .jpeg, .png\"\n  }, imageUploadprops, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 13\n    }\n  }), previewVisible && __jsx(React.Fragment, null, __jsx(Image // width={200}\n  , {\n    preview: false,\n    src: previewImage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 36\n    }\n  })), !previewVisible && __jsx(React.Fragment, null, __jsx(\"p\", {\n    className: \"ant-upload-drag-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 17\n    }\n  }, __jsx(InboxOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 19\n    }\n  })), __jsx(\"p\", {\n    className: \"ant-upload-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 17\n    }\n  }, \"\\u0E04\\u0E25\\u0E34\\u0E01 \\u0E2B\\u0E23\\u0E37\\u0E2D \\u0E25\\u0E32\\u0E01\\u0E44\\u0E1F\\u0E25\\u0E4C\\u0E21\\u0E32\\u0E17\\u0E35\\u0E48\\u0E1A\\u0E23\\u0E34\\u0E40\\u0E27\\u0E13\\u0E19\\u0E35\\u0E49\\u0E40\\u0E1E\\u0E37\\u0E48\\u0E2D\\u0E2D\\u0E31\\u0E1B\\u0E42\\u0E2B\\u0E25\\u0E14\")))), __jsx(Form.Item, {\n    name: \"activities_date\",\n    label: \"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E25\\u0E07\\u0E02\\u0E48\\u0E32\\u0E27\\u0E01\\u0E34\\u0E08\\u0E01\\u0E23\\u0E23\\u0E21 :\",\n    className: \"block text-gray-700 text-sm font-bold mb-2 w-full \",\n    rules: [{\n      required: true,\n      message: 'กรุณากรอกเลือกวันที่ลงข่าวกิจกรรม'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 11\n    }\n  }, __jsx(DatePicker, {\n    className: \"w-full\",\n    showTime: true,\n    onChange: onChange,\n    style: {\n      width: '100%'\n    },\n    defaultValue: moment(),\n    value: date,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 13\n    }\n  })), __jsx(Form.Item, {\n    name: \"activities_keyword\",\n    label: \"Keyword \\u0E2A\\u0E33\\u0E2B\\u0E23\\u0E31\\u0E1A\\u0E17\\u0E33 SEO :\",\n    className: \"block text-gray-700 text-sm font-bold mb-2 w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 11\n    }\n  }, __jsx(TextArea, {\n    id: \"#\",\n    type: \"text\",\n    placeholder: \"Keyword \\u0E2A\\u0E33\\u0E2B\\u0E23\\u0E31\\u0E1A\\u0E17\\u0E33 SEO :\",\n    className: \"resize-none border rounded-md\",\n    autoSize: {\n      minRows: 1,\n      maxRows: 3\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 13\n    }\n  })), __jsx(Form.Item, {\n    className: \"flex mt-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"lg:inline-flex w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"inline-flex text-left lg:w-1/2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 15\n    }\n  }, __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 17\n    }\n  }, __jsx(\"li\", {\n    className: \"inline-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 19\n    }\n  }, __jsx(Switch, {\n    checked: slide,\n    onClick: function onClick(value) {\n      slider(value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 21\n    }\n  }), __jsx(\"p\", {\n    className: \"mx-2 text-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 21\n    }\n  }, \"\\u0E15\\u0E49\\u0E2D\\u0E07\\u0E01\\u0E32\\u0E23\\u0E19\\u0E33\\u0E02\\u0E36\\u0E49\\u0E19 Slide\")), __jsx(\"li\", {\n    className: \"inline-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 19\n    }\n  }, __jsx(Switch, {\n    checked: active,\n    onClick: function onClick(value) {\n      actived(value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 21\n    }\n  }), __jsx(\"p\", {\n    className: \"mx-2 text-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 21\n    }\n  }, \"\\u0E01\\u0E32\\u0E23\\u0E41\\u0E2A\\u0E14\\u0E07\\u0E1C\\u0E25\")))), __jsx(\"div\", {\n    className: \"text-center lg:text-right w-full lg:w-1/2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 15\n    }\n  }, __jsx(Button, {\n    htmlType: \"button\",\n    onClick: onReset,\n    style: {\n      backgroundColor: '#C2CFE0',\n      borderColor: '#C2CFE0',\n      height: 40,\n      width: 110,\n      marginBottom: '0px !important',\n      marginRight: '2px',\n      color: 'white !important'\n    } // htmlType=\"submit\"\n    ,\n    className: \"text-center bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full lg:w-1/4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 17\n    }\n  }, __jsx(Text, {\n    className: \"text-custom-black \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 19\n    }\n  }, \"\\u0E23\\u0E35\\u0E40\\u0E0B\\u0E47\\u0E17\")), __jsx(Button // type=\"primary\"\n  , {\n    style: {\n      backgroundColor: '#059669',\n      borderColor: '#059669',\n      height: 40,\n      width: 110,\n      marginBottom: '0px !important',\n      color: 'white !important'\n    },\n    htmlType: \"submit\",\n    className: \"text-center bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full lg:w-1/4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 17\n    }\n  }, __jsx(Text, {\n    className: \"text-custom-white \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 19\n    }\n  }, \"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\"))))))));\n}\n/* getServerSideProps */\n\n_s(Home, \"iuUXRvh6bqggM0hhXsTZQFtLb5g=\", false, function () {\n  return [notification.useNotification, useRouter, Form.useForm];\n});\n\n_c3 = Home;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"JoditEditor$dynamic\");\n$RefreshReg$(_c2, \"JoditEditor\");\n$RefreshReg$(_c3, \"Home\");","map":{"version":3,"sources":["C:/Users/Sackky/Desktop/govermentlt/pages/admin/management/activities/add-activities.js"],"names":["InboxOutlined","Button","DatePicker","Form","Image","Input","notification","Switch","Typography","Upload","axios","moment","dynamic","useRouter","React","useEffect","useRef","useState","Layout","apiInstance","JoditEditor","ssr","Text","Title","TextArea","config","require","Home","props","editor","content","setContent","useNotification","api","contextHolder","user","origin","router","previewImage","setPreviewImage","imageLandingPage","setImageLandingPage","previewVisible","setPreviewVisible","slide","setSlide","slider","active","setActive","actived","date","setDate","name","value","fields","setFields","onSubmitHandler","console","log","dateStr","activities_date","format","data","organization_id","activities_title","activities_detail","activities_image","activities_keyword","is_slide","status_active","_i","post","addactivitiesData","status","openNotificationRegisterSuccess","setTimeout","push","bind","openNotificationRegisterFail","message","success","description","placement","messgae","error","Dragger","onChange","dateString","useForm","form","onReset","resetImagePreview","resetFields","imageUploadprops","multiple","listType","maxCount","action","preview","customRequest","options","FormData","append","file","type_user","then","res","list","_name","onSuccess","err","info","url","getBase64","originFileObj","onRemove","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","path","breadcrumbName","required","minRows","maxRows","newContent","width","backgroundColor","borderColor","height","marginBottom","marginRight","color"],"mappings":"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","sourcesContent":["import { InboxOutlined } from '@ant-design/icons';\r\nimport {\r\n  Button, DatePicker, Form, Image, Input, notification, Switch, Typography, Upload\r\n} from 'antd';\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\nimport dynamic from 'next/dynamic';\r\nimport { useRouter } from 'next/router';\r\n// import UserNav from '../components/navigation/User';\r\nimport React, { useEffect, useRef, useState } from 'react';\r\n/* components */\r\nimport Layout from '../../../../components/layout/LayoutAdmin';\r\n/* utils */\r\nimport {\r\n  absoluteUrl, apiInstance\r\n} from '../../../../middleware/utils';\r\n\r\n\r\nconst JoditEditor = dynamic(() => import(\"jodit-react\"), { ssr: false });\r\nconst { Text, Title } = Typography;\r\n\r\nconst { TextArea } = Input;\r\nconst config = require('./../../config');\r\n\r\nexport default function Home(props) {\r\n  const editor = useRef(null)\r\n  const [content, setContent] = useState('')\r\n  const [api, contextHolder] = notification.useNotification();\r\n  const { user, origin } = props;\r\n  const router = useRouter();\r\n  const [previewImage, setPreviewImage] = useState(null)\r\n  const [imageLandingPage, setImageLandingPage] = useState(null)\r\n  const [previewVisible, setPreviewVisible] = useState(false)\r\n\r\n\r\n  const [slide, setSlide] = useState(1);\r\n  const slider = () => {\r\n    slide ? setSlide(0) : setSlide(1);\r\n  };\r\n\r\n  const [active, setActive] = useState(1);\r\n  const actived = () => {\r\n    active ? setActive(0) : setActive(1);\r\n  };\r\n\r\n  const [date, setDate] = useState('');\r\n  const [fields, setFields] = useState([\r\n    {\r\n      name: ['activities_date'],\r\n      value: moment(),\r\n    },\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    setDate(moment())\r\n  }, []);\r\n\r\n  async function onSubmitHandler(value) {\r\n    console.log(\"date onSubmitHandler\")\r\n    // console.log(date)\r\n    var dateStr = moment(value.activities_date).format()\r\n    const data = {\r\n      organization_id: user.organization_id,\r\n      activities_title: value.activities_title,\r\n      activities_detail: value.activities_detail,\r\n      activities_image: imageLandingPage,\r\n      activities_date: dateStr,\r\n      activities_keyword: value.activities_keyword,\r\n      is_slide: slide,\r\n      status_active: active,\r\n    };\r\n    console.log(dateStr._i)\r\n    console.log(data)\r\n    const addactivitiesData = await apiInstance().post(\r\n      'admin/management/add-activities',\r\n      data,\r\n    );\r\n    if (addactivitiesData.data.status == 200) {\r\n      openNotificationRegisterSuccess();\r\n      setTimeout(function () { //Start the timer\r\n        router.push('/admin/management/activities')\r\n      }.bind(this), 2000)\r\n    } else {\r\n      openNotificationRegisterFail(addactivitiesData.data.message);\r\n    }\r\n  }\r\n\r\n\r\n  const openNotificationRegisterSuccess = () => {\r\n    api.success({\r\n      message: `เพิ่มกิจกรรมสำเร็จ`,\r\n      description: 'เพิ่มกิจกรรมสำเร็จแล้ว',\r\n      placement: 'topRight',\r\n    });\r\n  };\r\n\r\n  const openNotificationRegisterFail = messgae => {\r\n    api.error({\r\n      message: `พบปัญหาระหว่างการเพิ่มกิจกรรม`,\r\n      description: messgae,\r\n      placement: 'topRight',\r\n    });\r\n  };\r\n\r\n  const { Dragger } = Upload;\r\n\r\n\r\n  function onChange(value, dateString) {\r\n    // console.log('Selected Time: ', value);\r\n    // console.log('Formatted Selected Time: ', dateString);\r\n    setDate(dateString);\r\n  }\r\n\r\n  const [form] = Form.useForm();\r\n\r\n  const onReset = () => {\r\n    setActive(1)\r\n    setSlide(1)\r\n    resetImagePreview()\r\n    form.resetFields();\r\n    setFields([\r\n      {\r\n        name: ['activities_date'],\r\n        value: moment(),\r\n      },\r\n    ])\r\n  };\r\n\r\n  const imageUploadprops = {\r\n    name: 'file',\r\n    multiple: false,\r\n    listType: 'text',\r\n    maxCount: 1,\r\n    action: \"/api/upload/activities\",\r\n    preview: false,\r\n    // uid: user.type_user == 1 ? \"admin\" : user.organization_id,\r\n    // beforeUpload(file) {\r\n    // \tconst isLt10M = file.size / 1024 / 1024 < 10\r\n    // \tif (!isLt10M) {\r\n    // \t\tnotification.open({\r\n    // \t\t\tmessage: 'Upload error!',\r\n    // \t\t\tdescription: <Text className=\"text-black\">Image must smaller than 10MB!</Text>,\r\n    // \t\t})\r\n    // \t}\r\n    // \treturn isLt10M\r\n    // },\r\n    customRequest: (options) => {\r\n      const data = new FormData()\r\n      data.append('file', options.file)\r\n      data.append('id', user.type_user == 1 ? \"admin\" : user.organization_id)\r\n      const config = {\r\n        \"headers\": {\r\n          \"content-type\": 'multipart/form-data; boundary=----WebKitFormBoundaryqTqJIxvkWFYqvP5s'\r\n        }\r\n      }\r\n      axios.post(options.action, data, config).then((res) => {\r\n        setImageLandingPage(res.data.data.list[0]._name)\r\n        options.onSuccess(res.data, options.file)\r\n      }).catch((err) => {\r\n        console.log(err)\r\n      })\r\n\r\n    },\r\n    async onChange(info) {\r\n      const { status } = info.file\r\n      // console.log(user)\r\n      switch (info.file.status) {\r\n        // case \"uploading\":\r\n        //   nextState.selectedFileList = [info.file];\r\n        //   break;\r\n        case \"done\":\r\n          if (!info.file.url && !info.file.preview) {\r\n            info.file.preview = await getBase64(info.file.originFileObj);\r\n          }\r\n          setPreviewImage(info.file.url || info.file.preview)\r\n          setPreviewVisible(true)\r\n          break;\r\n\r\n        default:\r\n          // error or removed\r\n          resetImagePreview()\r\n      }\r\n      //console.log(info.file)\r\n\r\n      // this.setState({\r\n      //   previewImage: file.url || file.preview,\r\n      //   previewVisible: true,\r\n      // });\r\n\r\n    },\r\n    onRemove(info) {\r\n      console.log(\"onRemove\")\r\n      console.log(info)\r\n      resetImagePreview()\r\n\r\n    }\r\n  }\r\n\r\n  const resetImagePreview = () => {\r\n    setPreviewVisible(false)\r\n    setPreviewImage(null)\r\n  }\r\n\r\n  function getBase64(file) {\r\n    return new Promise((resolve, reject) => {\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => resolve(reader.result);\r\n      reader.onerror = error => reject(error);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Government - Admin management\"\r\n      url={origin}\r\n      origin={origin}\r\n      // user={login}\r\n      indexSubMenu={\"1\"}\r\n      indexMenu={\"sub-1-0\"}\r\n      titlePage=\"เพิ่มข่าวกิจกรรม\"\r\n      _routes={[\r\n        {\r\n          path: '/admin/dashborad',\r\n          breadcrumbName: 'หน้าหลัก',\r\n        },\r\n        {\r\n          path: '/admin/management/activities',\r\n          breadcrumbName: 'จัดการข่าวกิจกรรม',\r\n        },\r\n        {\r\n          path: '/admin/management/activities/add-activities',\r\n          breadcrumbName: 'เพิ่มข่าวกิจกรรม',\r\n        }\r\n      ]}\r\n    >\r\n      {contextHolder}\r\n      <link\r\n        rel=\"stylesheet\"\r\n        href=\"https://unpkg.com/react-quill@1.3.3/dist/quill.snow.css\"\r\n      ></link>\r\n\r\n      <div className=\"w-5/6 lg:w-full mx-auto\">\r\n        <Form\r\n          name=\"basic\"\r\n          layout=\"vertical\"\r\n          onFinish={onSubmitHandler}\r\n          requiredMark={true}\r\n          form={form}\r\n          fields={fields}\r\n        >\r\n          <Form.Item\r\n            name=\"activities_title\"\r\n            label=\"ชื่อกิจกรรม :\"\r\n            className=\"block text-gray-700 text-sm font-bold mb-2 w-full\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: 'กรุณากรอกชื่อกิจกรรม',\r\n              },\r\n            ]}\r\n          >\r\n            <TextArea\r\n              id=\"#\"\r\n              type=\"text\"\r\n              placeholder=\"ชื่อกิจกรรม\"\r\n              className=\"resize-none border rounded-md\"\r\n              autoSize={{ minRows: 1, maxRows: 3 }}\r\n            />\r\n          </Form.Item>\r\n          <Form.Item\r\n            name=\"activities_detail\"\r\n            label=\"รายละเอียด :\"\r\n            className=\"block text-gray-700 text-sm font-bold mb-2 w-full\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: 'กรุณากรอกรายละเอียดกิจกรรม',\r\n              },\r\n            ]}\r\n          >\r\n            <JoditEditor\r\n              ref={editor}\r\n              value={content}\r\n              config={config.config(user)}\r\n              height={\"700px\"}\r\n              tabIndex={1} // tabIndex of textarea\r\n              onBlur={newContent => setContent(newContent)} // preferred to use only this option to update the content for performance reasons\r\n              onChange={newContent => { }}\r\n            />\r\n          </Form.Item>\r\n          <Form.Item\r\n            name=\"activities_image\"\r\n            label=\"ภาพปกกิจกรรม :\"\r\n            className=\"block text-gray-700 text-sm font-bold mb-2 w-full\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: 'กรุณากรอกเลือกภาพปกกิจกรรม',\r\n              },\r\n            ]}\r\n          >\r\n            {/* <Dragger {...dropimg}> */}\r\n            <Dragger\r\n              maxCount={1}\r\n              // listType=\"picture\"\r\n              accept=\".jpg, .jpeg, .png\"\r\n              {...imageUploadprops}\r\n            >\r\n\r\n              {previewVisible && <><Image\r\n                // width={200}\r\n                preview={false}\r\n                src={previewImage}\r\n              />\r\n              </>\r\n              }\r\n              {!previewVisible && <>\r\n                <p className=\"ant-upload-drag-icon\">\r\n                  <InboxOutlined />\r\n                </p>\r\n                <p className=\"ant-upload-text\">\r\n                  คลิก หรือ ลากไฟล์มาที่บริเวณนี้เพื่ออัปโหลด\r\n                </p>\r\n              </>\r\n              }\r\n            </Dragger>\r\n          </Form.Item>\r\n          <Form.Item\r\n            name=\"activities_date\"\r\n            label=\"วันที่ลงข่าวกิจกรรม :\"\r\n            className=\"block text-gray-700 text-sm font-bold mb-2 w-full \"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: 'กรุณากรอกเลือกวันที่ลงข่าวกิจกรรม',\r\n              },\r\n            ]}\r\n          >\r\n            <DatePicker\r\n              className=\"w-full\"\r\n              showTime\r\n              onChange={onChange}\r\n              style={{\r\n                width: '100%',\r\n              }}\r\n              defaultValue={moment()}\r\n              value={date}\r\n            />\r\n          </Form.Item>\r\n          <Form.Item\r\n            name=\"activities_keyword\"\r\n            label=\"Keyword สำหรับทำ SEO :\"\r\n            className=\"block text-gray-700 text-sm font-bold mb-2 w-full\"\r\n          >\r\n            <TextArea\r\n              id=\"#\"\r\n              type=\"text\"\r\n              placeholder=\"Keyword สำหรับทำ SEO :\"\r\n              className=\"resize-none border rounded-md\"\r\n              autoSize={{ minRows: 1, maxRows: 3 }}\r\n            />\r\n          </Form.Item>\r\n          <Form.Item className=\"flex mt-6\">\r\n            <div className=\"lg:inline-flex w-full\">\r\n              <div className=\"inline-flex text-left lg:w-1/2\">\r\n                <ul>\r\n                  <li className=\"inline-flex\">\r\n                    <Switch checked={slide} onClick={(value) => { slider(value) }} />\r\n                    <p className=\"mx-2 text-sm\">ต้องการนำขึ้น Slide</p>\r\n                  </li>\r\n                  <li className=\"inline-flex\">\r\n                    <Switch checked={active} onClick={(value) => { actived(value) }} />\r\n                    <p className=\"mx-2 text-sm\">การแสดงผล</p>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n              <div className=\"text-center lg:text-right w-full lg:w-1/2\">\r\n                <Button\r\n                  htmlType=\"button\"\r\n                  onClick={onReset}\r\n                  style={{\r\n                    backgroundColor: '#C2CFE0',\r\n                    borderColor: '#C2CFE0',\r\n                    height: 40,\r\n                    width: 110,\r\n                    marginBottom: '0px !important',\r\n                    marginRight: '2px',\r\n                    color: 'white !important',\r\n                  }}\r\n                  // htmlType=\"submit\"\r\n                  className=\"text-center bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full lg:w-1/4\"\r\n                >\r\n                  <Text className=\"text-custom-black \">รีเซ็ท</Text>\r\n                </Button>\r\n                <Button\r\n                  // type=\"primary\"\r\n                  style={{\r\n                    backgroundColor: '#059669',\r\n                    borderColor: '#059669',\r\n                    height: 40,\r\n                    width: 110,\r\n                    marginBottom: '0px !important',\r\n                    color: 'white !important',\r\n                  }}\r\n                  htmlType=\"submit\"\r\n                  className=\"text-center bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full lg:w-1/4\"\r\n                >\r\n                  <Text className=\"text-custom-white \">บันทึก</Text>\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </Form.Item>\r\n        </Form>\r\n      </div>\r\n    </Layout>\r\n  );\r\n}\r\n/* getServerSideProps */\r\nexport async function getServerSideProps(context) {\r\n  const { req } = context;\r\n  const { origin } = absoluteUrl(req);\r\n\r\n  return {\r\n    props: {\r\n      origin,\r\n    },\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}