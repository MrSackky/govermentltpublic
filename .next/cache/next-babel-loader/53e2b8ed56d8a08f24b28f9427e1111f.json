{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Sackky\\\\Desktop\\\\government\\\\pages\\\\admin\\\\setting\\\\general\\\\index.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport { Input, notification, Radio, Typography } from 'antd';\nimport dynamic from 'next/dynamic';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router'; // import UserNav from '../components/navigation/User';\n\nimport React, { useEffect, useState } from 'react';\n/* components */\n\nimport Layout from '../../../../components/layout/LayoutAdmin';\n/* utils */\n\nimport { apiInstance } from '../../../../middleware/utils';\nvar JoditEditor = dynamic(_c = function _c() {\n  return import(\"jodit-react\");\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak(\"jodit-react\")];\n    },\n    modules: [\"jodit-react\"]\n  }\n});\n_c2 = JoditEditor;\nvar Text = Typography.Text,\n    Title = Typography.Title;\nvar TextArea = Input.TextArea;\n\nvar config = require('./../../config');\n\nexport var __N_SSP = true;\nexport default function Home(props) {\n  _s();\n\n  var _useState = useState(''),\n      content = _useState[0],\n      setContent = _useState[1];\n\n  var _notification$useNoti = notification.useNotification(),\n      _notification$useNoti2 = _slicedToArray(_notification$useNoti, 2),\n      api = _notification$useNoti2[0],\n      contextHolder = _notification$useNoti2[1];\n\n  var user = props.user,\n      origin = props.origin;\n  var router = useRouter();\n\n  var _useState2 = useState(null),\n      holidayData = _useState2[0],\n      setHolidayData = _useState2[1];\n\n  var _React$useState = React.useState(1),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      valuea = _React$useState2[0],\n      setValuea = _React$useState2[1];\n\n  var _React$useState3 = React.useState(1),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      valueb = _React$useState4[0],\n      setValueb = _React$useState4[1];\n\n  var _useState3 = useState(null),\n      organizationData = _useState3[0],\n      setOrganizationData = _useState3[1];\n\n  function onChangea(_x) {\n    return _onChangea.apply(this, arguments);\n  }\n\n  function _onChangea() {\n    _onChangea = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e) {\n      var data, holidayData;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              console.log('radio checked', e.target.value);\n              setValuea(e.target.value);\n              data = {\n                organization_id: user.organization_id,\n                is_use_intro: e.target.value\n              };\n              _context2.next = 5;\n              return apiInstance().put('/general', data);\n\n            case 5:\n              holidayData = _context2.sent;\n\n              if (holidayData.data.status == 200) {\n                openNotificationRegisterSuccess();\n              } else {\n                openNotificationRegisterFail(holidayData.data.message);\n              }\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _onChangea.apply(this, arguments);\n  }\n\n  useEffect(function () {\n    fetchOrganizationData();\n  }, []);\n\n  function onChangeb(_x2) {\n    return _onChangeb.apply(this, arguments);\n  }\n\n  function _onChangeb() {\n    _onChangeb = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e) {\n      var data, holidayData;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              setValueb(e.target.value);\n              data = {\n                organization_id: user.organization_id,\n                is_poll_confirm: e.target.value\n              };\n              _context3.next = 4;\n              return apiInstance().put('/general', data);\n\n            case 4:\n              holidayData = _context3.sent;\n\n              if (holidayData.data.status == 200) {\n                openNotificationRegisterSuccess();\n              } else {\n                openNotificationRegisterFail(holidayData.data.message);\n              }\n\n            case 6:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n    return _onChangeb.apply(this, arguments);\n  }\n\n  var openNotificationRegisterSuccess = function openNotificationRegisterSuccess() {\n    api.success({\n      message: \"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E2A\\u0E33\\u0E40\\u0E23\\u0E47\\u0E08\",\n      description: 'บันทึกข้อมูลสำเร็จ',\n      placement: 'topRight'\n    });\n  };\n\n  var openNotificationRegisterFail = function openNotificationRegisterFail(messgae) {\n    api.error({\n      message: \"\\u0E1E\\u0E1A\\u0E1B\\u0E31\\u0E0D\\u0E2B\\u0E32\\u0E23\\u0E30\\u0E2B\\u0E27\\u0E48\\u0E32\\u0E07\\u0E01\\u0E32\\u0E23\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\",\n      description: messgae,\n      placement: 'topRight'\n    });\n  };\n\n  var fetchOrganizationData = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _organizationData;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return apiInstance().get('organization/' + (user ? user.organization_id : 0));\n\n            case 2:\n              _organizationData = _context.sent;\n              // setValuea(_organizationData.data.organization.is_use_intro);\n              console.log('_organizationData.data.organization.is_use_intro');\n              console.log(_organizationData.data.organization.is_use_intro);\n              setValuea(_organizationData.data.organization.is_use_intro);\n              setValueb(_organizationData.data.organization.is_poll_confirm);\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function fetchOrganizationData() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(Layout, {\n    title: \"Government - Admin management\",\n    url: origin,\n    origin: origin // user={login}\n    ,\n    indexSubMenu: \"1\",\n    indexMenu: \"sub-6-3\",\n    titlePage: \"\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\\u0E2D\\u0E37\\u0E48\\u0E19\\u0E46\",\n    _routes: [{\n      path: '/admin/dashborad',\n      breadcrumbName: 'หน้าหลัก'\n    }, {\n      path: '/admin/setting/general',\n      breadcrumbName: 'จัดการอื่นๆ'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 5\n    }\n  }, contextHolder, __jsx(\"link\", {\n    rel: \"stylesheet\",\n    href: \"https://unpkg.com/react-quill@1.3.3/dist/quill.snow.css\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    className: \"text-base leading-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }, __jsx(\"p\", {\n    className: \"lg:inline-flex my-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, \"\\u0E23\\u0E30\\u0E1A\\u0E1A\\u0E41\\u0E2A\\u0E14\\u0E07\\u0E27\\u0E31\\u0E19\\u0E2B\\u0E22\\u0E38\\u0E14\\u0E1E\\u0E34\\u0E40\\u0E28\\u0E29\\u0E2D\\u0E31\\u0E15\\u0E42\\u0E19\\u0E21\\u0E31\\u0E15\\u0E34 :\"), __jsx(Radio.Group, {\n    onChange: onChangea,\n    value: valuea,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }, __jsx(Radio, {\n    value: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 15\n    }\n  }, \"\\u0E43\\u0E0A\\u0E49\"), __jsx(Radio, {\n    value: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 15\n    }\n  }, \"\\u0E44\\u0E21\\u0E48\\u0E43\\u0E0A\\u0E49\"), __jsx(Radio, {\n    value: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 15\n    }\n  }, \"\\u0E01\\u0E33\\u0E2B\\u0E19\\u0E14\\u0E40\\u0E2D\\u0E07\"))), __jsx(\"div\", {\n    className: \"lg:inline-flex mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 11\n    }\n  }, __jsx(\"span\", {\n    className: \"lg:mr-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }\n  }, \"\\u0E40\\u0E0A\\u0E48\\u0E19 \\u0E27\\u0E31\\u0E19\\u0E41\\u0E21\\u0E48 \\u0E27\\u0E31\\u0E19\\u0E1B\\u0E34\\u0E22\\u0E30\\u0E21\\u0E2B\\u0E32\\u0E23\\u0E32\\u0E0A \\u0E40\\u0E1B\\u0E47\\u0E19\\u0E15\\u0E49\\u0E19\"), __jsx(\"span\", {\n    className: \"font-bold underline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }\n  }, \"\\u0E2B\\u0E21\\u0E32\\u0E22\\u0E40\\u0E2B\\u0E15\\u0E38\"), __jsx(\"span\", {\n    className: \"lg:mx-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }\n  }, \"\\u0E2B\\u0E32\\u0E01\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\"), __jsx(\"span\", {\n    className: \"font-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }\n  }, \"\\u0E01\\u0E33\\u0E2B\\u0E19\\u0E14\\u0E40\\u0E2D\\u0E07\"), __jsx(\"span\", {\n    className: \"lg:mx-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }\n  }, \"\\u0E15\\u0E49\\u0E2D\\u0E07\\u0E17\\u0E33\\u0E01\\u0E32\\u0E23\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\\u0E01\\u0E48\\u0E2D\\u0E19\\u0E16\\u0E36\\u0E07\\u0E08\\u0E30\\u0E2A\\u0E32\\u0E21\\u0E32\\u0E23\\u0E16\\u0E08\\u0E31\\u0E01\\u0E01\\u0E32\\u0E23\\u0E27\\u0E31\\u0E19\\u0E2B\\u0E22\\u0E38\\u0E14\\u0E1E\\u0E34\\u0E40\\u0E28\\u0E29\\u0E44\\u0E14\\u0E49\")), __jsx(\"div\", {\n    className: \"py-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 11\n    }\n  }, __jsx(Link, {\n    href: \"/admin/setting/general/management-holiday\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }\n  }, __jsx(\"a\", {\n    className: \"lg:inline-flex text-center lg:w-auto w-full px-2 py-2 rounded h-8 text-white bg-green-600 font-bold items-center justify-center hover:bg-green-600 hover:text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 15\n    }\n  }, \"\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\\u0E27\\u0E31\\u0E19\\u0E2B\\u0E22\\u0E38\\u0E14\\u0E1E\\u0E34\\u0E40\\u0E28\\u0E29\"))), __jsx(\"div\", {\n    className: \"py-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 11\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  }, \"\\u0E22\\u0E37\\u0E19\\u0E22\\u0E31\\u0E19\\u0E15\\u0E31\\u0E27\\u0E15\\u0E19\\u0E01\\u0E48\\u0E2D\\u0E19\\u0E42\\u0E2B\\u0E27\\u0E14 \\u0E1C\\u0E25\\u0E2A\\u0E33\\u0E23\\u0E27\\u0E08 : \", __jsx(Radio.Group, {\n    onChange: onChangeb,\n    value: valueb,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 46\n    }\n  }, __jsx(Radio, {\n    value: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 15\n    }\n  }, \"\\u0E43\\u0E0A\\u0E49\"), __jsx(Radio, {\n    value: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 15\n    }\n  }, \"\\u0E44\\u0E21\\u0E48\\u0E43\\u0E0A\\u0E49\")))))));\n}\n/* getServerSideProps */\n\n_s(Home, \"zdjE/WQn6k720UiN5PLkSJZq/kU=\", false, function () {\n  return [notification.useNotification, useRouter];\n});\n\n_c3 = Home;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"JoditEditor$dynamic\");\n$RefreshReg$(_c2, \"JoditEditor\");\n$RefreshReg$(_c3, \"Home\");","map":{"version":3,"sources":["C:/Users/Sackky/Desktop/government/pages/admin/setting/general/index.js"],"names":["Input","notification","Radio","Typography","dynamic","Link","useRouter","React","useEffect","useState","Layout","apiInstance","JoditEditor","ssr","Text","Title","TextArea","config","require","Home","props","content","setContent","useNotification","api","contextHolder","user","origin","router","holidayData","setHolidayData","valuea","setValuea","valueb","setValueb","organizationData","setOrganizationData","onChangea","e","console","log","target","value","data","organization_id","is_use_intro","put","status","openNotificationRegisterSuccess","openNotificationRegisterFail","message","fetchOrganizationData","onChangeb","is_poll_confirm","success","description","placement","messgae","error","get","_organizationData","organization","path","breadcrumbName"],"mappings":"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","sourcesContent":["import { Input, notification, Radio, Typography } from 'antd';\r\nimport dynamic from 'next/dynamic';\r\nimport Link from 'next/link';\r\nimport { useRouter } from 'next/router';\r\n// import UserNav from '../components/navigation/User';\r\nimport React, { useEffect, useState } from 'react';\r\n/* components */\r\nimport Layout from '../../../../components/layout/LayoutAdmin';\r\n/* utils */\r\nimport {\r\n  absoluteUrl, apiInstance\r\n} from '../../../../middleware/utils';\r\n\r\n\r\nconst JoditEditor = dynamic(() => import(\"jodit-react\"), { ssr: false });\r\nconst { Text, Title } = Typography;\r\n\r\nconst { TextArea } = Input;\r\nconst config = require('./../../config');\r\n\r\nexport default function Home(props) {\r\n  const [content, setContent] = useState('')\r\n  const [api, contextHolder] = notification.useNotification();\r\n  const { user, origin } = props;\r\n  const router = useRouter();\r\n  const [holidayData, setHolidayData] = useState(null);\r\n  const [valuea, setValuea] = React.useState(1);\r\n  const [valueb, setValueb] = React.useState(1);\r\n  const [organizationData, setOrganizationData] = useState(null)\r\n\r\n  async function onChangea(e) {\r\n    console.log('radio checked', e.target.value);\r\n    setValuea(e.target.value);\r\n    const data = {\r\n      organization_id: user.organization_id,\r\n      is_use_intro: e.target.value,\r\n    };\r\n    const holidayData = await apiInstance().put(\r\n      '/general', data,\r\n    );\r\n    if (holidayData.data.status == 200) {\r\n      openNotificationRegisterSuccess();\r\n    } else {\r\n      openNotificationRegisterFail(holidayData.data.message);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchOrganizationData();\r\n  }, []);\r\n\r\n  async function onChangeb(e) {\r\n    setValueb(e.target.value);\r\n    const data = {\r\n      organization_id: user.organization_id,\r\n      is_poll_confirm: e.target.value,\r\n    };\r\n    const holidayData = await apiInstance().put(\r\n      '/general', data,\r\n    );\r\n    if (holidayData.data.status == 200) {\r\n      openNotificationRegisterSuccess();\r\n    } else {\r\n      openNotificationRegisterFail(holidayData.data.message);\r\n    }\r\n  }\r\n\r\n  const openNotificationRegisterSuccess = () => {\r\n    api.success({\r\n      message: `บันทึกข้อมูลสำเร็จ`,\r\n      description: 'บันทึกข้อมูลสำเร็จ',\r\n      placement: 'topRight',\r\n    });\r\n  };\r\n\r\n  const openNotificationRegisterFail = messgae => {\r\n    api.error({\r\n      message: `พบปัญหาระหว่างการบันทึกข้อมูล`,\r\n      description: messgae,\r\n      placement: 'topRight',\r\n    });\r\n\r\n  };\r\n\r\n\r\n  const fetchOrganizationData = async () => {\r\n    const _organizationData = await apiInstance().get(\r\n      'organization/' + (user ? user.organization_id : 0)\r\n    );\r\n    // setValuea(_organizationData.data.organization.is_use_intro);\r\n    console.log('_organizationData.data.organization.is_use_intro')\r\n    console.log(_organizationData.data.organization.is_use_intro)\r\n    setValuea(_organizationData.data.organization.is_use_intro);\r\n    setValueb(_organizationData.data.organization.is_poll_confirm);\r\n  };\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Government - Admin management\"\r\n      url={origin}\r\n      origin={origin}\r\n      // user={login}\r\n      indexSubMenu={\"1\"}\r\n      indexMenu={\"sub-6-3\"}\r\n      titlePage=\"จัดการอื่นๆ\"\r\n      _routes={[\r\n        {\r\n          path: '/admin/dashborad',\r\n          breadcrumbName: 'หน้าหลัก',\r\n        },\r\n        {\r\n          path: '/admin/setting/general',\r\n          breadcrumbName: 'จัดการอื่นๆ',\r\n        },\r\n      ]}\r\n    >\r\n      {contextHolder}\r\n      <link\r\n        rel=\"stylesheet\"\r\n        href=\"https://unpkg.com/react-quill@1.3.3/dist/quill.snow.css\"\r\n      ></link>\r\n      <div className=\"text-base leading-3\">\r\n        <div>\r\n          <div>\r\n            <p className=\"lg:inline-flex my-2\">ระบบแสดงวันหยุดพิเศษอัตโนมัติ :\r\n            </p>\r\n            <Radio.Group onChange={onChangea} value={valuea}>\r\n              <Radio value={1}>ใช้</Radio>\r\n              <Radio value={0}>ไม่ใช้</Radio>\r\n              <Radio value={2}>กำหนดเอง</Radio>\r\n            </Radio.Group>\r\n          </div>\r\n          <div className=\"lg:inline-flex mb-3\">\r\n            <span className=\"lg:mr-1\">\r\n              เช่น วันแม่ วันปิยะมหาราช เป็นต้น\r\n            </span>\r\n            <span className=\"font-bold underline\">\r\n              หมายเหตุ\r\n            </span>\r\n            <span className=\"lg:mx-1\">\r\n              หากเลือก\r\n            </span>\r\n            <span className=\"font-bold\">\r\n              กำหนดเอง\r\n            </span>\r\n            <span className=\"lg:mx-1\">\r\n              ต้องทำการบันทึกก่อนถึงจะสามารถจักการวันหยุดพิเศษได้\r\n            </span>\r\n          </div>\r\n          <div className=\"py-2\">\r\n            <Link href=\"/admin/setting/general/management-holiday\">\r\n              <a\r\n                className=\"lg:inline-flex text-center lg:w-auto w-full px-2 py-2 rounded h-8 text-white bg-green-600 font-bold items-center justify-center hover:bg-green-600 hover:text-white\"\r\n              >\r\n                จัดการวันหยุดพิเศษ\r\n              </a>\r\n            </Link>\r\n          </div>\r\n          <div className=\"py-2\">\r\n            <p>ยืนยันตัวตนก่อนโหวด ผลสำรวจ : <Radio.Group onChange={onChangeb} value={valueb}>\r\n              <Radio value={1}>ใช้</Radio>\r\n              <Radio value={0}>ไม่ใช้</Radio>\r\n            </Radio.Group>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n}\r\n/* getServerSideProps */\r\nexport async function getServerSideProps(context) {\r\n  const { req } = context;\r\n  const { origin } = absoluteUrl(req);\r\n\r\n  return {\r\n    props: {\r\n      origin,\r\n    },\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}