{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sackky\\\\Desktop\\\\government\\\\pages\\\\admin\\\\setting\\\\general\\\\index.js\";\nvar __jsx = React.createElement;\nimport { Input, notification, Radio, Typography } from 'antd';\nimport dynamic from 'next/dynamic';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router'; // import UserNav from '../components/navigation/User';\n\nimport React, { useEffect, useState } from 'react';\n/* components */\n\nimport Layout from '../../../../components/layout/LayoutAdmin';\n/* utils */\n\nimport { absoluteUrl, apiInstance } from '../../../../middleware/utils';\nconst JoditEditor = dynamic(() => import(\"jodit-react\"), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak(\"jodit-react\")],\n    modules: [\"jodit-react\"]\n  }\n});\nconst {\n  Text,\n  Title\n} = Typography;\nconst {\n  TextArea\n} = Input;\n\nconst config = require('./../../config');\n\nexport default function Home(props) {\n  const {\n    0: content,\n    1: setContent\n  } = useState('');\n  const [api, contextHolder] = notification.useNotification();\n  const {\n    user,\n    origin\n  } = props;\n  const router = useRouter();\n  const {\n    0: holidayData,\n    1: setHolidayData\n  } = useState(null);\n  const [valuea, setValuea] = React.useState(1);\n  const [valueb, setValueb] = React.useState(1);\n  const {\n    0: organizationData,\n    1: setOrganizationData\n  } = useState(null);\n\n  async function onChangea(e) {\n    console.log('radio checked', e.target.value);\n    setValuea(e.target.value);\n    const data = {\n      organization_id: user.organization_id,\n      is_use_intro: e.target.value\n    };\n    const holidayData = await apiInstance().put('/general', data);\n\n    if (holidayData.data.status == 200) {\n      openNotificationRegisterSuccess();\n    } else {\n      openNotificationRegisterFail(holidayData.data.message);\n    }\n  }\n\n  useEffect(() => {\n    fetchOrganizationData();\n  }, []);\n\n  async function onChangeb(e) {\n    setValueb(e.target.value);\n    const data = {\n      organization_id: user.organization_id,\n      is_poll_confirm: e.target.value\n    };\n    const holidayData = await apiInstance().put('/general', data);\n\n    if (holidayData.data.status == 200) {\n      openNotificationRegisterSuccess();\n    } else {\n      openNotificationRegisterFail(holidayData.data.message);\n    }\n  }\n\n  const openNotificationRegisterSuccess = () => {\n    api.success({\n      message: `บันทึกข้อมูลสำเร็จ`,\n      description: 'บันทึกข้อมูลสำเร็จ',\n      placement: 'topRight'\n    });\n  };\n\n  const openNotificationRegisterFail = messgae => {\n    api.error({\n      message: `พบปัญหาระหว่างการบันทึกข้อมูล`,\n      description: messgae,\n      placement: 'topRight'\n    });\n  };\n\n  const fetchOrganizationData = async () => {\n    const _organizationData = await apiInstance().get('organization/' + (user ? user.organization_id : 0)); // setValuea(_organizationData.data.organization.is_use_intro);\n\n\n    console.log('_organizationData.data.organization.is_use_intro');\n    console.log(_organizationData.data.organization.is_use_intro);\n    setValuea(_organizationData.data.organization.is_use_intro);\n    setValueb(_organizationData.data.organization.is_poll_confirm);\n  };\n\n  return __jsx(Layout, {\n    title: \"Government - Admin management\",\n    url: origin,\n    origin: origin // user={login}\n    ,\n    indexSubMenu: \"1\",\n    indexMenu: \"sub-6-3\",\n    titlePage: \"\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\\u0E2D\\u0E37\\u0E48\\u0E19\\u0E46\",\n    _routes: [{\n      path: '/admin/dashborad',\n      breadcrumbName: 'หน้าหลัก'\n    }, {\n      path: '/admin/setting/general',\n      breadcrumbName: 'จัดการอื่นๆ'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 5\n    }\n  }, contextHolder, __jsx(\"link\", {\n    rel: \"stylesheet\",\n    href: \"https://unpkg.com/react-quill@1.3.3/dist/quill.snow.css\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    className: \"text-base leading-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }, __jsx(\"p\", {\n    className: \"lg:inline-flex my-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, \"\\u0E23\\u0E30\\u0E1A\\u0E1A\\u0E41\\u0E2A\\u0E14\\u0E07\\u0E27\\u0E31\\u0E19\\u0E2B\\u0E22\\u0E38\\u0E14\\u0E1E\\u0E34\\u0E40\\u0E28\\u0E29\\u0E2D\\u0E31\\u0E15\\u0E42\\u0E19\\u0E21\\u0E31\\u0E15\\u0E34 :\"), __jsx(Radio.Group, {\n    onChange: onChangea,\n    value: valuea,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }, __jsx(Radio, {\n    value: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 15\n    }\n  }, \"\\u0E43\\u0E0A\\u0E49\"), __jsx(Radio, {\n    value: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 15\n    }\n  }, \"\\u0E44\\u0E21\\u0E48\\u0E43\\u0E0A\\u0E49\"), __jsx(Radio, {\n    value: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 15\n    }\n  }, \"\\u0E01\\u0E33\\u0E2B\\u0E19\\u0E14\\u0E40\\u0E2D\\u0E07\"))), __jsx(\"div\", {\n    className: \"lg:inline-flex mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 11\n    }\n  }, __jsx(\"span\", {\n    className: \"lg:mr-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }\n  }, \"\\u0E40\\u0E0A\\u0E48\\u0E19 \\u0E27\\u0E31\\u0E19\\u0E41\\u0E21\\u0E48 \\u0E27\\u0E31\\u0E19\\u0E1B\\u0E34\\u0E22\\u0E30\\u0E21\\u0E2B\\u0E32\\u0E23\\u0E32\\u0E0A \\u0E40\\u0E1B\\u0E47\\u0E19\\u0E15\\u0E49\\u0E19\"), __jsx(\"span\", {\n    className: \"font-bold underline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }\n  }, \"\\u0E2B\\u0E21\\u0E32\\u0E22\\u0E40\\u0E2B\\u0E15\\u0E38\"), __jsx(\"span\", {\n    className: \"lg:mx-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }\n  }, \"\\u0E2B\\u0E32\\u0E01\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\"), __jsx(\"span\", {\n    className: \"font-bold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }\n  }, \"\\u0E01\\u0E33\\u0E2B\\u0E19\\u0E14\\u0E40\\u0E2D\\u0E07\"), __jsx(\"span\", {\n    className: \"lg:mx-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }\n  }, \"\\u0E15\\u0E49\\u0E2D\\u0E07\\u0E17\\u0E33\\u0E01\\u0E32\\u0E23\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\\u0E01\\u0E48\\u0E2D\\u0E19\\u0E16\\u0E36\\u0E07\\u0E08\\u0E30\\u0E2A\\u0E32\\u0E21\\u0E32\\u0E23\\u0E16\\u0E08\\u0E31\\u0E01\\u0E01\\u0E32\\u0E23\\u0E27\\u0E31\\u0E19\\u0E2B\\u0E22\\u0E38\\u0E14\\u0E1E\\u0E34\\u0E40\\u0E28\\u0E29\\u0E44\\u0E14\\u0E49\")), __jsx(\"div\", {\n    className: \"py-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 11\n    }\n  }, __jsx(Link, {\n    href: \"/admin/setting/general/management-holiday\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }\n  }, __jsx(\"a\", {\n    className: \"lg:inline-flex text-center lg:w-auto w-full px-2 py-2 rounded h-8 text-white bg-green-600 font-bold items-center justify-center hover:bg-green-600 hover:text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 15\n    }\n  }, \"\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\\u0E27\\u0E31\\u0E19\\u0E2B\\u0E22\\u0E38\\u0E14\\u0E1E\\u0E34\\u0E40\\u0E28\\u0E29\"))), __jsx(\"div\", {\n    className: \"py-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 11\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  }, \"\\u0E22\\u0E37\\u0E19\\u0E22\\u0E31\\u0E19\\u0E15\\u0E31\\u0E27\\u0E15\\u0E19\\u0E01\\u0E48\\u0E2D\\u0E19\\u0E42\\u0E2B\\u0E27\\u0E14 \\u0E1C\\u0E25\\u0E2A\\u0E33\\u0E23\\u0E27\\u0E08 : \", __jsx(Radio.Group, {\n    onChange: onChangeb,\n    value: valueb,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 46\n    }\n  }, __jsx(Radio, {\n    value: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 15\n    }\n  }, \"\\u0E43\\u0E0A\\u0E49\"), __jsx(Radio, {\n    value: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 15\n    }\n  }, \"\\u0E44\\u0E21\\u0E48\\u0E43\\u0E0A\\u0E49\")))))));\n}\n/* getServerSideProps */\n\nexport async function getServerSideProps(context) {\n  const {\n    req\n  } = context;\n  const {\n    origin\n  } = absoluteUrl(req);\n  return {\n    props: {\n      origin\n    }\n  };\n}","map":{"version":3,"sources":["C:/Users/Sackky/Desktop/government/pages/admin/setting/general/index.js"],"names":["Input","notification","Radio","Typography","dynamic","Link","useRouter","React","useEffect","useState","Layout","absoluteUrl","apiInstance","JoditEditor","ssr","Text","Title","TextArea","config","require","Home","props","content","setContent","api","contextHolder","useNotification","user","origin","router","holidayData","setHolidayData","valuea","setValuea","valueb","setValueb","organizationData","setOrganizationData","onChangea","e","console","log","target","value","data","organization_id","is_use_intro","put","status","openNotificationRegisterSuccess","openNotificationRegisterFail","message","fetchOrganizationData","onChangeb","is_poll_confirm","success","description","placement","messgae","error","_organizationData","get","organization","path","breadcrumbName","getServerSideProps","context","req"],"mappings":"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","sourcesContent":["import { Input, notification, Radio, Typography } from 'antd';\r\nimport dynamic from 'next/dynamic';\r\nimport Link from 'next/link';\r\nimport { useRouter } from 'next/router';\r\n// import UserNav from '../components/navigation/User';\r\nimport React, { useEffect, useState } from 'react';\r\n/* components */\r\nimport Layout from '../../../../components/layout/LayoutAdmin';\r\n/* utils */\r\nimport {\r\n  absoluteUrl, apiInstance\r\n} from '../../../../middleware/utils';\r\n\r\n\r\nconst JoditEditor = dynamic(() => import(\"jodit-react\"), { ssr: false });\r\nconst { Text, Title } = Typography;\r\n\r\nconst { TextArea } = Input;\r\nconst config = require('./../../config');\r\n\r\nexport default function Home(props) {\r\n  const [content, setContent] = useState('')\r\n  const [api, contextHolder] = notification.useNotification();\r\n  const { user, origin } = props;\r\n  const router = useRouter();\r\n  const [holidayData, setHolidayData] = useState(null);\r\n  const [valuea, setValuea] = React.useState(1);\r\n  const [valueb, setValueb] = React.useState(1);\r\n  const [organizationData, setOrganizationData] = useState(null)\r\n\r\n  async function onChangea(e) {\r\n    console.log('radio checked', e.target.value);\r\n    setValuea(e.target.value);\r\n    const data = {\r\n      organization_id: user.organization_id,\r\n      is_use_intro: e.target.value,\r\n    };\r\n    const holidayData = await apiInstance().put(\r\n      '/general', data,\r\n    );\r\n    if (holidayData.data.status == 200) {\r\n      openNotificationRegisterSuccess();\r\n    } else {\r\n      openNotificationRegisterFail(holidayData.data.message);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchOrganizationData();\r\n  }, []);\r\n\r\n  async function onChangeb(e) {\r\n    setValueb(e.target.value);\r\n    const data = {\r\n      organization_id: user.organization_id,\r\n      is_poll_confirm: e.target.value,\r\n    };\r\n    const holidayData = await apiInstance().put(\r\n      '/general', data,\r\n    );\r\n    if (holidayData.data.status == 200) {\r\n      openNotificationRegisterSuccess();\r\n    } else {\r\n      openNotificationRegisterFail(holidayData.data.message);\r\n    }\r\n  }\r\n\r\n  const openNotificationRegisterSuccess = () => {\r\n    api.success({\r\n      message: `บันทึกข้อมูลสำเร็จ`,\r\n      description: 'บันทึกข้อมูลสำเร็จ',\r\n      placement: 'topRight',\r\n    });\r\n  };\r\n\r\n  const openNotificationRegisterFail = messgae => {\r\n    api.error({\r\n      message: `พบปัญหาระหว่างการบันทึกข้อมูล`,\r\n      description: messgae,\r\n      placement: 'topRight',\r\n    });\r\n\r\n  };\r\n\r\n\r\n  const fetchOrganizationData = async () => {\r\n    const _organizationData = await apiInstance().get(\r\n      'organization/' + (user ? user.organization_id : 0)\r\n    );\r\n    // setValuea(_organizationData.data.organization.is_use_intro);\r\n    console.log('_organizationData.data.organization.is_use_intro')\r\n    console.log(_organizationData.data.organization.is_use_intro)\r\n    setValuea(_organizationData.data.organization.is_use_intro);\r\n    setValueb(_organizationData.data.organization.is_poll_confirm);\r\n  };\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Government - Admin management\"\r\n      url={origin}\r\n      origin={origin}\r\n      // user={login}\r\n      indexSubMenu={\"1\"}\r\n      indexMenu={\"sub-6-3\"}\r\n      titlePage=\"จัดการอื่นๆ\"\r\n      _routes={[\r\n        {\r\n          path: '/admin/dashborad',\r\n          breadcrumbName: 'หน้าหลัก',\r\n        },\r\n        {\r\n          path: '/admin/setting/general',\r\n          breadcrumbName: 'จัดการอื่นๆ',\r\n        },\r\n      ]}\r\n    >\r\n      {contextHolder}\r\n      <link\r\n        rel=\"stylesheet\"\r\n        href=\"https://unpkg.com/react-quill@1.3.3/dist/quill.snow.css\"\r\n      ></link>\r\n      <div className=\"text-base leading-3\">\r\n        <div>\r\n          <div>\r\n            <p className=\"lg:inline-flex my-2\">ระบบแสดงวันหยุดพิเศษอัตโนมัติ :\r\n            </p>\r\n            <Radio.Group onChange={onChangea} value={valuea}>\r\n              <Radio value={1}>ใช้</Radio>\r\n              <Radio value={0}>ไม่ใช้</Radio>\r\n              <Radio value={2}>กำหนดเอง</Radio>\r\n            </Radio.Group>\r\n          </div>\r\n          <div className=\"lg:inline-flex mb-3\">\r\n            <span className=\"lg:mr-1\">\r\n              เช่น วันแม่ วันปิยะมหาราช เป็นต้น\r\n            </span>\r\n            <span className=\"font-bold underline\">\r\n              หมายเหตุ\r\n            </span>\r\n            <span className=\"lg:mx-1\">\r\n              หากเลือก\r\n            </span>\r\n            <span className=\"font-bold\">\r\n              กำหนดเอง\r\n            </span>\r\n            <span className=\"lg:mx-1\">\r\n              ต้องทำการบันทึกก่อนถึงจะสามารถจักการวันหยุดพิเศษได้\r\n            </span>\r\n          </div>\r\n          <div className=\"py-2\">\r\n            <Link href=\"/admin/setting/general/management-holiday\">\r\n              <a\r\n                className=\"lg:inline-flex text-center lg:w-auto w-full px-2 py-2 rounded h-8 text-white bg-green-600 font-bold items-center justify-center hover:bg-green-600 hover:text-white\"\r\n              >\r\n                จัดการวันหยุดพิเศษ\r\n              </a>\r\n            </Link>\r\n          </div>\r\n          <div className=\"py-2\">\r\n            <p>ยืนยันตัวตนก่อนโหวด ผลสำรวจ : <Radio.Group onChange={onChangeb} value={valueb}>\r\n              <Radio value={1}>ใช้</Radio>\r\n              <Radio value={0}>ไม่ใช้</Radio>\r\n            </Radio.Group>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n}\r\n/* getServerSideProps */\r\nexport async function getServerSideProps(context) {\r\n  const { req } = context;\r\n  const { origin } = absoluteUrl(req);\r\n\r\n  return {\r\n    props: {\r\n      origin,\r\n    },\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}