{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sackky\\\\Desktop\\\\government\\\\pages\\\\admin\\\\dashborad\\\\index-admin.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Link from 'next/link';\n/* utils */\n\nimport { absoluteUrl, checkIsLogin, apiInstance, bytesToSize, convertDatetoThaiDate, bytesToMB, getDatediff } from '../../../middleware/utils';\n/* components */\n\nimport Layout from '../../../components/layout/LayoutAdmin'; // import UserNav from '../components/navigation/User';\n\nimport { useEffect, useState } from 'react';\nimport Chart from \"react-google-charts\";\nimport { Carousel, Row, Col, Typography, Image, Button, Input, Card, Statistic } from 'antd';\nconst {\n  Text,\n  Title\n} = Typography;\nconst {\n  TextArea\n} = Input;\nexport default function Home(props) {\n  const {\n    origin,\n    userInfo\n  } = props;\n  const {\n    0: news,\n    1: setNews\n  } = useState(null);\n  const {\n    0: packageInfo,\n    1: setPackageInfo\n  } = useState(null);\n  const {\n    0: sizePackage,\n    1: setSizePackage\n  } = useState(\"0 mb\");\n  const {\n    0: sizeFree,\n    1: setSizeFree\n  } = useState(0);\n  const {\n    0: sizeUsed,\n    1: setSizeUsed\n  } = useState(0);\n  const {\n    0: datediffExpried,\n    1: setDatediffExpried\n  } = useState(0);\n  const {\n    0: colorExpried,\n    1: setColorExpried\n  } = useState(\"bg-green-600\");\n  const {\n    0: data,\n    1: setData\n  } = useState([[\"Disk used\", \"Disk free\"], [\"Disk used\", 0.05], [\"Disk free\", 49.65]]);\n  const pieOptions = {\n    title: \"\",\n    pieHole: 0.5,\n    slices: [{\n      color: \"#2BB673\"\n    }, {\n      color: \"#4d4d4d\"\n    }, {\n      color: \"#007fad\"\n    }, {\n      color: \"#e9a227\"\n    }],\n    legend: {\n      position: \"bottom\",\n      alignment: \"center\",\n      textStyle: {\n        color: \"233238\",\n        fontSize: 14\n      }\n    },\n    tooltip: {\n      showColorCode: true\n    },\n    chartArea: {\n      left: 0,\n      top: 0,\n      width: \"100%\",\n      height: \"80%\"\n    },\n    fontName: \"Roboto\"\n  };\n  useEffect(() => {\n    fetchOrganizationData();\n    fetchPackageData();\n  }, []);\n\n  const fetchOrganizationData = async () => {\n    var _datediffExpried = await getDatediff(userInfo.date_expired);\n\n    console.log(\"_datediffExpried\");\n    console.log(_datediffExpried);\n\n    if (parseInt(_datediffExpried) < 0) {\n      setColorExpried(\"bg-red-600\");\n      console.log(\"_datediffExpried bg-red-600\");\n    } else if (parseInt(_datediffExpried) <= 30) {\n      setColorExpried(\"bg-yellow-600\");\n      console.log(\"_datediffExpried bg-yellow-600\");\n    }\n\n    setDatediffExpried(_datediffExpried);\n\n    const _size = bytesToMB(userInfo ? userInfo.size_used : 0);\n\n    setSizeUsed(_size);\n\n    const _newsData = await apiInstance().get('information-news/1');\n\n    setNews(_newsData.data.information_news);\n  };\n\n  const fetchPackageData = async () => {\n    const _data = await apiInstance().get('package/' + (userInfo ? userInfo.package_id : 0));\n\n    if (_data.data.packageData.size_limit == -1) {\n      setSizePackage(\"UNLIMITED\");\n    } else {\n      const _size = await bytesToSize(_data.data.packageData.size_limit);\n\n      setSizePackage(_size);\n\n      let _sizeFree = await bytesToMB(_data.data.packageData.size_limit);\n\n      let _sizeUsed = await bytesToMB(userInfo ? userInfo.size_used : 0); // console.log(\"_sizeUsed: \" + _sizeUsed)\n      // console.log(\"_sizeFree: \" + _sizeFree)\n\n\n      setData([['Pizza', 'Popularity'], ['Size Used', parseFloat(_sizeUsed)], ['Size Free', parseFloat(_sizeFree)]]);\n    }\n\n    setPackageInfo(_data.data.packageData);\n  };\n\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 5\n    }\n  }, __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }\n  }, __jsx(Col, {\n    span: 20,\n    className: \"p-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: news ? news.infor_detail : \"\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 11\n    }\n  })), __jsx(Col, {\n    span: 4,\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 9\n    }\n  }, __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 11\n    }\n  }, __jsx(Col, {\n    span: 24,\n    className: colorExpried + \" p-8 rounded-lg text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }\n  }, \"\\u0E41\\u0E1E\\u0E04\\u0E40\\u0E01\\u0E08: \", packageInfo ? packageInfo.name_package : \"\", \" \", sizePackage, __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 15\n    }\n  }), \"\\u0E27\\u0E31\\u0E19\\u0E2B\\u0E21\\u0E14\\u0E2D\\u0E32\\u0E22\\u0E38 \", userInfo ? convertDatetoThaiDate(userInfo.date_expired) : \"\", __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 15\n    }\n  }), \"(\", datediffExpried + \" วัน\", \")\")), __jsx(Row, {\n    className: \" border-green-600 border-2 rounded-lg mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 11\n    }\n  }, __jsx(Col, {\n    span: 24,\n    className: \"mt-2 p-8 pt-2 \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  }, \"\\u0E1E\\u0E37\\u0E19\\u0E17\\u0E35\\u0E48\\u0E43\\u0E0A\\u0E49\\u0E44\\u0E1B \", sizeUsed ? sizeUsed == 'NaN' ? 0 : sizeUsed : 0, \" MB\", __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 81\n    }\n  }), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 87\n    }\n  }), __jsx(Chart, {\n    chartType: \"PieChart\",\n    data: data,\n    options: pieOptions,\n    graph_id: \"PieChart\" // width={\"90%\"}\n    // height={\"400px\"}\n    ,\n    loader: __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 25\n      }\n    }, \"Loading Chart\"),\n    legend_toggle: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 15\n    }\n  }))))));\n}\n/* getServerSideProps */\n\nexport async function getServerSideProps(context) {\n  const {\n    req\n  } = context;\n  const {\n    origin\n  } = absoluteUrl(req);\n  return {\n    props: {\n      origin\n    }\n  };\n}","map":{"version":3,"sources":["C:/Users/Sackky/Desktop/government/pages/admin/dashborad/index-admin.js"],"names":["Link","absoluteUrl","checkIsLogin","apiInstance","bytesToSize","convertDatetoThaiDate","bytesToMB","getDatediff","Layout","useEffect","useState","Chart","Carousel","Row","Col","Typography","Image","Button","Input","Card","Statistic","Text","Title","TextArea","Home","props","origin","userInfo","news","setNews","packageInfo","setPackageInfo","sizePackage","setSizePackage","sizeFree","setSizeFree","sizeUsed","setSizeUsed","datediffExpried","setDatediffExpried","colorExpried","setColorExpried","data","setData","pieOptions","title","pieHole","slices","color","legend","position","alignment","textStyle","fontSize","tooltip","showColorCode","chartArea","left","top","width","height","fontName","fetchOrganizationData","fetchPackageData","_datediffExpried","date_expired","console","log","parseInt","_size","size_used","_newsData","get","information_news","_data","package_id","packageData","size_limit","_sizeFree","_sizeUsed","parseFloat","__html","infor_detail","name_package","getServerSideProps","context","req"],"mappings":"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","sourcesContent":["import Link from 'next/link';\r\n\r\n/* utils */\r\nimport { absoluteUrl, checkIsLogin, apiInstance, bytesToSize, convertDatetoThaiDate, bytesToMB, getDatediff } from '../../../middleware/utils';\r\n\r\n/* components */\r\nimport Layout from '../../../components/layout/LayoutAdmin';\r\n// import UserNav from '../components/navigation/User';\r\nimport { useEffect, useState } from 'react'\r\nimport Chart from \"react-google-charts\";\r\n\r\n\r\nimport {\r\n  Carousel,\r\n  Row,\r\n  Col,\r\n  Typography,\r\n  Image,\r\n  Button,\r\n  Input,\r\n  Card,\r\n  Statistic\r\n} from 'antd';\r\nconst { Text, Title } = Typography;\r\n\r\nconst { TextArea } = Input;\r\n\r\nexport default function Home(props) {\r\n  const { origin, userInfo } = props;\r\n  const [news, setNews] = useState(null)\r\n  const [packageInfo, setPackageInfo] = useState(null)\r\n  const [sizePackage, setSizePackage] = useState(\"0 mb\")\r\n  const [sizeFree, setSizeFree] = useState(0)\r\n  const [sizeUsed, setSizeUsed] = useState(0)\r\n  const [datediffExpried, setDatediffExpried] = useState(0)\r\n  const [colorExpried, setColorExpried] = useState(\"bg-green-600\")\r\n\r\n  const [data, setData] = useState(\r\n    [\r\n      [\"Disk used\", \"Disk free\"],\r\n      [\"Disk used\", 0.05],\r\n      [\"Disk free\", 49.65]\r\n    ])\r\n\r\n\r\n  const pieOptions = {\r\n    title: \"\",\r\n    pieHole: 0.5,\r\n    slices: [\r\n      {\r\n        color: \"#2BB673\"\r\n      },\r\n      {\r\n        color: \"#4d4d4d\"\r\n      },\r\n      {\r\n        color: \"#007fad\"\r\n      },\r\n      {\r\n        color: \"#e9a227\"\r\n      }\r\n    ],\r\n    legend: {\r\n      position: \"bottom\",\r\n      alignment: \"center\",\r\n      textStyle: {\r\n        color: \"233238\",\r\n        fontSize: 14\r\n      }\r\n    },\r\n    tooltip: {\r\n      showColorCode: true\r\n    },\r\n    chartArea: {\r\n      left: 0,\r\n      top: 0,\r\n      width: \"100%\",\r\n      height: \"80%\",\r\n    },\r\n    fontName: \"Roboto\"\r\n  };\r\n\r\n  useEffect(() => {\r\n\r\n    fetchOrganizationData()\r\n    fetchPackageData()\r\n  }, [])\r\n\r\n  const fetchOrganizationData = async () => {\r\n    var _datediffExpried = await getDatediff(userInfo.date_expired)\r\n    console.log(\"_datediffExpried\")\r\n    console.log(_datediffExpried)\r\n    if (parseInt(_datediffExpried) < 0) {\r\n      setColorExpried(\"bg-red-600\")\r\n      console.log(\"_datediffExpried bg-red-600\")\r\n\r\n    } else if (parseInt(_datediffExpried) <= 30) {\r\n      setColorExpried(\"bg-yellow-600\")\r\n      console.log(\"_datediffExpried bg-yellow-600\")\r\n\r\n\r\n    }\r\n\r\n    setDatediffExpried(_datediffExpried)\r\n    const _size = bytesToMB(userInfo ? userInfo.size_used : 0)\r\n    setSizeUsed(_size)\r\n    const _newsData = await apiInstance().get(\r\n      'information-news/1'\r\n    );\r\n    setNews(_newsData.data.information_news)\r\n  }\r\n\r\n  const fetchPackageData = async () => {\r\n\r\n    const _data = await apiInstance().get(\r\n      'package/' + (userInfo ? userInfo.package_id : 0)\r\n    );\r\n    if (_data.data.packageData.size_limit == -1) {\r\n      setSizePackage(\"UNLIMITED\")\r\n    } else {\r\n      const _size = await bytesToSize(_data.data.packageData.size_limit)\r\n      setSizePackage(_size)\r\n      let _sizeFree = await bytesToMB(_data.data.packageData.size_limit)\r\n      let _sizeUsed = await bytesToMB(userInfo ? userInfo.size_used : 0)\r\n      // console.log(\"_sizeUsed: \" + _sizeUsed)\r\n      // console.log(\"_sizeFree: \" + _sizeFree)\r\n\r\n\r\n      setData(\r\n        [\r\n          ['Pizza', 'Popularity'],\r\n          ['Size Used', parseFloat(_sizeUsed)],\r\n          ['Size Free', parseFloat(_sizeFree)],\r\n        ]\r\n      )\r\n    }\r\n    setPackageInfo(_data.data.packageData)\r\n\r\n\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Row>\r\n        <Col span={20} className=\"p-8\">\r\n          <div dangerouslySetInnerHTML={{ __html: news ? news.infor_detail : \"\" }} />\r\n          {/* {news ? news.infor_detail : \"\"} */}\r\n        </Col>\r\n        <Col span={4} className=\"\">\r\n          {/* AA{JSON.stringify(userInfo)}BB<br /> */}\r\n          {/* AA{JSON.stringify(packageInfo)}BB */}\r\n          <Row>\r\n            <Col span={24} className={colorExpried + \" p-8 rounded-lg text-white\"}>\r\n              แพคเกจ: {packageInfo ? packageInfo.name_package : \"\"} {sizePackage}\r\n              <br />วันหมดอายุ {userInfo ? convertDatetoThaiDate(userInfo.date_expired) : \"\"}\r\n              <br />({datediffExpried + \" วัน\"})\r\n            </Col>\r\n          </Row>\r\n          <Row className=\" border-green-600 border-2 rounded-lg mt-2\">\r\n            <Col span={24} className=\"mt-2 p-8 pt-2 \">\r\n              พืนที่ใช้ไป {sizeUsed ? (sizeUsed == 'NaN' ? 0 : sizeUsed) : 0} MB<br /><br />\r\n              <Chart\r\n                chartType=\"PieChart\"\r\n                data={data}\r\n                options={pieOptions}\r\n                graph_id=\"PieChart\"\r\n                // width={\"90%\"}\r\n                // height={\"400px\"}\r\n                loader={<div>Loading Chart</div>}\r\n                legend_toggle\r\n              />\r\n            </Col>\r\n          </Row>\r\n        </Col>\r\n      </Row >\r\n    </div >\r\n  );\r\n}\r\n/* getServerSideProps */\r\nexport async function getServerSideProps(context) {\r\n  const { req } = context;\r\n  const { origin } = absoluteUrl(req);\r\n\r\n  return {\r\n    props: {\r\n      origin,\r\n    },\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}