{"ast":null,"code":"var _jsxFileName = \"D:\\\\govermentlt\\\\components\\\\managemnet\\\\poll-menu\\\\add-menu.jsx\";\nvar __jsx = React.createElement;\nimport { Button, Form, Input, Modal, notification, Select, Typography } from 'antd';\nimport dynamic from 'next/dynamic';\nimport React, { useRef, useState } from 'react';\nimport { apiInstance } from '../../../middleware/utils';\nconst {\n  Option\n} = Select;\nconst {\n  TextArea\n} = Input; // const config = require('./../../config');\n\nconst config = require('../../../pages/admin/config');\n\nconst JoditEditor = dynamic(() => import('jodit-react'), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('jodit-react')],\n    modules: ['jodit-react']\n  }\n});\nconst {\n  Text,\n  Title\n} = Typography;\nexport default function modal({\n  fetch,\n  user,\n  pollId,\n  fetchPollQuestionData\n}) {\n  let divRef = useRef(null);\n  const [api, contextHolder] = notification.useNotification();\n  const {\n    0: visible,\n    1: setVisible\n  } = useState(false);\n  const [form] = Form.useForm();\n\n  const onSubmitHandler = async value => {\n    const data = {\n      organization_id: user.organization_id,\n      poll_questions_title: value.poll_questions_title,\n      poll_questions_seq: '999999',\n      poll_id: pollId\n    };\n    console.log(data);\n    const registerData = await apiInstance().post('/pollmenu', data);\n\n    if (registerData.data.status == 200) {\n      openNotificationSuccess();\n    } else {\n      openNotificationFail(registerData.data.message);\n    }\n\n    setVisible(false);\n    fetchPollQuestionData();\n    onReset();\n  };\n\n  const openNotificationSuccess = () => {\n    api.success({\n      message: `บันทึกมูลสำเร็จ`,\n      description: 'บันทึกมูลสำเร็จ',\n      placement: 'topRight'\n    });\n  };\n\n  const openNotificationFail = messgae => {\n    api.error({\n      message: `พบปัญหาระหว่างการบันทึกข้อมูล`,\n      description: messgae,\n      placement: 'topRight'\n    });\n  };\n\n  const onReset = () => {\n    form.resetFields();\n  };\n\n  return __jsx(React.Fragment, null, __jsx(\"a\", {\n    onClick: () => setVisible(true),\n    className: \"ml-4 lg:inline-flex lg:w-auto w-full px-2 py-2 rounded h-8 text-white bg-green-600 font-bold items-center justify-center hover:bg-green-600 hover:text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, \"\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E04\\u0E33\\u0E16\\u0E32\\u0E21\"), contextHolder, __jsx(Modal, {\n    title: \"\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E04\\u0E33\\u0E16\\u0E32\\u0E21\",\n    className: \"mt-4\",\n    centered: true,\n    visible: visible // onOk={() => onOK()}\n    ,\n    onCancel: () => {\n      // form.resetFields();\n      setVisible(false);\n    },\n    width: 1000,\n    footer: null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, __jsx(Form, {\n    name: \"basic\",\n    layout: \"vertical\",\n    onFinish: onSubmitHandler,\n    requiredMark: true,\n    form: form,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, __jsx(Form.Item, {\n    name: \"poll_questions_title\",\n    label: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E04\\u0E33\\u0E16\\u0E32\\u0E21\",\n    style: {\n      float: 'left'\n    },\n    className: \"block text-gray-700 text-sm font-bold mb-2 w-2/3\",\n    rules: [{\n      required: true,\n      message: 'กรุณากรอกชื่อคำถาม'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, __jsx(Input, {\n    id: \"#\",\n    type: \"text\",\n    placeholder: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E04\\u0E33\\u0E16\\u0E32\\u0E21\",\n    className: \"resize-none border rounded-md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  })), __jsx(Form.Item, {\n    className: \"flex mt-6 mb-0 w-1/3\",\n    style: {\n      marginBottom: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"lg:inline-flex w-full mt-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"text-center lg:text-right w-full lg:w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 15\n    }\n  }, __jsx(Button, {\n    htmlType: \"button\",\n    onClick: onReset,\n    style: {\n      backgroundColor: '#C2CFE0',\n      borderColor: '#C2CFE0',\n      height: 40,\n      width: 110,\n      marginBottom: '0px !important',\n      marginRight: '2px',\n      color: 'white !important'\n    } // htmlType=\"submit\"\n    ,\n    className: \"text-center bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full lg:w-1/4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  }, __jsx(Text, {\n    className: \"text-custom-black \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 19\n    }\n  }, \"\\u0E23\\u0E35\\u0E40\\u0E0B\\u0E47\\u0E17\")), __jsx(Button // type=\"primary\"\n  , {\n    style: {\n      backgroundColor: '#059669',\n      borderColor: '#059669',\n      height: 40,\n      width: 110,\n      marginBottom: '0px !important',\n      color: 'white !important'\n    },\n    htmlType: \"submit\",\n    className: \"text-center bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full lg:w-1/4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 17\n    }\n  }, __jsx(Text, {\n    className: \"text-custom-white \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 19\n    }\n  }, \"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\")))))), __jsx(\"div\", {\n    style: {\n      float: 'left',\n      clear: 'both'\n    },\n    ref: divRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 9\n    }\n  })));\n}","map":{"version":3,"sources":["D:/govermentlt/components/managemnet/poll-menu/add-menu.jsx"],"names":["Button","Form","Input","Modal","notification","Select","Typography","dynamic","React","useRef","useState","apiInstance","Option","TextArea","config","require","JoditEditor","ssr","Text","Title","modal","fetch","user","pollId","fetchPollQuestionData","divRef","api","contextHolder","useNotification","visible","setVisible","form","useForm","onSubmitHandler","value","data","organization_id","poll_questions_title","poll_questions_seq","poll_id","console","log","registerData","post","status","openNotificationSuccess","openNotificationFail","message","onReset","success","description","placement","messgae","error","resetFields","float","required","marginBottom","backgroundColor","borderColor","height","width","marginRight","color","clear"],"mappings":"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","sourcesContent":["import {\r\n  Button,\r\n  Form,\r\n  Input,\r\n  Modal,\r\n  notification,\r\n  Select,\r\n  Typography\r\n} from 'antd';\r\nimport dynamic from 'next/dynamic';\r\nimport React, { useRef, useState } from 'react';\r\nimport { apiInstance } from '../../../middleware/utils';\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\n// const config = require('./../../config');\r\nconst config = require('../../../pages/admin/config');\r\nconst JoditEditor = dynamic(() => import('jodit-react'), { ssr: false });\r\nconst { Text, Title } = Typography;\r\nexport default function modal({ fetch, user, pollId, fetchPollQuestionData }) {\r\n  let divRef = useRef(null);\r\n  const [api, contextHolder] = notification.useNotification();\r\n  const [visible, setVisible] = useState(false);\r\n  const [form] = Form.useForm();\r\n\r\n  const onSubmitHandler = async value => {\r\n    const data = {\r\n      organization_id: user.organization_id,\r\n      poll_questions_title: value.poll_questions_title,\r\n      poll_questions_seq: '999999',\r\n      poll_id: pollId\r\n    };\r\n    console.log(data);\r\n    const registerData = await apiInstance().post('/pollmenu', data);\r\n    if (registerData.data.status == 200) {\r\n      openNotificationSuccess();\r\n    } else {\r\n      openNotificationFail(registerData.data.message);\r\n    }\r\n    setVisible(false);\r\n    fetchPollQuestionData();\r\n    onReset();\r\n  };\r\n\r\n  const openNotificationSuccess = () => {\r\n    api.success({\r\n      message: `บันทึกมูลสำเร็จ`,\r\n      description: 'บันทึกมูลสำเร็จ',\r\n      placement: 'topRight',\r\n    });\r\n  };\r\n\r\n  const openNotificationFail = messgae => {\r\n    api.error({\r\n      message: `พบปัญหาระหว่างการบันทึกข้อมูล`,\r\n      description: messgae,\r\n      placement: 'topRight',\r\n    });\r\n  };\r\n\r\n  const onReset = () => {\r\n    form.resetFields();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <a\r\n        onClick={() => setVisible(true)}\r\n        className=\"ml-4 lg:inline-flex lg:w-auto w-full px-2 py-2 rounded h-8 text-white bg-green-600 font-bold items-center justify-center hover:bg-green-600 hover:text-white\"\r\n      >\r\n        เพิ่มคำถาม\r\n      </a>\r\n      {contextHolder}\r\n      <Modal\r\n        title=\"เพิ่มคำถาม\"\r\n        className=\"mt-4\"\r\n        centered\r\n        visible={visible}\r\n        // onOk={() => onOK()}\r\n        onCancel={() => {\r\n          // form.resetFields();\r\n          setVisible(false);\r\n        }}\r\n        width={1000}\r\n        footer={null}\r\n      >\r\n        <Form\r\n          name=\"basic\"\r\n          layout=\"vertical\"\r\n          onFinish={onSubmitHandler}\r\n          requiredMark={true}\r\n          form={form}\r\n        >\r\n          <Form.Item\r\n            name=\"poll_questions_title\"\r\n            label=\"ชื่อคำถาม\"\r\n            style={{ float: 'left' }}\r\n            className=\"block text-gray-700 text-sm font-bold mb-2 w-2/3\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: 'กรุณากรอกชื่อคำถาม',\r\n              },\r\n            ]}\r\n          >\r\n            <Input\r\n              id=\"#\"\r\n              type=\"text\"\r\n              placeholder=\"ชื่อคำถาม\"\r\n              className=\"resize-none border rounded-md\"\r\n            />\r\n          </Form.Item>\r\n          <Form.Item\r\n            className=\"flex mt-6 mb-0 w-1/3\"\r\n            style={{ marginBottom: 0 }}\r\n          >\r\n            <div className=\"lg:inline-flex w-full mt-6\">\r\n              <div className=\"text-center lg:text-right w-full lg:w-full\">\r\n                <Button\r\n                  htmlType=\"button\"\r\n                  onClick={onReset}\r\n                  style={{\r\n                    backgroundColor: '#C2CFE0',\r\n                    borderColor: '#C2CFE0',\r\n                    height: 40,\r\n                    width: 110,\r\n                    marginBottom: '0px !important',\r\n                    marginRight: '2px',\r\n                    color: 'white !important',\r\n                  }}\r\n                  // htmlType=\"submit\"\r\n                  className=\"text-center bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full lg:w-1/4\"\r\n                >\r\n                  <Text className=\"text-custom-black \">รีเซ็ท</Text>\r\n                </Button>\r\n                <Button\r\n                  // type=\"primary\"\r\n                  style={{\r\n                    backgroundColor: '#059669',\r\n                    borderColor: '#059669',\r\n                    height: 40,\r\n                    width: 110,\r\n                    marginBottom: '0px !important',\r\n                    color: 'white !important',\r\n                  }}\r\n                  htmlType=\"submit\"\r\n                  className=\"text-center bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full lg:w-1/4\"\r\n                >\r\n                  <Text className=\"text-custom-white \">บันทึก</Text>\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </Form.Item>\r\n        </Form>\r\n        <div style={{ float: 'left', clear: 'both' }} ref={divRef}></div>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}