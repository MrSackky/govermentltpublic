{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"D:\\\\govermentlt\\\\pages\\\\admin\\\\management-contact\\\\[contactId].js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { notification, Select, Switch, Typography } from 'antd';\nimport { useRouter } from 'next/router'; // import UserNav from '../components/navigation/User';\n\nimport { useEffect, useState } from 'react';\nimport validator from 'validator';\n/* components */\n\nimport Layout from '../../../components/layout/LayoutAdmin';\n/* utils */\n\nimport { apiInstance } from '../../../middleware/utils'; // import { data } from 'autoprefixer';\n\nvar Text = Typography.Text,\n    Title = Typography.Title;\nvar Option = Select.Option;\nexport var __N_SSP = true;\nexport default function Home(props) {\n  _s();\n\n  var _jsx;\n\n  var user = props.user,\n      origin = props.origin;\n\n  var _useState = useState(''),\n      url = _useState[0],\n      setUrl = _useState[1];\n\n  var _useState2 = useState(null),\n      contactData = _useState2[0],\n      setContactData = _useState2[1];\n\n  var _useState3 = useState([{\n    name: ['question_title'],\n    value: ''\n  }]),\n      fields = _useState3[0],\n      setFields = _useState3[1];\n\n  var _notification$useNoti = notification.useNotification(),\n      _notification$useNoti2 = _slicedToArray(_notification$useNoti, 2),\n      api = _notification$useNoti2[0],\n      contextHolder = _notification$useNoti2[1];\n\n  var router = useRouter();\n  var contactId = router.query.contactId;\n\n  var _useState4 = useState(''),\n      data = _useState4[0],\n      setData = _useState4[1];\n\n  var _useState5 = useState(1),\n      active = _useState5[0],\n      setActive = _useState5[1];\n\n  var actived = function actived() {\n    active ? setActive(0) : setActive(1);\n  };\n\n  var validateURL = function validateURL(inputText) {\n    setUrl(validator.trim(inputText));\n  };\n\n  useEffect(function () {\n    fetchContactData();\n  }, []);\n\n  var fetchContactData = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _contactData;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return apiInstance().get('contact/' + contactId);\n\n            case 2:\n              _contactData = _context.sent;\n              setData(_contactData.data.contact);\n              setActive(_contactData.data.contact.is_done);\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function fetchContactData() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  function disabledDateTime() {\n    return {\n      disabledHours: function disabledHours() {\n        return range(0, 24).splice(4, 20);\n      },\n      disabledMinutes: function disabledMinutes() {\n        return range(30, 60);\n      },\n      disabledSeconds: function disabledSeconds() {\n        return [55, 56];\n      }\n    };\n  }\n\n  function range(start, end) {\n    var result = [];\n\n    for (var i = start; i < end; i++) {\n      result.push(i);\n    }\n\n    return result;\n  }\n\n  function onChange(_x) {\n    return _onChange.apply(this, arguments);\n  }\n\n  function _onChange() {\n    _onChange = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(active) {\n      var data, contactData;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              data = {\n                organization_id: user.organization_id,\n                is_done: active\n              };\n              _context2.next = 3;\n              return apiInstance().put('/contact/' + contactId, data);\n\n            case 3:\n              contactData = _context2.sent;\n\n              if (contactData.data.status == 200) {\n                openNotificationRegisterSuccess();\n                setTimeout(function () {\n                  //Start the timer\n                  router.push('/admin/management-contact');\n                }.bind(this), 2000);\n              } else {\n                openNotificationRegisterFail(contactData.data.message);\n              }\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n    return _onChange.apply(this, arguments);\n  }\n\n  var openNotificationRegisterSuccess = function openNotificationRegisterSuccess() {\n    api.success({\n      message: \"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E2A\\u0E33\\u0E40\\u0E23\\u0E47\\u0E08\",\n      description: 'บันทึกข้อมูลสำเร็จ',\n      placement: 'topRight'\n    });\n  };\n\n  var openNotificationRegisterFail = function openNotificationRegisterFail(messgae) {\n    api.error({\n      message: \"\\u0E1E\\u0E1A\\u0E1B\\u0E31\\u0E0D\\u0E2B\\u0E32\\u0E23\\u0E30\\u0E2B\\u0E27\\u0E48\\u0E32\\u0E07\\u0E01\\u0E32\\u0E23\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\",\n      description: messgae,\n      placement: 'topRight'\n    });\n  };\n\n  return __jsx(Layout, {\n    title: \"Government - Admin management\",\n    titlePage: 'แสดงรายละเอียดข้อมูลเมนูติดต่อเรา ' + (contactData ? contactData.contact_post : ''),\n    url: origin,\n    indexMenu: '4',\n    origin: origin,\n    props: props,\n    _routes: [{\n      path: '/admin/dashborad',\n      breadcrumbName: 'หน้าหลัก'\n    }, {\n      path: '/admin/management-contact',\n      breadcrumbName: 'จัดการข้อมูลเมนูติดต่อเรา'\n    }, {\n      path: '/admin/management-contact/contact',\n      breadcrumbName: 'แสดงรายละเอียดข้อมูลเมนูติดต่อเรา'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }\n  }, contextHolder, __jsx(\"div\", {\n    className: \"text-base\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }, __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }, \"\\u0E40\\u0E23\\u0E37\\u0E48\\u0E2D\\u0E07\\u0E23\\u0E49\\u0E2D\\u0E07\\u0E17\\u0E38\\u0E01\\u0E02\\u0E4C : \", data ? data.contact_post : '')), __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 11\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, \"\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14 : \", data ? data.contact_detail : '')), __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 11\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }, \"\\u0E1C\\u0E39\\u0E49\\u0E23\\u0E49\\u0E2D\\u0E07\\u0E17\\u0E38\\u0E01\\u0E02\\u0E4C : \", data ? data.contact_name_posted : '')), __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }, \"\\u0E40\\u0E1A\\u0E2D\\u0E23\\u0E4C\\u0E42\\u0E17\\u0E23 : \", data ? data.contact_telephone : '')), __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 11\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }\n  }, \"email : \", data ? data.contact_email : '')), __jsx(\"ul\", {\n    className: \"inline-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 11\n    }\n  }, __jsx(Switch, (_jsx = {\n    checked: active,\n    onClick: actived\n  }, _defineProperty(_jsx, \"onClick\", function onClick(value) {\n    return setActive(value ? 1 : 0);\n  }), _defineProperty(_jsx, \"onChange\", onChange), _defineProperty(_jsx, \"__self\", this), _defineProperty(_jsx, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 13\n  }), _jsx)), __jsx(\"p\", {\n    className: \"mx-2 text-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }\n  }, \"\\u0E01\\u0E32\\u0E23\\u0E14\\u0E33\\u0E40\\u0E19\\u0E34\\u0E19\\u0E01\\u0E32\\u0E23\")))));\n}\n/* getServerSideProps */\n\n_s(Home, \"UVITdqt3yBc3dFwBnuvcAwQ+Ty8=\", false, function () {\n  return [notification.useNotification, useRouter];\n});\n\n_c = Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["D:/govermentlt/pages/admin/management-contact/[contactId].js"],"names":["notification","Select","Switch","Typography","useRouter","useEffect","useState","validator","Layout","apiInstance","Text","Title","Option","Home","props","user","origin","url","setUrl","contactData","setContactData","name","value","fields","setFields","useNotification","api","contextHolder","router","contactId","query","data","setData","active","setActive","actived","validateURL","inputText","trim","fetchContactData","get","_contactData","contact","is_done","disabledDateTime","disabledHours","range","splice","disabledMinutes","disabledSeconds","start","end","result","i","push","onChange","organization_id","put","status","openNotificationRegisterSuccess","setTimeout","bind","openNotificationRegisterFail","message","success","description","placement","messgae","error","contact_post","path","breadcrumbName","contact_detail","contact_name_posted","contact_telephone","contact_email"],"mappings":"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","sourcesContent":["import { notification, Select, Switch, Typography } from 'antd';\r\nimport { useRouter } from 'next/router';\r\n// import UserNav from '../components/navigation/User';\r\nimport { useEffect, useState } from 'react';\r\nimport validator from 'validator';\r\n/* components */\r\nimport Layout from '../../../components/layout/LayoutAdmin';\r\n/* utils */\r\nimport { absoluteUrl, apiInstance } from '../../../middleware/utils';\r\n\r\n// import { data } from 'autoprefixer';\r\nconst { Text, Title } = Typography;\r\nconst { Option } = Select;\r\n\r\nexport default function Home(props) {\r\n  const { user, origin } = props;\r\n  const [url, setUrl] = useState('');\r\n  const [contactData, setContactData] = useState(null);\r\n  const [fields, setFields] = useState([\r\n    {\r\n      name: ['question_title'],\r\n      value: '',\r\n    },\r\n  ]);\r\n  const [api, contextHolder] = notification.useNotification();\r\n  const router = useRouter();\r\n  const { contactId } = router.query;\r\n  const [data, setData] = useState('');\r\n  const [active, setActive] = useState(1);\r\n  const actived = () => {\r\n    active ? setActive(0) : setActive(1);\r\n  };\r\n  const validateURL = inputText => {\r\n    setUrl(validator.trim(inputText));\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchContactData();\r\n  }, []);\r\n\r\n  const fetchContactData = async () => {\r\n    const _contactData = await apiInstance().get('contact/' + contactId);\r\n    setData(_contactData.data.contact);\r\n    setActive(_contactData.data.contact.is_done);\r\n  };\r\n  function disabledDateTime() {\r\n    return {\r\n      disabledHours: () => range(0, 24).splice(4, 20),\r\n      disabledMinutes: () => range(30, 60),\r\n      disabledSeconds: () => [55, 56],\r\n    };\r\n  }\r\n  function range(start, end) {\r\n    const result = [];\r\n    for (let i = start; i < end; i++) {\r\n      result.push(i);\r\n    }\r\n    return result;\r\n  }\r\n\r\n  async function onChange(active) {\r\n    const data = {\r\n      organization_id: user.organization_id,\r\n      is_done: active,\r\n    };\r\n    const contactData = await apiInstance().put(\r\n      '/contact/' + contactId,\r\n      data\r\n    );\r\n    if (contactData.data.status == 200) {\r\n      openNotificationRegisterSuccess();\r\n      setTimeout(function () { //Start the timer\r\n        router.push('/admin/management-contact')\r\n      }.bind(this), 2000)\r\n    } else {\r\n      openNotificationRegisterFail(contactData.data.message);\r\n    }\r\n  }\r\n\r\n\r\n  const openNotificationRegisterSuccess = () => {\r\n    api.success({\r\n      message: `บันทึกข้อมูลสำเร็จ`,\r\n      description: 'บันทึกข้อมูลสำเร็จ',\r\n      placement: 'topRight',\r\n    });\r\n  };\r\n\r\n  const openNotificationRegisterFail = messgae => {\r\n    api.error({\r\n      message: `พบปัญหาระหว่างการบันทึกข้อมูล`,\r\n      description: messgae,\r\n      placement: 'topRight',\r\n    });\r\n  };\r\n\r\n\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Government - Admin management\"\r\n      titlePage={\r\n        'แสดงรายละเอียดข้อมูลเมนูติดต่อเรา ' +\r\n        (contactData ? contactData.contact_post : '')\r\n      }\r\n      url={origin}\r\n      indexMenu={'4'}\r\n      origin={origin}\r\n      props={props}\r\n      _routes={[\r\n        {\r\n          path: '/admin/dashborad',\r\n          breadcrumbName: 'หน้าหลัก',\r\n        },\r\n        {\r\n          path: '/admin/management-contact',\r\n          breadcrumbName: 'จัดการข้อมูลเมนูติดต่อเรา',\r\n        },\r\n        {\r\n          path: '/admin/management-contact/contact',\r\n          breadcrumbName: 'แสดงรายละเอียดข้อมูลเมนูติดต่อเรา',\r\n        },\r\n      ]}\r\n    >\r\n      <div>\r\n        {contextHolder}\r\n        <div className=\"text-base\">\r\n          <ul>\r\n            <p>เรื่องร้องทุกข์ : {data ? data.contact_post : ''}</p>\r\n          </ul>\r\n          <ul>\r\n            <p>รายละเอียด : {data ? data.contact_detail : ''}</p>\r\n          </ul>\r\n          <ul>\r\n            <p>ผู้ร้องทุกข์ : {data ? data.contact_name_posted : ''}</p>\r\n          </ul>\r\n          <ul>\r\n            <p>เบอร์โทร : {data ? data.contact_telephone : ''}</p>\r\n          </ul>\r\n          <ul>\r\n            <p>email : {data ? data.contact_email : ''}</p>\r\n          </ul>\r\n          <ul className=\"inline-flex\">\r\n            <Switch checked={active} onClick={actived} onClick={value => setActive(value ? 1 : 0)} onChange={onChange} />\r\n            <p className=\"mx-2 text-sm\">การดำเนินการ</p>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n}\r\n/* getServerSideProps */\r\nexport async function getServerSideProps(context) {\r\n  const { req } = context;\r\n  const { origin } = absoluteUrl(req);\r\n\r\n  return {\r\n    props: {\r\n      origin,\r\n    },\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}