{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"D:\\\\govermentlt\\\\pages\\\\admin\\\\management\\\\information\\\\[informationId].js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { InboxOutlined } from '@ant-design/icons';\nimport { Button, DatePicker, Form, Image, notification, Row, Select, Switch, Typography, Upload } from 'antd';\nimport axios from 'axios';\nimport moment from 'moment';\nimport dynamic from 'next/dynamic';\nimport { useRouter } from 'next/router'; // import UserNav from '../components/navigation/User';\n\nimport { useEffect, useRef, useState } from 'react';\n/* components */\n\nimport Layout from '../../../../components/layout/LayoutAdmin';\n/* utils */\n\nimport { apiInstance, convertDateDBtoDatePickerWithTime } from '../../../../middleware/utils';\nvar Text = Typography.Text,\n    Title = Typography.Title;\nvar Option = Select.Option;\nvar JoditEditor = dynamic(_c = function _c() {\n  return import('jodit-react');\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('jodit-react')];\n    },\n    modules: ['jodit-react']\n  }\n});\n_c2 = JoditEditor;\n\nvar config = require('./../../config');\n\nexport var __N_SSP = true;\nexport default function Home(props) {\n  _s();\n\n  var editor = useRef(null);\n\n  var _useState = useState(''),\n      content = _useState[0],\n      setContent = _useState[1];\n\n  var user = props.user,\n      origin = props.origin;\n\n  var _useState2 = useState(''),\n      url = _useState2[0],\n      setUrl = _useState2[1];\n\n  var _useState3 = useState(null),\n      informationData = _useState3[0],\n      setInformationData = _useState3[1];\n\n  var _useState4 = useState(null),\n      previewImage = _useState4[0],\n      setPreviewImage = _useState4[1];\n\n  var _useState5 = useState(null),\n      imageLandingPage = _useState5[0],\n      setImageLandingPage = _useState5[1];\n\n  var _useState6 = useState(false),\n      previewVisible = _useState6[0],\n      setPreviewVisible = _useState6[1];\n\n  var _useState7 = useState([{\n    name: ['information_title'],\n    value: ''\n  }]),\n      fields = _useState7[0],\n      setFields = _useState7[1];\n\n  var _notification$useNoti = notification.useNotification(),\n      _notification$useNoti2 = _slicedToArray(_notification$useNoti, 2),\n      api = _notification$useNoti2[0],\n      contextHolder = _notification$useNoti2[1];\n\n  var router = useRouter();\n  var informationId = router.query.informationId;\n  var Dragger = Upload.Dragger;\n\n  var _useState8 = useState(''),\n      date = _useState8[0],\n      setDate = _useState8[1];\n\n  var _useState9 = useState(1),\n      active = _useState9[0],\n      setActive = _useState9[1];\n\n  function onSubmitHandler(_x) {\n    return _onSubmitHandler.apply(this, arguments);\n  }\n\n  function _onSubmitHandler() {\n    _onSubmitHandler = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(value) {\n      var dateStr, data, registerData;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              // console.log(\"value\")\n              // console.log(value)\n              dateStr = moment(value.infor_date).format();\n              data = {\n                infor_title: value.infor_title,\n                infor_detail: value.infor_detail,\n                infor_image: imageLandingPage,\n                infor_date: dateStr,\n                infor_keyword: value.infor_keyword,\n                infor_view: '0',\n                status_active: active,\n                is_deleted: '0'\n              }; // console.log(data)\n\n              _context3.next = 4;\n              return apiInstance().put('/information/' + informationId, data);\n\n            case 4:\n              registerData = _context3.sent;\n\n              if (registerData.data.status == 200) {\n                openNotificationRegisterSuccess();\n                fetchInformationData();\n                setTimeout(function () {\n                  //Start the timer\n                  router.push('/admin/management/information');\n                }.bind(this), 2000);\n              } else {\n                openNotificationRegisterFail(registerData.data.message);\n              }\n\n            case 6:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n    return _onSubmitHandler.apply(this, arguments);\n  }\n\n  var openNotificationRegisterSuccess = function openNotificationRegisterSuccess() {\n    api.success({\n      message: \"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E2A\\u0E33\\u0E40\\u0E23\\u0E47\\u0E08\",\n      description: 'บันทึกข้อมูลสำเร็จ',\n      placement: 'topRight'\n    });\n  };\n\n  var openNotificationRegisterFail = function openNotificationRegisterFail(messgae) {\n    api.error({\n      message: \"\\u0E1E\\u0E1A\\u0E1B\\u0E31\\u0E0D\\u0E2B\\u0E32\\u0E23\\u0E30\\u0E2B\\u0E27\\u0E48\\u0E32\\u0E07\\u0E01\\u0E32\\u0E23\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\",\n      description: messgae,\n      placement: 'topRight'\n    });\n  };\n\n  useEffect(function () {\n    fetchInformationData();\n  }, []);\n\n  var onResetForm = function onResetForm() {\n    setActive(informationData.status_active == 1 ? 1 : 0);\n    setFields([{\n      name: ['infor_title'],\n      value: informationData.infor_title\n    }, {\n      name: ['infor_detail'],\n      value: informationData.infor_detail\n    }, {\n      name: ['infor_image'],\n      value: informationData.infor_image\n    }, {\n      name: ['infor_date'],\n      value: moment(convertDateDBtoDatePickerWithTime(informationData.infor_date)) // value: convertDateDBtoDatePickerNoTime(informationData.infor_date),\n\n    }, {\n      name: ['infor_keyword'],\n      value: informationData.infor_keyword\n    }, {\n      name: ['status_active'],\n      value: informationData.status_active\n    }]); // รีเซ็ตรูปภาพกลับไปยังภาพเดิมบนฐานข้อมูล\n\n    setPreviewImage(\"..\\\\..\\\\..\\\\uploads\\\\c-\" + user.organization_id + '\\\\information\\\\' + informationData.infor_image);\n    setPreviewVisible(true);\n    setImageLandingPage(informationData.infor_image);\n  };\n\n  var fetchInformationData = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _informationData;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return apiInstance().get('information/' + informationId);\n\n            case 2:\n              _informationData = _context.sent;\n              console.log(_informationData.data.information.infor_date);\n              console.log(convertDateDBtoDatePickerWithTime(_informationData.data.information.infor_date));\n              setActive(_informationData.data.information.status_active);\n              setPreviewImage(\"..\\\\..\\\\..\\\\uploads\\\\c-\" + user.organization_id + '\\\\information\\\\' + _informationData.data.information.infor_image);\n              setPreviewVisible(true);\n              setImageLandingPage(_informationData.data.information.infor_image);\n              setInformationData(_informationData.data.information); // setIsHasBless(_informationData.data.information.is_has_bless)\n              // status_active(_informationData.data.information.status_active)\n\n              console.log(_informationData.data.information.infor_date);\n              setFields([{\n                name: ['infor_title'],\n                value: _informationData.data.information.infor_title\n              }, {\n                name: ['infor_detail'],\n                value: _informationData.data.information.infor_detail\n              }, {\n                name: ['infor_image'],\n                value: _informationData.data.information.infor_image\n              }, {\n                name: ['infor_date'],\n                value: moment(convertDateDBtoDatePickerWithTime(_informationData.data.information.infor_date))\n              }, {\n                name: ['infor_keyword'],\n                value: _informationData.data.information.infor_keyword\n              }, {\n                name: ['status_active'],\n                value: _informationData.data.information.status_active\n              }]);\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function fetchInformationData() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  console.log(informationData);\n\n  function disabledDateTime() {\n    return {\n      disabledHours: function disabledHours() {\n        return range(0, 24).splice(4, 20);\n      },\n      disabledMinutes: function disabledMinutes() {\n        return range(30, 60);\n      },\n      disabledSeconds: function disabledSeconds() {\n        return [55, 56];\n      }\n    };\n  }\n\n  function range(start, end) {\n    var result = [];\n\n    for (var i = start; i < end; i++) {\n      result.push(i);\n    }\n\n    return result;\n  }\n\n  function onChange(value, dateString) {\n    // console.log('Selected Time: ', value);\n    // console.log('Formatted Selected Time: ', dateString);\n    setDate(dateString);\n  }\n\n  function disabledDate(current) {\n    // Can not select days before today and today\n    return current && current < moment().endOf('day');\n  }\n\n  var imageUploadprops = {\n    name: 'file',\n    multiple: false,\n    listType: 'text',\n    maxCount: 1,\n    action: '/api/upload/information',\n    preview: false,\n    // uid: user.type_user == 1 ? \"admin\" : user.organization_id,\n    // beforeUpload(file) {\n    // \tconst isLt10M = file.size / 1024 / 1024 < 10\n    // \tif (!isLt10M) {\n    // \t\tnotification.open({\n    // \t\t\tmessage: 'Upload error!',\n    // \t\t\tdescription: <Text className=\"text-black\">Image must smaller than 10MB!</Text>,\n    // \t\t})\n    // \t}\n    // \treturn isLt10M\n    // },\n    customRequest: function customRequest(options) {\n      var data = new FormData();\n      data.append('file', options.file);\n      data.append('id', user.type_user == 1 ? 'admin' : user.organization_id);\n      var config = {\n        headers: {\n          'content-type': 'multipart/form-data; boundary=----WebKitFormBoundaryqTqJIxvkWFYqvP5s'\n        }\n      };\n      axios.post(options.action, data, config).then(function (res) {\n        // imageLandingPage\n        // console.log(res.data.data.list[0]._name)\n        setImageLandingPage(res.data.data.list[0]._name);\n        options.onSuccess(res.data, options.file);\n      })[\"catch\"](function (err) {\n        console.log(err);\n      });\n    },\n    onChange: function onChange(info) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var status;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                status = info.file.status; // console.log(user)\n\n                _context2.t0 = info.file.status;\n                _context2.next = _context2.t0 === 'done' ? 4 : 11;\n                break;\n\n              case 4:\n                if (!(!info.file.url && !info.file.preview)) {\n                  _context2.next = 8;\n                  break;\n                }\n\n                _context2.next = 7;\n                return getBase64(info.file.originFileObj);\n\n              case 7:\n                info.file.preview = _context2.sent;\n\n              case 8:\n                setPreviewImage(info.file.url || info.file.preview);\n                setPreviewVisible(true);\n                return _context2.abrupt(\"break\", 12);\n\n              case 11:\n                // error or removed\n                resetImagePreview();\n\n              case 12:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }))();\n    },\n    onRemove: function onRemove(info) {\n      console.log('onRemove');\n      console.log(info);\n      resetImagePreview();\n    }\n  };\n\n  var resetImagePreview = function resetImagePreview() {\n    setPreviewVisible(false);\n    setPreviewImage(null);\n  };\n\n  function getBase64(file) {\n    return new Promise(function (resolve, reject) {\n      var reader = new FileReader();\n      reader.readAsDataURL(file);\n\n      reader.onload = function () {\n        return resolve(reader.result);\n      };\n\n      reader.onerror = function (error) {\n        return reject(error);\n      };\n    });\n  }\n\n  return __jsx(Layout, {\n    title: \"Government - Admin management\",\n    titlePage: 'แก้ไขข่าวประชาสัมพันธ์ ' + (informationData ? informationData.infor_title : ''),\n    url: origin,\n    indexSubMenu: '1',\n    indexMenu: \"sub-1-1\",\n    origin: origin,\n    props: props,\n    _routes: [{\n      path: '/admin/dashborad',\n      breadcrumbName: 'หน้าหลัก'\n    }, {\n      path: '/admin/management/information',\n      breadcrumbName: 'จัดการข่าวประชาสัมพันธ์'\n    }, {\n      path: '/admin/management/add-information',\n      breadcrumbName: 'แก้ไขข่าวประชาสัมพันธ์'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 7\n    }\n  }, contextHolder, __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 9\n    }\n  }, __jsx(Form, {\n    name: \"basic\",\n    className: \"w-full\" // initialValues={{ email: email, invitationCode: code }}\n    ,\n    layout: \"vertical\",\n    onFinish: onSubmitHandler // onFinishFailed={onFinishFailed}\n    ,\n    requiredMark: true,\n    fields: fields,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 11\n    }\n  }, __jsx(Form.Item, {\n    name: \"infor_title\",\n    label: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E02\\u0E48\\u0E32\\u0E27\\u0E1B\\u0E23\\u0E30\\u0E0A\\u0E32\\u0E2A\\u0E31\\u0E21\\u0E1E\\u0E31\\u0E19\\u0E18\\u0E4C\",\n    className: \"block text-gray-700 text-sm font-bold mb-2 w-full form-organization\",\n    rules: [{\n      required: true,\n      message: 'กรุณากรอกชื่อข่าวประชาสัมพันธ์'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 13\n    }\n  }, __jsx(\"input\", {\n    className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n    id: \"#\",\n    type: \"text\",\n    placeholder: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E02\\u0E48\\u0E32\\u0E27\\u0E1B\\u0E23\\u0E30\\u0E0A\\u0E32\\u0E2A\\u0E31\\u0E21\\u0E1E\\u0E31\\u0E19\\u0E18\\u0E4C\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 15\n    }\n  })), __jsx(\"div\", {\n    style: {\n      clear: 'both'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 13\n    }\n  }), __jsx(Form.Item, {\n    name: \"infor_detail\",\n    label: \"\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14\",\n    className: \"block text-gray-700 text-sm font-bold mb-2 w-full form-organization\",\n    style: {\n      textAlign: 'left !important'\n    },\n    rules: [{\n      required: true,\n      message: 'กรุณากรอกรายละเอียดข่าวประชาสัมพันธ์'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 13\n    }\n  }, __jsx(JoditEditor, {\n    ref: editor,\n    value: content,\n    config: config.config(user),\n    height: '700px',\n    tabIndex: 1 // tabIndex of textarea\n    ,\n    onBlur: function onBlur(newContent) {\n      return setContent(newContent);\n    } // preferred to use only this option to update the content for performance reasons\n    ,\n    onChange: function onChange(newContent) {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 15\n    }\n  })), __jsx(\"div\", {\n    style: {\n      clear: 'both'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 13\n    }\n  }), __jsx(Form.Item, {\n    name: \"infor_image\",\n    label: \"\\u0E20\\u0E32\\u0E1E\\u0E1B\\u0E01\\u0E02\\u0E48\\u0E32\\u0E27\\u0E1B\\u0E23\\u0E30\\u0E0A\\u0E32\\u0E2A\\u0E31\\u0E21\\u0E1E\\u0E31\\u0E19\\u0E18\\u0E4C :\",\n    className: \"block text-gray-700 text-sm font-bold mb-2 w-full\",\n    rules: [{\n      required: true,\n      message: 'กรุณากรอกเลือกภาพปกข่าวประชาสัมพันธ์'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 13\n    }\n  }, __jsx(Dragger, _extends({\n    maxCount: 1 // listType=\"picture\"\n    ,\n    accept: \".jpg, .jpeg, .png\"\n  }, imageUploadprops, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 15\n    }\n  }), previewVisible && __jsx(React.Fragment, null, __jsx(Image // width={200}\n  , {\n    preview: false,\n    src: previewImage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 21\n    }\n  })), !previewVisible && __jsx(React.Fragment, null, __jsx(\"p\", {\n    className: \"ant-upload-drag-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 21\n    }\n  }, __jsx(InboxOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 422,\n      columnNumber: 23\n    }\n  })), __jsx(\"p\", {\n    className: \"ant-upload-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 424,\n      columnNumber: 21\n    }\n  }, \"\\u0E04\\u0E25\\u0E34\\u0E01 \\u0E2B\\u0E23\\u0E37\\u0E2D \\u0E25\\u0E32\\u0E01\\u0E44\\u0E1F\\u0E25\\u0E4C\\u0E21\\u0E32\\u0E17\\u0E35\\u0E48\\u0E1A\\u0E23\\u0E34\\u0E40\\u0E27\\u0E13\\u0E19\\u0E35\\u0E49\\u0E40\\u0E1E\\u0E37\\u0E48\\u0E2D\\u0E2D\\u0E31\\u0E1B\\u0E42\\u0E2B\\u0E25\\u0E14\")))), __jsx(\"div\", {\n    style: {\n      clear: 'both'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 13\n    }\n  }), __jsx(Form.Item, {\n    name: \"infor_date\",\n    label: \"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E25\\u0E07\\u0E02\\u0E48\\u0E32\\u0E27\\u0E1B\\u0E23\\u0E30\\u0E0A\\u0E32\\u0E2A\\u0E31\\u0E21\\u0E1E\\u0E31\\u0E19\\u0E18\\u0E4C\",\n    className: \"block text-gray-700 text-sm font-bold mb-2 w-full form-organization\",\n    style: {\n      textAlign: 'left !important'\n    },\n    rules: [{\n      required: true,\n      message: 'กรุณากรอกเลือกวันที่ลงข่าวประชาสัมพันธ์'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 13\n    }\n  }, __jsx(DatePicker, {\n    className: \"w-full\",\n    showTime: true,\n    onChange: onChange,\n    style: {\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 450,\n      columnNumber: 15\n    }\n  })), __jsx(\"div\", {\n    style: {\n      clear: 'both'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 460,\n      columnNumber: 13\n    }\n  }), __jsx(Form.Item, {\n    name: \"infor_keyword\",\n    label: \"Keyword \\u0E2A\\u0E33\\u0E2B\\u0E23\\u0E31\\u0E1A\\u0E17\\u0E33 SEO\",\n    className: \"block text-gray-700 text-sm font-bold mb-2 w-full form-organization\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 461,\n      columnNumber: 13\n    }\n  }, __jsx(\"input\", {\n    className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n    size: \"large\",\n    placeholder: \"Email\" // onChange={() => setEmailText(event.target.value)}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 466,\n      columnNumber: 15\n    }\n  })), __jsx(\"div\", {\n    style: {\n      clear: 'both'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 473,\n      columnNumber: 13\n    }\n  }), __jsx(Form.Item, {\n    className: \"flex mt-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 474,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"lg:inline-flex w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 475,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"lg:inline-flex text-left w-1/2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 476,\n      columnNumber: 17\n    }\n  }, __jsx(Switch, {\n    className: \"swt-btn\",\n    checked: active,\n    onClick: function onClick(value) {\n      // console.log(value)\n      setActive(value ? 1 : 0);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 477,\n      columnNumber: 19\n    }\n  }), __jsx(\"p\", {\n    className: \"mx-2 text-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 485,\n      columnNumber: 19\n    }\n  }, \"\\u0E01\\u0E32\\u0E23\\u0E41\\u0E2A\\u0E14\\u0E07\\u0E1C\\u0E25\")), __jsx(\"div\", {\n    className: \"text-center lg:text-right w-full lg:w-1/2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 487,\n      columnNumber: 17\n    }\n  }, __jsx(Button, {\n    htmlType: \"button\",\n    onClick: onResetForm,\n    style: {\n      backgroundColor: '#C2CFE0',\n      borderColor: '#C2CFE0',\n      height: 40,\n      width: 110,\n      marginBottom: '0px !important',\n      marginRight: '2px',\n      color: 'white !important'\n    } // htmlType=\"submit\"\n    ,\n    className: \"text-center bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full lg:w-1/4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 488,\n      columnNumber: 19\n    }\n  }, __jsx(Text, {\n    className: \"text-custom-black \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 503,\n      columnNumber: 21\n    }\n  }, \"\\u0E23\\u0E35\\u0E40\\u0E0B\\u0E47\\u0E17\")), __jsx(Button // type=\"primary\"\n  , {\n    style: {\n      backgroundColor: '#059669',\n      borderColor: '#059669',\n      height: 40,\n      width: 110,\n      marginBottom: '0px !important',\n      color: 'white !important'\n    },\n    htmlType: \"submit\",\n    className: \"text-center bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full lg:w-1/4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 505,\n      columnNumber: 19\n    }\n  }, __jsx(Text, {\n    className: \"text-custom-white \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 518,\n      columnNumber: 21\n    }\n  }, \"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\")))))))));\n}\n/* getServerSideProps */\n\n_s(Home, \"6Al7Nfcd2YwtavKizRd4VHdgQiY=\", false, function () {\n  return [notification.useNotification, useRouter];\n});\n\n_c3 = Home;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"JoditEditor$dynamic\");\n$RefreshReg$(_c2, \"JoditEditor\");\n$RefreshReg$(_c3, \"Home\");","map":{"version":3,"sources":["D:/govermentlt/pages/admin/management/information/[informationId].js"],"names":["InboxOutlined","Button","DatePicker","Form","Image","notification","Row","Select","Switch","Typography","Upload","axios","moment","dynamic","useRouter","useEffect","useRef","useState","Layout","apiInstance","convertDateDBtoDatePickerWithTime","Text","Title","Option","JoditEditor","ssr","config","require","Home","props","editor","content","setContent","user","origin","url","setUrl","informationData","setInformationData","previewImage","setPreviewImage","imageLandingPage","setImageLandingPage","previewVisible","setPreviewVisible","name","value","fields","setFields","useNotification","api","contextHolder","router","informationId","query","Dragger","date","setDate","active","setActive","onSubmitHandler","dateStr","infor_date","format","data","infor_title","infor_detail","infor_image","infor_keyword","infor_view","status_active","is_deleted","put","registerData","status","openNotificationRegisterSuccess","fetchInformationData","setTimeout","push","bind","openNotificationRegisterFail","message","success","description","placement","messgae","error","onResetForm","organization_id","get","_informationData","console","log","information","disabledDateTime","disabledHours","range","splice","disabledMinutes","disabledSeconds","start","end","result","i","onChange","dateString","disabledDate","current","endOf","imageUploadprops","multiple","listType","maxCount","action","preview","customRequest","options","FormData","append","file","type_user","headers","post","then","res","list","_name","onSuccess","err","info","getBase64","originFileObj","resetImagePreview","onRemove","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","onerror","path","breadcrumbName","required","clear","textAlign","newContent","width","backgroundColor","borderColor","height","marginBottom","marginRight","color"],"mappings":"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","sourcesContent":["import { InboxOutlined } from '@ant-design/icons';\r\nimport {\r\n  Button, DatePicker, Form, Image, notification, Row, Select,\r\n  Switch, Typography, Upload\r\n} from 'antd';\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\nimport dynamic from 'next/dynamic';\r\nimport { useRouter } from 'next/router';\r\n// import UserNav from '../components/navigation/User';\r\nimport { useEffect, useRef, useState } from 'react';\r\n/* components */\r\nimport Layout from '../../../../components/layout/LayoutAdmin';\r\n/* utils */\r\nimport {\r\n  absoluteUrl, apiInstance, convertDateDBtoDatePickerWithTime\r\n} from '../../../../middleware/utils';\r\n\r\nconst { Text, Title } = Typography;\r\nconst { Option } = Select;\r\nconst JoditEditor = dynamic(() => import('jodit-react'), { ssr: false });\r\nconst config = require('./../../config');\r\n\r\nexport default function Home(props) {\r\n  const editor = useRef(null);\r\n  const [content, setContent] = useState('');\r\n  const { user, origin } = props;\r\n  const [url, setUrl] = useState('');\r\n  const [informationData, setInformationData] = useState(null);\r\n  const [previewImage, setPreviewImage] = useState(null);\r\n  const [imageLandingPage, setImageLandingPage] = useState(null);\r\n  const [previewVisible, setPreviewVisible] = useState(false);\r\n  const [fields, setFields] = useState([\r\n    {\r\n      name: ['information_title'],\r\n      value: '',\r\n    },\r\n  ]);\r\n  const [api, contextHolder] = notification.useNotification();\r\n  const router = useRouter();\r\n  const { informationId } = router.query;\r\n  const { Dragger } = Upload;\r\n  const [date, setDate] = useState('');\r\n  const [active, setActive] = useState(1);\r\n\r\n  async function onSubmitHandler(value) {\r\n    // console.log(\"value\")\r\n    // console.log(value)\r\n\r\n    var dateStr = moment(value.infor_date).format();\r\n    const data = {\r\n      infor_title: value.infor_title,\r\n      infor_detail: value.infor_detail,\r\n      infor_image: imageLandingPage,\r\n      infor_date: dateStr,\r\n      infor_keyword: value.infor_keyword,\r\n      infor_view: '0',\r\n      status_active: active,\r\n      is_deleted: '0',\r\n    };\r\n    // console.log(data)\r\n    const registerData = await apiInstance().put(\r\n      '/information/' + informationId,\r\n      data,\r\n    );\r\n    if (registerData.data.status == 200) {\r\n      openNotificationRegisterSuccess();\r\n      fetchInformationData();\r\n      setTimeout(\r\n        function () {\r\n          //Start the timer\r\n          router.push('/admin/management/information');\r\n        }.bind(this),\r\n        2000,\r\n      );\r\n    } else {\r\n      openNotificationRegisterFail(registerData.data.message);\r\n    }\r\n  }\r\n\r\n  const openNotificationRegisterSuccess = () => {\r\n    api.success({\r\n      message: `บันทึกข้อมูลสำเร็จ`,\r\n      description: 'บันทึกข้อมูลสำเร็จ',\r\n      placement: 'topRight',\r\n    });\r\n  };\r\n\r\n  const openNotificationRegisterFail = messgae => {\r\n    api.error({\r\n      message: `พบปัญหาระหว่างการบันทึกข้อมูล`,\r\n      description: messgae,\r\n      placement: 'topRight',\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchInformationData();\r\n  }, []);\r\n\r\n  const onResetForm = () => {\r\n    setActive(informationData.status_active == 1 ? 1 : 0);\r\n    setFields([\r\n      {\r\n        name: ['infor_title'],\r\n        value: informationData.infor_title,\r\n      },\r\n      {\r\n        name: ['infor_detail'],\r\n        value: informationData.infor_detail,\r\n      },\r\n      {\r\n        name: ['infor_image'],\r\n        value: informationData.infor_image,\r\n      },\r\n      {\r\n        name: ['infor_date'],\r\n\r\n        value: moment(\r\n          convertDateDBtoDatePickerWithTime(\r\n            informationData.infor_date,\r\n          ),\r\n        ),\r\n        // value: convertDateDBtoDatePickerNoTime(informationData.infor_date),\r\n      },\r\n      {\r\n        name: ['infor_keyword'],\r\n        value: informationData.infor_keyword,\r\n      },\r\n      {\r\n        name: ['status_active'],\r\n        value: informationData.status_active,\r\n      },\r\n    ]);\r\n    // รีเซ็ตรูปภาพกลับไปยังภาพเดิมบนฐานข้อมูล\r\n    setPreviewImage('..\\\\..\\\\..\\\\uploads\\\\c-' + user.organization_id + '\\\\information\\\\' + informationData.infor_image);\r\n    setPreviewVisible(true);\r\n    setImageLandingPage(informationData.infor_image);\r\n  };\r\n  const fetchInformationData = async () => {\r\n    const _informationData = await apiInstance().get(\r\n      'information/' + informationId,\r\n    );\r\n    console.log(_informationData.data.information.infor_date);\r\n    console.log(\r\n      convertDateDBtoDatePickerWithTime(\r\n        _informationData.data.information.infor_date,\r\n      ),\r\n    );\r\n    setActive(_informationData.data.information.status_active);\r\n    setPreviewImage(\r\n      '..\\\\..\\\\..\\\\uploads\\\\c-' +\r\n      user.organization_id +\r\n      '\\\\information\\\\' +\r\n      _informationData.data.information.infor_image,\r\n    );\r\n    setPreviewVisible(true);\r\n    setImageLandingPage(_informationData.data.information.infor_image);\r\n    setInformationData(_informationData.data.information)\r\n    // setIsHasBless(_informationData.data.information.is_has_bless)\r\n    // status_active(_informationData.data.information.status_active)\r\n    console.log(_informationData.data.information.infor_date);\r\n    setFields([\r\n      {\r\n        name: ['infor_title'],\r\n        value: _informationData.data.information.infor_title,\r\n      },\r\n      {\r\n        name: ['infor_detail'],\r\n        value: _informationData.data.information.infor_detail,\r\n      },\r\n      {\r\n        name: ['infor_image'],\r\n        value: _informationData.data.information.infor_image,\r\n      },\r\n      {\r\n        name: ['infor_date'],\r\n        value: moment(\r\n          convertDateDBtoDatePickerWithTime(\r\n            _informationData.data.information.infor_date,\r\n          ),\r\n        ),\r\n      },\r\n      {\r\n        name: ['infor_keyword'],\r\n        value: _informationData.data.information.infor_keyword,\r\n      },\r\n      {\r\n        name: ['status_active'],\r\n        value: _informationData.data.information.status_active,\r\n      },\r\n    ]);\r\n  };\r\n  console.log(informationData)\r\n  function disabledDateTime() {\r\n    return {\r\n      disabledHours: () => range(0, 24).splice(4, 20),\r\n      disabledMinutes: () => range(30, 60),\r\n      disabledSeconds: () => [55, 56],\r\n    };\r\n  }\r\n  function range(start, end) {\r\n    const result = [];\r\n    for (let i = start; i < end; i++) {\r\n      result.push(i);\r\n    }\r\n    return result;\r\n  }\r\n\r\n  function onChange(value, dateString) {\r\n    // console.log('Selected Time: ', value);\r\n    // console.log('Formatted Selected Time: ', dateString);\r\n    setDate(dateString);\r\n  }\r\n\r\n  function disabledDate(current) {\r\n    // Can not select days before today and today\r\n    return current && current < moment().endOf('day');\r\n  }\r\n\r\n  const imageUploadprops = {\r\n    name: 'file',\r\n    multiple: false,\r\n    listType: 'text',\r\n    maxCount: 1,\r\n    action: '/api/upload/information',\r\n    preview: false,\r\n    // uid: user.type_user == 1 ? \"admin\" : user.organization_id,\r\n    // beforeUpload(file) {\r\n    // \tconst isLt10M = file.size / 1024 / 1024 < 10\r\n    // \tif (!isLt10M) {\r\n    // \t\tnotification.open({\r\n    // \t\t\tmessage: 'Upload error!',\r\n    // \t\t\tdescription: <Text className=\"text-black\">Image must smaller than 10MB!</Text>,\r\n    // \t\t})\r\n    // \t}\r\n    // \treturn isLt10M\r\n    // },\r\n    customRequest: options => {\r\n      const data = new FormData();\r\n      data.append('file', options.file);\r\n      data.append('id', user.type_user == 1 ? 'admin' : user.organization_id);\r\n      const config = {\r\n        headers: {\r\n          'content-type':\r\n            'multipart/form-data; boundary=----WebKitFormBoundaryqTqJIxvkWFYqvP5s',\r\n        },\r\n      };\r\n      axios\r\n        .post(options.action, data, config)\r\n        .then(res => {\r\n          // imageLandingPage\r\n          // console.log(res.data.data.list[0]._name)\r\n          setImageLandingPage(res.data.data.list[0]._name);\r\n          options.onSuccess(res.data, options.file);\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    async onChange(info) {\r\n      const { status } = info.file;\r\n      // console.log(user)\r\n      switch (info.file.status) {\r\n        // case \"uploading\":\r\n        //   nextState.selectedFileList = [info.file];\r\n        //   break;\r\n        case 'done':\r\n          if (!info.file.url && !info.file.preview) {\r\n            info.file.preview = await getBase64(info.file.originFileObj);\r\n          }\r\n          setPreviewImage(info.file.url || info.file.preview);\r\n          setPreviewVisible(true);\r\n          break;\r\n\r\n        default:\r\n          // error or removed\r\n          resetImagePreview();\r\n      }\r\n      //console.log(info.file)\r\n\r\n      // this.setState({\r\n      //   previewImage: file.url || file.preview,\r\n      //   previewVisible: true,\r\n      // });\r\n    },\r\n    onRemove(info) {\r\n      console.log('onRemove');\r\n      console.log(info);\r\n      resetImagePreview();\r\n    },\r\n  };\r\n\r\n  const resetImagePreview = () => {\r\n    setPreviewVisible(false);\r\n    setPreviewImage(null);\r\n  };\r\n\r\n  function getBase64(file) {\r\n    return new Promise((resolve, reject) => {\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => resolve(reader.result);\r\n      reader.onerror = error => reject(error);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Government - Admin management\"\r\n      titlePage={\r\n        'แก้ไขข่าวประชาสัมพันธ์ ' +\r\n        (informationData ? informationData.infor_title : '')\r\n      }\r\n      url={origin}\r\n      indexSubMenu={'1'}\r\n      indexMenu={\"sub-1-1\"}\r\n      origin={origin}\r\n      props={props}\r\n      _routes={[\r\n        {\r\n          path: '/admin/dashborad',\r\n          breadcrumbName: 'หน้าหลัก',\r\n        },\r\n        {\r\n          path: '/admin/management/information',\r\n          breadcrumbName: 'จัดการข่าวประชาสัมพันธ์',\r\n        },\r\n        {\r\n          path: '/admin/management/add-information',\r\n          breadcrumbName: 'แก้ไขข่าวประชาสัมพันธ์',\r\n        },\r\n      ]}\r\n    >\r\n      <div>\r\n        {contextHolder}\r\n        {/* {JSON.stringify(organizationData)} */}\r\n        <Row>\r\n          {/* {JSON.stringify(organizationData)} */}\r\n          <Form\r\n            name=\"basic\"\r\n            className=\"w-full\"\r\n            // initialValues={{ email: email, invitationCode: code }}\r\n            layout=\"vertical\"\r\n            onFinish={onSubmitHandler}\r\n            // onFinishFailed={onFinishFailed}\r\n            requiredMark={true}\r\n            fields={fields}\r\n          >\r\n            <Form.Item\r\n              name=\"infor_title\"\r\n              label=\"ชื่อข่าวประชาสัมพันธ์\"\r\n              className=\"block text-gray-700 text-sm font-bold mb-2 w-full form-organization\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: 'กรุณากรอกชื่อข่าวประชาสัมพันธ์',\r\n                },\r\n              ]}\r\n            >\r\n              <input\r\n                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n                id=\"#\"\r\n                type=\"text\"\r\n                placeholder=\"ชื่อข่าวประชาสัมพันธ์\"\r\n              />\r\n            </Form.Item>\r\n            <div style={{ clear: 'both' }}></div>\r\n            <Form.Item\r\n              name=\"infor_detail\"\r\n              label=\"รายละเอียด\"\r\n              className=\"block text-gray-700 text-sm font-bold mb-2 w-full form-organization\"\r\n              style={{ textAlign: 'left !important' }}\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: 'กรุณากรอกรายละเอียดข่าวประชาสัมพันธ์',\r\n                },\r\n              ]}\r\n            >\r\n              <JoditEditor\r\n                ref={editor}\r\n                value={content}\r\n                config={config.config(user)}\r\n                height={'700px'}\r\n                tabIndex={1} // tabIndex of textarea\r\n                onBlur={newContent => setContent(newContent)} // preferred to use only this option to update the content for performance reasons\r\n                onChange={newContent => { }}\r\n              />\r\n            </Form.Item>\r\n            <div style={{ clear: 'both' }}></div>\r\n            <Form.Item\r\n              name=\"infor_image\"\r\n              label=\"ภาพปกข่าวประชาสัมพันธ์ :\"\r\n              className=\"block text-gray-700 text-sm font-bold mb-2 w-full\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: 'กรุณากรอกเลือกภาพปกข่าวประชาสัมพันธ์',\r\n                },\r\n              ]}\r\n            >\r\n              {/* <Dragger {...dropimg}> */}\r\n              <Dragger\r\n                maxCount={1}\r\n                // listType=\"picture\"\r\n                accept=\".jpg, .jpeg, .png\"\r\n                {...imageUploadprops}\r\n              >\r\n                {previewVisible && (\r\n                  <>\r\n                    <Image\r\n                      // width={200}\r\n                      preview={false}\r\n                      src={previewImage}\r\n                    />\r\n                  </>\r\n                )}\r\n                {!previewVisible && (\r\n                  <>\r\n                    <p className=\"ant-upload-drag-icon\">\r\n                      <InboxOutlined />\r\n                    </p>\r\n                    <p className=\"ant-upload-text\">\r\n                      คลิก หรือ ลากไฟล์มาที่บริเวณนี้เพื่ออัปโหลด\r\n                    </p>\r\n                  </>\r\n                )}\r\n              </Dragger>\r\n            </Form.Item>\r\n            <div style={{ clear: 'both' }}></div>\r\n            <Form.Item\r\n              name=\"infor_date\"\r\n              label=\"วันที่ลงข่าวประชาสัมพันธ์\"\r\n              className=\"block text-gray-700 text-sm font-bold mb-2 w-full form-organization\"\r\n              style={{ textAlign: 'left !important' }}\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: 'กรุณากรอกเลือกวันที่ลงข่าวประชาสัมพันธ์',\r\n                },\r\n              ]}\r\n            >\r\n              {/* <DatePicker\r\n                format=\"YYYY-MM-DD HH:mm:ss\"\r\n                showTime={{ format: 'HH:mm:ss' }}\r\n                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n              // showTime={{ defaultValue: moment('00:00:00') }}\r\n              /> */}\r\n              <DatePicker\r\n                className=\"w-full\"\r\n                showTime\r\n                onChange={onChange}\r\n                style={{\r\n                  width: '100%',\r\n                }}\r\n\r\n              />\r\n            </Form.Item>\r\n            <div style={{ clear: 'both' }}></div>\r\n            <Form.Item\r\n              name=\"infor_keyword\"\r\n              label=\"Keyword สำหรับทำ SEO\"\r\n              className=\"block text-gray-700 text-sm font-bold mb-2 w-full form-organization\"\r\n            >\r\n              <input\r\n                className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n                size=\"large\"\r\n                placeholder=\"Email\"\r\n              // onChange={() => setEmailText(event.target.value)}\r\n              />\r\n            </Form.Item>\r\n            <div style={{ clear: 'both' }}></div>\r\n            <Form.Item className=\"flex mt-6\">\r\n              <div className=\"lg:inline-flex w-full\">\r\n                <div className=\"lg:inline-flex text-left w-1/2\">\r\n                  <Switch\r\n                    className=\"swt-btn\"\r\n                    checked={active}\r\n                    onClick={value => {\r\n                      // console.log(value)\r\n                      setActive(value ? 1 : 0)\r\n                    }}\r\n                  />\r\n                  <p className=\"mx-2 text-sm\">การแสดงผล</p>\r\n                </div>\r\n                <div className=\"text-center lg:text-right w-full lg:w-1/2\">\r\n                  <Button\r\n                    htmlType=\"button\"\r\n                    onClick={onResetForm}\r\n                    style={{\r\n                      backgroundColor: '#C2CFE0',\r\n                      borderColor: '#C2CFE0',\r\n                      height: 40,\r\n                      width: 110,\r\n                      marginBottom: '0px !important',\r\n                      marginRight: '2px',\r\n                      color: 'white !important',\r\n                    }}\r\n                    // htmlType=\"submit\"\r\n                    className=\"text-center bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full lg:w-1/4\"\r\n                  >\r\n                    <Text className=\"text-custom-black \">รีเซ็ท</Text>\r\n                  </Button>\r\n                  <Button\r\n                    // type=\"primary\"\r\n                    style={{\r\n                      backgroundColor: '#059669',\r\n                      borderColor: '#059669',\r\n                      height: 40,\r\n                      width: 110,\r\n                      marginBottom: '0px !important',\r\n                      color: 'white !important',\r\n                    }}\r\n                    htmlType=\"submit\"\r\n                    className=\"text-center bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full lg:w-1/4\"\r\n                  >\r\n                    <Text className=\"text-custom-white \">บันทึก</Text>\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </Form.Item>\r\n          </Form>\r\n        </Row>\r\n      </div>\r\n    </Layout>\r\n  );\r\n}\r\n/* getServerSideProps */\r\nexport async function getServerSideProps(context) {\r\n  const { req } = context;\r\n  const { origin } = absoluteUrl(req);\r\n\r\n  return {\r\n    props: {\r\n      origin,\r\n    },\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}