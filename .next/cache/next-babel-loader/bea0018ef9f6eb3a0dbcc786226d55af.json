{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"D:\\\\govermentlt\\\\pages\\\\admin\\\\setting\\\\cover\\\\index.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport { DragOutlined } from '@ant-design/icons';\nimport { Button, Image, Input, List, Modal, notification, Spin, Typography } from 'antd';\nimport dynamic from 'next/dynamic';\nimport { useRouter } from 'next/router'; // import UserNav from '../components/navigation/User';\n\nimport React, { useEffect, useState } from 'react';\nimport ReactDragListView from 'react-drag-listview';\n/* components */\n\nimport Layout from '../../../../components/layout/LayoutAdmin';\nimport ModalAddMenu from '../../../../components/managemnet/cover-menu/add-menu';\nimport ModalEditMenu from '../../../../components/managemnet/cover-menu/edit-menu';\n/* utils */\n\nimport { apiInstance } from '../../../../middleware/utils';\nvar JoditEditor = dynamic(_c = function _c() {\n  return import(\"jodit-react\");\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak(\"jodit-react\")];\n    },\n    modules: [\"jodit-react\"]\n  }\n});\n_c2 = JoditEditor;\nvar Text = Typography.Text,\n    Title = Typography.Title;\nvar TextArea = Input.TextArea;\n\nvar config = require('./../../config');\n\nexport var __N_SSP = true;\nexport default function Home(props) {\n  _s();\n\n  var _this = this;\n\n  var _notification$useNoti = notification.useNotification(),\n      _notification$useNoti2 = _slicedToArray(_notification$useNoti, 2),\n      api = _notification$useNoti2[0],\n      contextHolder = _notification$useNoti2[1];\n\n  var user = props.user,\n      origin = props.origin;\n  var router = useRouter();\n\n  var _useState = useState(false),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var _useState2 = useState([]),\n      questions = _useState2[0],\n      setQuestions = _useState2[1];\n\n  var _useState3 = useState(false),\n      visibleEditModal = _useState3[0],\n      setVisibleEditModal = _useState3[1];\n\n  var _useState4 = useState(null),\n      dataEdit = _useState4[0],\n      setDataEdit = _useState4[1];\n\n  var _useState5 = useState(false),\n      visibleModalDelete = _useState5[0],\n      setVisibleModalDelete = _useState5[1];\n\n  var _useState6 = useState(null),\n      dataDelete = _useState6[0],\n      setDataDelete = _useState6[1];\n\n  useEffect(function () {\n    fetchCoverData();\n  }, []);\n\n  var fetchCoverData = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _pollQuestionData;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading(true);\n              _context.next = 3;\n              return apiInstance().get('/covermenu?organization_id=' + (user ? user.organization_id : 0));\n\n            case 3:\n              _pollQuestionData = _context.sent;\n              console.log(_pollQuestionData);\n              setQuestions(_pollQuestionData.data.results);\n              setLoading(false);\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function fetchCoverData() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var onDelete = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(value) {\n      var registerData;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return apiInstance()[\"delete\"]('covermenu/' + dataDelete.customer_headers, {});\n\n            case 2:\n              registerData = _context2.sent;\n\n              if (registerData.data.status == 200) {\n                openNotificationSuccess(); // fetchOrganizationData();\n\n                setVisibleModalDelete(false);\n                fetchCoverData(); // fetchPollQuestionData();\n              } else {\n                openNotificationFail(registerData.data.message);\n              }\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function onDelete(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var onclikEditModal = function onclikEditModal(value, obj) {\n    // compareSync\n    console.log('onclikEditModal');\n    setDataEdit(obj);\n    setVisibleEditModal(value);\n  };\n\n  var hideEditModal = function hideEditModal(data) {\n    // setVisibleModalDelete(false)\n    setVisibleEditModal(false);\n\n    if (data.status == 200) {\n      openNotificationSuccess();\n    } else {\n      openNotificationFail(data.message);\n    }\n\n    fetchCoverData();\n  };\n\n  var openNotificationSuccess = function openNotificationSuccess() {\n    api.success({\n      message: \"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\\u0E21\\u0E39\\u0E25\\u0E2A\\u0E33\\u0E40\\u0E23\\u0E47\\u0E08\",\n      description: 'บันทึกมูลสำเร็จ',\n      placement: 'topRight'\n    });\n  };\n\n  var openNotificationFail = function openNotificationFail(messgae) {\n    api.error({\n      message: \"\\u0E1E\\u0E1A\\u0E1B\\u0E31\\u0E0D\\u0E2B\\u0E32\\u0E23\\u0E30\\u0E2B\\u0E27\\u0E48\\u0E32\\u0E07\\u0E01\\u0E32\\u0E23\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\",\n      description: messgae,\n      placement: 'topRight'\n    });\n  };\n\n  var showModal = function showModal(data) {\n    setDataDelete(data);\n    setVisibleModalDelete(true);\n  };\n\n  var openNotificationDeleteSuccess = function openNotificationDeleteSuccess() {\n    api.success({\n      message: \"\\u0E25\\u0E1A\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E2A\\u0E33\\u0E40\\u0E23\\u0E47\\u0E08\",\n      description: 'ลบข้อมูลสำเร็จ',\n      placement: 'topRight'\n    });\n  };\n\n  var onDeleteHeader = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var registerData;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return apiInstance()[\"delete\"]('covermenu/' + dataDelete.header_id, {});\n\n            case 2:\n              registerData = _context3.sent;\n\n              if (registerData.data.status == 200) {\n                openNotificationDeleteSuccess(); // fetchOrganizationData();\n\n                setVisibleModalDelete(false);\n                fetchCoverData();\n              } else {\n                openNotificationFail(registerData.data.message);\n              }\n\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function onDeleteHeader() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var hideModal = function hideModal() {\n    setVisibleModalDelete(false);\n  };\n\n  var _onDragEnd = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(fromIndex, toIndex, type, index) {\n      var _data, menuData, _dataRevert, menuDataRevert;\n\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              setLoading(true);\n              /* IGNORES DRAG IF OUTSIDE DESIGNATED AREA */\n\n              if (!(toIndex < 0)) {\n                _context4.next = 3;\n                break;\n              }\n\n              return _context4.abrupt(\"return\");\n\n            case 3:\n              if (!(type === 'LIST-ITEM')) {\n                _context4.next = 15;\n                break;\n              }\n\n              _data = {\n                header_id: questions[fromIndex].header_id,\n                seq: toIndex\n              };\n              _context4.next = 7;\n              return apiInstance().put('covermenu/reorder-menu', _data);\n\n            case 7:\n              menuData = _context4.sent;\n              _dataRevert = {\n                header_id: questions[toIndex].header_id,\n                seq: fromIndex\n              };\n              _context4.next = 11;\n              return apiInstance().put('covermenu/reorder-menu', _dataRevert);\n\n            case 11:\n              menuDataRevert = _context4.sent;\n              return _context4.abrupt(\"return\", fetchCoverData());\n\n            case 15:\n              if (!(type === 'SUBLIST-ITEM')) {\n                _context4.next = 18;\n                break;\n              }\n\n              _context4.next = 19;\n              break;\n\n            case 18:\n              return _context4.abrupt(\"return\", new Error('NOT A VALID LIST'));\n\n            case 19:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function onDragEnd(_x2, _x3, _x4, _x5) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(Layout, {\n    title: \"Government - Admin management\",\n    url: origin,\n    origin: origin // user={login}\n    ,\n    indexMenu: \"sub-6-2\",\n    indexSubMenu: \"6\",\n    titlePage: \"\\u0E2A\\u0E48\\u0E27\\u0E19\\u0E2B\\u0E31\\u0E27\\u0E40\\u0E27\\u0E47\\u0E1A\\u0E44\\u0E0B\\u0E15\\u0E4C\",\n    _routes: [{\n      path: '/admin/dashborad',\n      breadcrumbName: 'หน้าหลัก'\n    }, {\n      path: '/admin/setting/cover',\n      breadcrumbName: 'ส่วนหัวเว็บไซต์'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 5\n    }\n  }, contextHolder, __jsx(\"link\", {\n    rel: \"stylesheet\",\n    href: \"https://unpkg.com/react-quill@1.3.3/dist/quill.snow.css\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }\n  }, __jsx(ModalAddMenu, {\n    fetch: fetchCoverData,\n    user: user,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 9\n    }\n  }), __jsx(ModalEditMenu, {\n    _visible: visibleEditModal,\n    hideEditModal: hideEditModal,\n    fetch: fetchCoverData,\n    user: user,\n    dataEdit: dataEdit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 9\n    }\n  }), __jsx(Spin, {\n    spinning: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 9\n    }\n  }, __jsx(ReactDragListView, {\n    nodeSelector: \".ant-list.draggable\",\n    lineClassName: \"dragLine\",\n    onDragEnd: function onDragEnd(fromIndex, toIndex) {\n      return _onDragEnd(fromIndex, toIndex, 'LIST-ITEM');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 11\n    }\n  }, questions.map(function (obj, index) {\n    return __jsx(List, {\n      header: __jsx(React.Fragment, null, __jsx(Typography.Text, {\n        strong: true,\n        className: \"grabbable \",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 21\n        }\n      }, __jsx(DragOutlined, {\n        className: \"icon\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 23\n        }\n      }), __jsx(Image // width={200}\n      , {\n        preview: false,\n        src: \"..\\\\..\\\\..\\\\uploads\\\\c-\" + user.organization_id + '\\\\cover\\\\' + obj.header_image,\n        style: {\n          paddingRight: '5px'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 23\n        }\n      }), obj.header_link && __jsx(React.Fragment, null, __jsx(\"br\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 25\n        }\n      }), __jsx(\"span\", {\n        className: \"ml-8 ml-2 mb-4\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 31\n        }\n      }, \"[ \", __jsx(\"a\", {\n        href: obj.header_link,\n        target: \"_blank\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 66\n        }\n      }, obj.header_link), \" ]\"), __jsx(\"br\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 138\n        }\n      })), __jsx(Tag, {\n        color: obj.is_show == 1 ? 'success' : 'default',\n        style: {\n          marginLeft: '10px',\n          marginRight: '0px'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 23\n        }\n      }, obj.is_show == 1 ? 'ใช้งาน' : 'ไม่ใช้งาน'), __jsx(\"br\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 23\n        }\n      }), __jsx(Button, {\n        className: \"ml-8 ml-2\",\n        type: \"default\",\n        onClick: function onClick() {\n          onclikEditModal(true, obj);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 23\n        }\n      }, \"\\u0E41\\u0E01\\u0E49\\u0E44\\u0E02\"), __jsx(Button, {\n        className: \"ml-2 mr-2\",\n        type: \"danger\",\n        onClick: function onClick() {\n          return showModal(obj);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 23\n        }\n      }, \"\\u0E25\\u0E1A\"))),\n      key: index,\n      className: \"draggable\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 15\n      }\n    }, __jsx(ReactDragListView, {\n      nodeSelector: \".ant-list-item.draggable-item\",\n      lineClassName: \"dragLine\",\n      onDragEnd: function onDragEnd(fromIndex, toIndex) {\n        return _onDragEnd(fromIndex, toIndex, 'SUBLIST-ITEM', index);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 17\n      }\n    }));\n  })))), __jsx(Modal, {\n    title: \"\\u0E04\\u0E38\\u0E13\\u0E15\\u0E49\\u0E2D\\u0E07\\u0E01\\u0E32\\u0E23\\u0E25\\u0E1A\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E2B\\u0E23\\u0E37\\u0E2D\\u0E44\\u0E21\\u0E48?\",\n    visible: visibleModalDelete,\n    onOk: onDeleteHeader,\n    onCancel: hideModal,\n    okText: \"\\u0E25\\u0E1A\",\n    cancelText: \"\\u0E22\\u0E01\\u0E40\\u0E25\\u0E34\\u0E01\",\n    okButtonProps: {\n      'type': \"primary\",\n      'danger': true\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 7\n    }\n  }, __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 9\n    }\n  }, \"\\u0E04\\u0E38\\u0E13\\u0E15\\u0E49\\u0E2D\\u0E07\\u0E01\\u0E32\\u0E23\\u0E25\\u0E1A \\\"\", dataDelete ? dataDelete.header_image : \"\", \"\\\" \\u0E2B\\u0E23\\u0E37\\u0E2D\\u0E44\\u0E21\\u0E48?  \")));\n}\n/* getServerSideProps */\n\n_s(Home, \"UtJB6QcdDwILzhixBttlo7iBn6w=\", false, function () {\n  return [notification.useNotification, useRouter];\n});\n\n_c3 = Home;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"JoditEditor$dynamic\");\n$RefreshReg$(_c2, \"JoditEditor\");\n$RefreshReg$(_c3, \"Home\");","map":{"version":3,"sources":["D:/govermentlt/pages/admin/setting/cover/index.js"],"names":["DragOutlined","Button","Image","Input","List","Modal","notification","Spin","Typography","dynamic","useRouter","React","useEffect","useState","ReactDragListView","Layout","ModalAddMenu","ModalEditMenu","apiInstance","JoditEditor","ssr","Text","Title","TextArea","config","require","Home","props","useNotification","api","contextHolder","user","origin","router","loading","setLoading","questions","setQuestions","visibleEditModal","setVisibleEditModal","dataEdit","setDataEdit","visibleModalDelete","setVisibleModalDelete","dataDelete","setDataDelete","fetchCoverData","get","organization_id","_pollQuestionData","console","log","data","results","onDelete","value","customer_headers","registerData","status","openNotificationSuccess","openNotificationFail","message","onclikEditModal","obj","hideEditModal","success","description","placement","messgae","error","showModal","openNotificationDeleteSuccess","onDeleteHeader","header_id","hideModal","onDragEnd","fromIndex","toIndex","type","index","_data","seq","put","menuData","_dataRevert","menuDataRevert","Error","path","breadcrumbName","map","header_image","paddingRight","header_link","is_show","marginLeft","marginRight"],"mappings":"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","sourcesContent":["import { DragOutlined } from '@ant-design/icons';\r\nimport { Button, Image, Input, List, Modal, notification, Spin, Typography } from 'antd';\r\nimport dynamic from 'next/dynamic';\r\nimport { useRouter } from 'next/router';\r\n// import UserNav from '../components/navigation/User';\r\nimport React, { useEffect, useState } from 'react';\r\nimport ReactDragListView from 'react-drag-listview';\r\n/* components */\r\nimport Layout from '../../../../components/layout/LayoutAdmin';\r\nimport ModalAddMenu from '../../../../components/managemnet/cover-menu/add-menu';\r\nimport ModalEditMenu from '../../../../components/managemnet/cover-menu/edit-menu';\r\n/* utils */\r\nimport {\r\n  absoluteUrl,\r\n  apiInstance\r\n} from '../../../../middleware/utils';\r\n\r\n\r\n\r\nconst JoditEditor = dynamic(() => import(\"jodit-react\"), { ssr: false });\r\nconst { Text, Title } = Typography;\r\n\r\nconst { TextArea } = Input;\r\nconst config = require('./../../config');\r\n\r\nexport default function Home(props) {\r\n  const [api, contextHolder] = notification.useNotification();\r\n  const { user, origin } = props;\r\n  const router = useRouter();\r\n  const [loading, setLoading] = useState(false);\r\n  const [questions, setQuestions] = useState([]);\r\n  const [visibleEditModal, setVisibleEditModal] = useState(false);\r\n  const [dataEdit, setDataEdit] = useState(null);\r\n  const [visibleModalDelete, setVisibleModalDelete] = useState(false)\r\n  const [dataDelete, setDataDelete] = useState(null)\r\n\r\n\r\n  useEffect(() => {\r\n    fetchCoverData();\r\n  }, []);\r\n\r\n\r\n  const fetchCoverData = async () => {\r\n    setLoading(true)\r\n    const _pollQuestionData = await apiInstance().get('/covermenu?organization_id=' + (user ? user.organization_id : 0));\r\n    console.log(_pollQuestionData)\r\n    setQuestions(_pollQuestionData.data.results)\r\n    setLoading(false)\r\n\r\n  };\r\n\r\n  const onDelete = async value => {\r\n    // console.log('DELETE')\r\n\r\n    const registerData = await apiInstance().delete(\r\n      'covermenu/' + dataDelete.customer_headers,\r\n      {},\r\n    );\r\n    if (registerData.data.status == 200) {\r\n      openNotificationSuccess();\r\n      // fetchOrganizationData();\r\n      setVisibleModalDelete(false);\r\n      fetchCoverData();\r\n      // fetchPollQuestionData();\r\n    } else {\r\n      openNotificationFail(registerData.data.message);\r\n    }\r\n  };\r\n\r\n  const onclikEditModal = (value, obj) => {\r\n    // compareSync\r\n    console.log('onclikEditModal');\r\n    setDataEdit(obj);\r\n    setVisibleEditModal(value);\r\n  };\r\n\r\n\r\n  const hideEditModal = (data) => {\r\n    // setVisibleModalDelete(false)\r\n    setVisibleEditModal(false);\r\n    if (data.status == 200) {\r\n      openNotificationSuccess();\r\n    } else {\r\n      openNotificationFail(data.message);\r\n    }\r\n    fetchCoverData();\r\n\r\n  };\r\n\r\n  const openNotificationSuccess = () => {\r\n    api.success({\r\n      message: `บันทึกมูลสำเร็จ`,\r\n      description: 'บันทึกมูลสำเร็จ',\r\n      placement: 'topRight',\r\n    });\r\n  };\r\n\r\n  const openNotificationFail = messgae => {\r\n    api.error({\r\n      message: `พบปัญหาระหว่างการบันทึกข้อมูล`,\r\n      description: messgae,\r\n      placement: 'topRight',\r\n    });\r\n  };\r\n\r\n  const showModal = (data) => {\r\n    setDataDelete(data)\r\n    setVisibleModalDelete(true)\r\n  };\r\n\r\n\r\n  const openNotificationDeleteSuccess = () => {\r\n    api.success({\r\n      message: `ลบข้อมูลสำเร็จ`,\r\n      description: 'ลบข้อมูลสำเร็จ',\r\n      placement: 'topRight',\r\n    });\r\n  };\r\n\r\n  const onDeleteHeader = async () => {\r\n    // console.log('DELETE')\r\n    // const data = {\r\n    //   'organization_name': value.organization_name,\r\n    // }\r\n    // console.log(data)\r\n    const registerData = await apiInstance().delete('covermenu/' + dataDelete.header_id, {});\r\n    if (registerData.data.status == 200) {\r\n      openNotificationDeleteSuccess()\r\n      // fetchOrganizationData();\r\n      setVisibleModalDelete(false)\r\n      fetchCoverData();\r\n\r\n    } else {\r\n      openNotificationFail(registerData.data.message)\r\n\r\n    }\r\n  }\r\n  const hideModal = () => {\r\n    setVisibleModalDelete(false)\r\n  };\r\n\r\n\r\n  const onDragEnd = async (fromIndex, toIndex, type, index) => {\r\n    setLoading(true);\r\n    /* IGNORES DRAG IF OUTSIDE DESIGNATED AREA */\r\n    if (toIndex < 0) return;\r\n\r\n    /* REORDER PARENT OR SUBLIST, ELSE THROW ERROR */\r\n    if (type === 'LIST-ITEM') {\r\n      const _data = {\r\n        header_id: questions[fromIndex].header_id,\r\n        seq: toIndex,\r\n      };\r\n      const menuData = await apiInstance().put('covermenu/reorder-menu', _data);\r\n\r\n      const _dataRevert = {\r\n        header_id: questions[toIndex].header_id,\r\n        seq: fromIndex,\r\n      };\r\n      const menuDataRevert = await apiInstance().put(\r\n        'covermenu/reorder-menu',\r\n        _dataRevert,\r\n      );\r\n      // console.log(menuDataRevert)\r\n      return fetchCoverData();\r\n      // const categories = reorder(data, fromIndex, toIndex);\r\n      // return setData(categories);\r\n    } else if (type === 'SUBLIST-ITEM') {\r\n      // console.log(' onDragEnd LIST-ITEM');\r\n      // console.log(fromIndex);\r\n      // console.log(toIndex);\r\n      // console.log(type);\r\n      // console.log(index);\r\n      // console.log(menus[index].menu_subs[fromIndex]);\r\n      // console.log(menus[index].menu_subs[toIndex]);\r\n      // const _data = {\r\n      //   menu_sub_id: menus[index].menu_subs[fromIndex].menu_sub_id,\r\n      //   menu_seq: toIndex,\r\n      // };\r\n      // const menuData = await apiInstance().put('menu/reorder-menu-sub', _data);\r\n\r\n      // const _dataRevert = {\r\n      //   menu_sub_id: menus[index].menu_subs[toIndex].menu_sub_id,\r\n      //   menu_seq: fromIndex,\r\n      // };\r\n      // const menuDataRevert = await apiInstance().put(\r\n      //   'menu/reorder-menu-sub',\r\n      //   _dataRevert,\r\n      // );\r\n\r\n      // // const subList = reorder(data[index].subList, fromIndex, toIndex);\r\n      // // const categories = JSON.parse(JSON.stringify(data));\r\n      // // categories[index].subList = subList;\r\n      // // return setData(categories);\r\n      // return fetch();\r\n    } else return new Error('NOT A VALID LIST');\r\n  };\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Government - Admin management\"\r\n      url={origin}\r\n      origin={origin}\r\n      // user={login}\r\n      indexMenu={\"sub-6-2\"}\r\n      indexSubMenu={\"6\"}\r\n      titlePage=\"ส่วนหัวเว็บไซต์\"\r\n      _routes={[\r\n        {\r\n          path: '/admin/dashborad',\r\n          breadcrumbName: 'หน้าหลัก',\r\n        },\r\n        {\r\n          path: '/admin/setting/cover',\r\n          breadcrumbName: 'ส่วนหัวเว็บไซต์',\r\n        },\r\n      ]}\r\n    >\r\n      {contextHolder}\r\n      <link\r\n        rel=\"stylesheet\"\r\n        href=\"https://unpkg.com/react-quill@1.3.3/dist/quill.snow.css\"\r\n      ></link>\r\n      <div>\r\n        <ModalAddMenu fetch={fetchCoverData} user={user} />\r\n        <ModalEditMenu\r\n          _visible={visibleEditModal}\r\n          hideEditModal={hideEditModal}\r\n          fetch={fetchCoverData}\r\n          user={user}\r\n          dataEdit={dataEdit}\r\n        />\r\n        <Spin spinning={loading}>\r\n          <ReactDragListView\r\n            nodeSelector=\".ant-list.draggable\"\r\n            lineClassName=\"dragLine\"\r\n            onDragEnd={(fromIndex, toIndex) =>\r\n              onDragEnd(fromIndex, toIndex, 'LIST-ITEM')\r\n            }\r\n          >\r\n            {/* {questions.length == 0 && <Empty />} */}\r\n            {questions.map((obj, index) => (\r\n              <List\r\n                header={\r\n                  <>\r\n                    <Typography.Text strong className=\"grabbable \">\r\n                      <DragOutlined className=\"icon\" />\r\n\r\n                      {/* {obj.header_image} */}\r\n                      <Image\r\n                        // width={200}\r\n                        preview={false}\r\n                        src={'..\\\\..\\\\..\\\\uploads\\\\c-' +\r\n                          user.organization_id +\r\n                          '\\\\cover\\\\' +\r\n                          obj.header_image}\r\n\r\n                        style={{\r\n                          paddingRight: '5px'\r\n                        }}\r\n                      />\r\n                      {obj.header_link && <>\r\n                        <br /><span className=\"ml-8 ml-2 mb-4\">[ <a href={obj.header_link} target='_blank'>{obj.header_link}</a> ]</span><br />\r\n                      </>\r\n                      }\r\n                      <Tag\r\n                        color={obj.is_show == 1 ? 'success' : 'default'}\r\n                        style={{ marginLeft: '10px', marginRight: '0px' }}\r\n                      >\r\n                        {obj.is_show == 1 ? 'ใช้งาน' : 'ไม่ใช้งาน'}\r\n                      </Tag>\r\n                      <br />\r\n                      <Button\r\n                        className=\"ml-8 ml-2\"\r\n                        type=\"default\"\r\n                        onClick={() => {\r\n                          onclikEditModal(true, obj);\r\n                        }}\r\n                      >\r\n                        แก้ไข\r\n                      </Button>\r\n\r\n                      <Button\r\n                        className=\"ml-2 mr-2\"\r\n                        type=\"danger\"\r\n                        onClick={() => showModal(obj)}\r\n                      >\r\n                        ลบ\r\n                      </Button>\r\n                    </Typography.Text>\r\n\r\n                  </>\r\n                }\r\n                key={index}\r\n                className=\"draggable\"\r\n              >\r\n                <ReactDragListView\r\n                  nodeSelector=\".ant-list-item.draggable-item\"\r\n                  lineClassName=\"dragLine\"\r\n                  onDragEnd={(fromIndex, toIndex) =>\r\n                    onDragEnd(fromIndex, toIndex, 'SUBLIST-ITEM', index)\r\n                  }\r\n                ></ReactDragListView>\r\n              </List>\r\n            ))}\r\n          </ReactDragListView>\r\n        </Spin>\r\n      </div>\r\n      <Modal\r\n        title=\"คุณต้องการลบข้อมูลหรือไม่?\"\r\n        visible={visibleModalDelete}\r\n        onOk={onDeleteHeader}\r\n        onCancel={hideModal}\r\n        okText=\"ลบ\"\r\n        cancelText=\"ยกเลิก\"\r\n        okButtonProps={{\r\n          'type': \"primary\",\r\n          'danger': true\r\n        }}\r\n      >\r\n        <p>คุณต้องการลบ \"{dataDelete ? dataDelete.header_image : \"\"}\" หรือไม่?  </p>\r\n\r\n      </Modal>\r\n\r\n    </Layout>\r\n  );\r\n}\r\n/* getServerSideProps */\r\nexport async function getServerSideProps(context) {\r\n  const { req } = context;\r\n  const { origin } = absoluteUrl(req);\r\n\r\n  return {\r\n    props: {\r\n      origin,\r\n    },\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}