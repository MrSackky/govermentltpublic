{"ast":null,"code":"var _jsxFileName = \"D:\\\\govermentlt\\\\pages\\\\admin\\\\management\\\\journal\\\\[journalId].js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { FilePdfTwoTone, InboxOutlined } from '@ant-design/icons';\nimport { Button, Form, Image, Row, Select, Switch, Typography, Upload, notification } from 'antd';\nimport TextArea from 'antd/lib/input/TextArea';\nimport axios from 'axios';\nimport dynamic from 'next/dynamic';\nimport { useRouter } from 'next/router'; // import UserNav from '../components/navigation/User';\n\nimport { useEffect, useRef, useState } from 'react';\nimport validator from 'validator';\n/* components */\n\nimport Layout from '../../../../components/layout/LayoutAdmin';\n/* utils */\n\nimport { absoluteUrl, apiInstance } from '../../../../middleware/utils';\nconst {\n  Text,\n  Title\n} = Typography;\nconst {\n  Option\n} = Select;\nexport default function Home(props) {\n  const {\n    user,\n    origin\n  } = props;\n  const {\n    0: url,\n    1: setUrl\n  } = useState('');\n  const {\n    0: journalData,\n    1: setJournalData\n  } = useState(null);\n  const {\n    0: previewImage,\n    1: setPreviewImage\n  } = useState(null);\n  const {\n    0: imageLandingPage,\n    1: setImageLandingPage\n  } = useState(null);\n  const {\n    0: previewVisibleImage,\n    1: setPreviewVisibleImage\n  } = useState(false);\n  const {\n    0: previewFile,\n    1: setPreviewFile\n  } = useState(null);\n  const {\n    0: previewVisibleFile,\n    1: setPreviewVisibleFile\n  } = useState(false);\n  const {\n    0: journal_ori,\n    1: setJournal_ori\n  } = useState('');\n  const {\n    0: fields,\n    1: setFields\n  } = useState([{\n    name: ['question_title'],\n    value: ''\n  }]);\n  const [api, contextHolder] = notification.useNotification();\n  const router = useRouter();\n  const {\n    journalId\n  } = router.query;\n  const {\n    Dragger\n  } = Upload;\n  const {\n    0: date,\n    1: setDate\n  } = useState('');\n  const {\n    0: active,\n    1: setActive\n  } = useState(1);\n  const JoditEditor = dynamic(() => import('jodit-react'), {\n    ssr: false,\n    loadableGenerated: {\n      webpack: () => [require.resolveWeak('jodit-react')],\n      modules: ['jodit-react']\n    }\n  });\n\n  const config = require('../../config');\n\n  const editor = useRef(null);\n  const {\n    0: content,\n    1: setContent\n  } = useState('');\n  const {\n    0: acept,\n    1: setAcept\n  } = useState('');\n\n  const acepted = () => {\n    acept ? setAcept(0) : setAcept(1);\n  };\n\n  async function onSubmitHandler(value) {\n    // console.log(\"value\")\n    // console.log(value)\n    const data = {\n      organization_id: user.organization_id,\n      journal_subject: value.journal_subject,\n      journal_detail: value.journal_detail,\n      journal_file: value.journal_subject,\n      journal_ori: journal_ori,\n      journal_img: imageLandingPage,\n      is_show: active,\n      is_deleted: '0'\n    }; // console.log(data)\n\n    const registerData = await apiInstance().put('/journal/' + journalId, data);\n\n    if (registerData.data.status == 200) {\n      openNotificationRegisterSuccess();\n      fetchJournalData();\n      setTimeout(function () {\n        //Start the timer\n        router.push('/admin/management/journal');\n      }.bind(this), 2000);\n    } else {\n      openNotificationRegisterFail(registerData.data.message);\n    }\n  }\n\n  const openNotificationRegisterSuccess = () => {\n    api.success({\n      message: `บันทึกข้อมูลสำเร็จ`,\n      description: 'บันทึกข้อมูลสำเร็จ',\n      placement: 'topRight'\n    });\n  };\n\n  const openNotificationRegisterFail = messgae => {\n    api.error({\n      message: `พบปัญหาระหว่างการบันทึกข้อมูล`,\n      description: messgae,\n      placement: 'topRight'\n    });\n  };\n\n  const validateURL = inputText => {\n    setUrl(validator.trim(inputText));\n  };\n\n  useEffect(() => {\n    fetchJournalData();\n  }, []);\n\n  const onResetForm = () => {\n    setActive(journalData.is_use == 1 ? 1 : 0);\n    setFields([{\n      name: ['journal_subject'],\n      value: journalData.journal_subject\n    }, {\n      name: ['journal_detail'],\n      value: journalData.journal_detail\n    }, {\n      name: ['journal_file'],\n      value: journalData.journal_file\n    }, {\n      name: ['journal_ori'],\n      value: journalData.journal_ori\n    }, {\n      name: ['journal_img'],\n      value: journalData.journal_img\n    }, {\n      name: ['is_show'],\n      value: journalData.is_show\n    }]);\n    setPreviewFile('..\\\\..\\\\..\\\\uploads\\\\c-' + user.organization_id + '\\\\journal\\\\' + journalData.journal_ori);\n    setPreviewVisibleFile(true);\n    setJournal_ori(journalData.journal_ori);\n    setPreviewImage('..\\\\..\\\\..\\\\uploads\\\\c-' + user.organization_id + '\\\\journal\\\\' + journalData.journal_img);\n    setPreviewVisibleImage(true);\n    setPreviewVisibleImage(journalData.journal_img);\n  };\n\n  const fetchJournalData = async () => {\n    const _journalData = await apiInstance().get('journal/' + journalId);\n\n    setJournalData(_journalData.data.journal);\n    setPreviewImage('..\\\\..\\\\..\\\\uploads\\\\c-' + user.organization_id + '\\\\journal\\\\' + _journalData.data.journal.journal_img);\n    setPreviewVisibleImage(true);\n    setPreviewVisibleFile(true);\n    setImageLandingPage(_journalData.data.journal.journal_img);\n    setActive(_journalData.data.journal.is_show);\n    setFields([{\n      name: ['journal_subject'],\n      value: _journalData.data.journal.journal_subject\n    }, {\n      name: ['journal_detail'],\n      value: _journalData.data.journal.journal_detail\n    }, {\n      name: ['journal_file'],\n      value: _journalData.data.journal.journal_file\n    }, {\n      name: ['journal_ori'],\n      value: _journalData.data.journal.journal_ori\n    }, {\n      name: ['journal_img'],\n      value: _journalData.data.journal.journal_img\n    }, {\n      name: ['is_show'],\n      value: _journalData.data.journal.is_show\n    }]);\n  };\n\n  const fileUploadprops = {\n    name: 'file',\n    multiple: false,\n    listType: 'text',\n    maxCount: 1,\n    action: \"/api/upload/journal\",\n    preview: false,\n    // uid: user.type_user == 1 ? \"admin\" : user.organization_id,\n    // beforeUpload(file) {\n    // \tconst isLt10M = file.size / 1024 / 1024 < 10\n    // \tif (!isLt10M) {\n    // \t\tnotification.open({\n    // \t\t\tmessage: 'Upload error!',\n    // \t\t\tdescription: <Text className=\"text-black\">Image must smaller than 10MB!</Text>,\n    // \t\t})\n    // \t}\n    // \treturn isLt10M\n    // },\n    customRequest: options => {\n      const data = new FormData();\n      data.append('file', options.file);\n      data.append('id', user.type_user == 1 ? \"admin\" : user.organization_id);\n      const config = {\n        \"headers\": {\n          \"content-type\": 'multipart/form-data; boundary=----WebKitFormBoundaryqTqJIxvkWFYqvP5s'\n        }\n      };\n      axios.post(options.action, data, config).then(res => {\n        setJournal_ori(res.data.data.list[0]._name); // setImageLandingPage(res.data.data.list[0]._name)\n\n        options.onSuccess(res.data, options.file);\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n\n    async onChange(info) {\n      const {\n        status\n      } = info.file; // console.log(user)\n\n      switch (info.file.status) {\n        // case \"uploading\":\n        //   nextState.selectedFileList = [info.file];\n        //   break;\n        case \"done\":\n          if (!info.file.url && !info.file.preview) {\n            info.file.preview = await getBase64(info.file.originFileObj);\n          }\n\n          setPreviewFile(info.file.url || info.file.preview);\n          setPreviewVisibleFile(true);\n          break;\n\n        default:\n          // error or removed\n          resetImagePreview();\n      } //console.log(info.file)\n      // this.setState({\n      //   previewImage: file.url || file.preview,\n      //   previewVisible: true,\n      // });\n\n    },\n\n    onRemove(info) {\n      console.log(\"onRemove\");\n      console.log(info);\n      resetImagePreview();\n    }\n\n  };\n  const imageUploadprops = {\n    name: 'file',\n    multiple: false,\n    listType: 'text',\n    maxCount: 1,\n    action: \"/api/upload/journal\",\n    preview: false,\n    // uid: user.type_user == 1 ? \"admin\" : user.organization_id,\n    // beforeUpload(file) {\n    // \tconst isLt10M = file.size / 1024 / 1024 < 10\n    // \tif (!isLt10M) {\n    // \t\tnotification.open({\n    // \t\t\tmessage: 'Upload error!',\n    // \t\t\tdescription: <Text className=\"text-black\">Image must smaller than 10MB!</Text>,\n    // \t\t})\n    // \t}\n    // \treturn isLt10M\n    // },\n    customRequest: options => {\n      const data = new FormData();\n      data.append('file', options.file);\n      data.append('id', user.type_user == 1 ? \"admin\" : user.organization_id);\n      const config = {\n        \"headers\": {\n          \"content-type\": 'multipart/form-data; boundary=----WebKitFormBoundaryqTqJIxvkWFYqvP5s'\n        }\n      };\n      axios.post(options.action, data, config).then(res => {\n        // setJournal_ori(res.data.data.list[0]._name)\n        setImageLandingPage(res.data.data.list[0]._name);\n        options.onSuccess(res.data, options.file);\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n\n    async onChange(info) {\n      const {\n        status\n      } = info.file; // console.log(user)\n\n      switch (info.file.status) {\n        // case \"uploading\":\n        //   nextState.selectedFileList = [info.file];\n        //   break;\n        case \"done\":\n          if (!info.file.url && !info.file.preview) {\n            info.file.preview = await getBase64(info.file.originFileObj);\n          }\n\n          setPreviewImage(info.file.url || info.file.preview);\n          setPreviewVisibleImage(true);\n          break;\n\n        default:\n          // error or removed\n          resetImagePreview();\n      } //console.log(info.file)\n      // this.setState({\n      //   previewImage: file.url || file.preview,\n      //   previewVisible: true,\n      // });\n\n    },\n\n    onRemove(info) {\n      console.log(\"onRemove\");\n      console.log(info);\n      resetImagePreview();\n    }\n\n  };\n\n  const resetImagePreview = () => {\n    setPreviewVisibleFile(false);\n    setPreviewVisibleImage(false);\n    setPreviewFile(null);\n    setPreviewImage(null);\n  };\n\n  function getBase64(file) {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n\n      reader.onload = () => resolve(reader.result);\n\n      reader.onerror = error => reject(error);\n    });\n  }\n\n  return __jsx(Layout, {\n    title: \"Government - Admin management\",\n    titlePage: 'แก้ไขวารสาร ' + (journalData ? journalData.journal_subject : ''),\n    url: origin,\n    indexSubMenu: \"1\",\n    indexMenu: \"sub-1-7\",\n    origin: origin,\n    props: props,\n    _routes: [{\n      path: '/admin/dashborad',\n      breadcrumbName: 'หน้าหลัก'\n    }, {\n      path: '/admin/management/journal',\n      breadcrumbName: 'จัดการวารสาร'\n    }, {\n      path: '/admin/management/add-journal',\n      breadcrumbName: 'แก้ไขวารสาร'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 7\n    }\n  }, contextHolder, __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 9\n    }\n  }, __jsx(Form, {\n    name: \"basic\",\n    className: \"w-full\" // initialValues={{ email: email, invitationCode: code }}\n    ,\n    layout: \"vertical\",\n    onFinish: onSubmitHandler // onFinishFailed={onFinishFailed}\n    ,\n    requiredMark: true,\n    fields: fields,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 11\n    }\n  }, __jsx(Form.Item, {\n    name: \"journal_subject\",\n    label: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E27\\u0E32\\u0E23\\u0E2A\\u0E32\\u0E23 :\",\n    className: \"block text-gray-700 text-sm font-bold mb-2 w-full\",\n    rules: [{\n      required: true,\n      message: 'กรุณากรอกชื่อวารสาร'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 13\n    }\n  }, __jsx(TextArea, {\n    id: \"#\",\n    type: \"text\",\n    placeholder: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E27\\u0E32\\u0E23\\u0E2A\\u0E32\\u0E23\",\n    className: \"resize-none border rounded-md\",\n    autoSize: {\n      minRows: 1,\n      maxRows: 3\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 15\n    }\n  })), __jsx(\"div\", {\n    style: {\n      clear: 'both'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 13\n    }\n  }), __jsx(Form.Item, {\n    name: \"journal_ori\",\n    label: \"\\u0E41\\u0E19\\u0E1A\\u0E44\\u0E1F\\u0E25\\u0E4C :\",\n    className: \"block text-gray-700 text-sm font-bold mb-2 w-full\",\n    rules: [{\n      required: true,\n      message: 'กรุณากรอกเลือกเอกสาร'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 13\n    }\n  }, __jsx(Dragger, _extends({\n    maxCount: 1 // listType=\"picture\"\n    ,\n    accept: \".pdf\"\n  }, fileUploadprops, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 422,\n      columnNumber: 15\n    }\n  }), previewVisibleFile && __jsx(React.Fragment, null, \" \", __jsx(\"p\", {\n    className: \"ant-upload-drag-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 429,\n      columnNumber: 43\n    }\n  }, __jsx(FilePdfTwoTone, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 19\n    }\n  })), __jsx(\"p\", {\n    className: \"ant-upload-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 19\n    }\n  }, \"\\u0E2D\\u0E31\\u0E1E\\u0E42\\u0E2B\\u0E25\\u0E14\\u0E44\\u0E1F\\u0E25\\u0E4C\\u0E40\\u0E23\\u0E35\\u0E22\\u0E1A\\u0E23\\u0E49\\u0E2D\\u0E22\", __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 41\n    }\n  }), \"\\u0E04\\u0E25\\u0E34\\u0E01 \\u0E2B\\u0E23\\u0E37\\u0E2D \\u0E25\\u0E32\\u0E01\\u0E44\\u0E1F\\u0E25\\u0E4C\\u0E21\\u0E32\\u0E17\\u0E35\\u0E48\\u0E1A\\u0E23\\u0E34\\u0E40\\u0E27\\u0E13\\u0E19\\u0E35\\u0E49\\u0E40\\u0E1E\\u0E37\\u0E48\\u0E2D\\u0E2D\\u0E31\\u0E1B\\u0E42\\u0E2B\\u0E25\\u0E14\")), !previewVisibleFile && __jsx(React.Fragment, null, __jsx(\"p\", {\n    className: \"ant-upload-drag-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 19\n    }\n  }, __jsx(InboxOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 21\n    }\n  })), __jsx(\"p\", {\n    className: \"ant-upload-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 442,\n      columnNumber: 19\n    }\n  }, \"\\u0E04\\u0E25\\u0E34\\u0E01 \\u0E2B\\u0E23\\u0E37\\u0E2D \\u0E25\\u0E32\\u0E01\\u0E44\\u0E1F\\u0E25\\u0E4C\\u0E21\\u0E32\\u0E17\\u0E35\\u0E48\\u0E1A\\u0E23\\u0E34\\u0E40\\u0E27\\u0E13\\u0E19\\u0E35\\u0E49\\u0E40\\u0E1E\\u0E37\\u0E48\\u0E2D\\u0E2D\\u0E31\\u0E1B\\u0E42\\u0E2B\\u0E25\\u0E14\")))), __jsx(\"div\", {\n    style: {\n      clear: 'both'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 449,\n      columnNumber: 13\n    }\n  }), __jsx(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 450,\n      columnNumber: 13\n    }\n  }, journalData && __jsx(React.Fragment, null, journalData.journal_ori && __jsx(React.Fragment, null, __jsx(\"div\", {\n    class: \"ant-upload-text-icon\",\n    style: {\n      float: 'left',\n      marginRight: '2px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 452,\n      columnNumber: 47\n    }\n  }, __jsx(\"span\", {\n    role: \"img\",\n    \"aria-label\": \"paper-clip\",\n    class: \"anticon anticon-paper-clip\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 452,\n      columnNumber: 127\n    }\n  }, __jsx(\"svg\", {\n    viewBox: \"64 64 896 896\",\n    focusable: \"false\",\n    \"data-icon\": \"paper-clip\",\n    width: \"1em\",\n    height: \"1em\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 452,\n      columnNumber: 203\n    }\n  }, __jsx(\"path\", {\n    d: \"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 452,\n      columnNumber: 337\n    }\n  })))), __jsx(\"a\", {\n    href: '/uploads/c-' + user.organization_id + '/journal/' + journalData.journal_ori,\n    target: \"_blank\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 453,\n      columnNumber: 19\n    }\n  }, journalData.journal_ori)))), __jsx(\"div\", {\n    style: {\n      clear: 'both'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 456,\n      columnNumber: 13\n    }\n  }), __jsx(Form.Item, {\n    name: \"journal_detail\",\n    label: \"\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14 :\",\n    className: \"block text-gray-700 text-sm font-bold mb-2 w-full\",\n    rules: [{\n      required: true,\n      message: 'กรุณากรอกรายละเอียดวารสาร'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 457,\n      columnNumber: 13\n    }\n  }, __jsx(JoditEditor, {\n    ref: editor,\n    value: content,\n    config: config.config(user),\n    height: \"700px\",\n    tabIndex: 1 // tabIndex of textarea\n    ,\n    onBlur: newContent => setContent(newContent) // preferred to use only this option to update the content for performance reasons\n    ,\n    onChange: newContent => {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 468,\n      columnNumber: 15\n    }\n  })), __jsx(\"div\", {\n    style: {\n      clear: 'both'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 478,\n      columnNumber: 13\n    }\n  }), __jsx(Form.Item, {\n    name: \"journal_img\",\n    label: \"\\u0E20\\u0E32\\u0E1E\\u0E1B\\u0E01\\u0E27\\u0E32\\u0E23\\u0E2A\\u0E32\\u0E23 :\",\n    className: \"block text-gray-700 text-sm font-bold mb-2 w-full\",\n    rules: [{\n      required: true,\n      message: 'กรุณากรอกเลือกภาพปกวารสาร'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 13\n    }\n  }, __jsx(Dragger, _extends({\n    maxCount: 1 // listType=\"picture\"\n    ,\n    accept: \".jpg, .jpeg, .png\"\n  }, imageUploadprops, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 491,\n      columnNumber: 15\n    }\n  }), previewVisibleImage && __jsx(React.Fragment, null, __jsx(Image // width={200}\n  , {\n    preview: false,\n    src: previewImage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 498,\n      columnNumber: 43\n    }\n  })), !previewVisibleImage && __jsx(React.Fragment, null, __jsx(\"p\", {\n    className: \"ant-upload-drag-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 506,\n      columnNumber: 19\n    }\n  }, __jsx(InboxOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 507,\n      columnNumber: 21\n    }\n  })), __jsx(\"p\", {\n    className: \"ant-upload-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 509,\n      columnNumber: 19\n    }\n  }, \"\\u0E04\\u0E25\\u0E34\\u0E01 \\u0E2B\\u0E23\\u0E37\\u0E2D \\u0E25\\u0E32\\u0E01\\u0E44\\u0E1F\\u0E25\\u0E4C\\u0E21\\u0E32\\u0E17\\u0E35\\u0E48\\u0E1A\\u0E23\\u0E34\\u0E40\\u0E27\\u0E13\\u0E19\\u0E35\\u0E49\\u0E40\\u0E1E\\u0E37\\u0E48\\u0E2D\\u0E2D\\u0E31\\u0E1B\\u0E42\\u0E2B\\u0E25\\u0E14\")))), __jsx(\"div\", {\n    style: {\n      clear: 'both'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 516,\n      columnNumber: 13\n    }\n  }), __jsx(Form.Item, {\n    className: \"flex mt-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 517,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"lg:inline-flex w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 518,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"lg:inline-flex text-left w-1/2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 519,\n      columnNumber: 17\n    }\n  }, __jsx(Switch, {\n    className: \"swt-btn\",\n    checked: active,\n    onClick: value => setActive(value ? 1 : 0),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 520,\n      columnNumber: 19\n    }\n  }), __jsx(\"p\", {\n    className: \"mx-2 text-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 525,\n      columnNumber: 19\n    }\n  }, \"\\u0E01\\u0E32\\u0E23\\u0E41\\u0E2A\\u0E14\\u0E07\\u0E1C\\u0E25\")), __jsx(\"div\", {\n    className: \"text-center lg:text-right w-full lg:w-1/2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 527,\n      columnNumber: 17\n    }\n  }, __jsx(Button, {\n    htmlType: \"button\",\n    onClick: onResetForm,\n    style: {\n      backgroundColor: '#C2CFE0',\n      borderColor: '#C2CFE0',\n      height: 40,\n      width: 110,\n      marginBottom: '0px !important',\n      marginRight: '2px',\n      color: 'white !important'\n    } // htmlType=\"submit\"\n    ,\n    className: \"text-center bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full lg:w-1/4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 528,\n      columnNumber: 19\n    }\n  }, __jsx(Text, {\n    className: \"text-custom-black \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 543,\n      columnNumber: 21\n    }\n  }, \"\\u0E23\\u0E35\\u0E40\\u0E0B\\u0E47\\u0E17\")), __jsx(Button // type=\"primary\"\n  , {\n    style: {\n      backgroundColor: '#059669',\n      borderColor: '#059669',\n      height: 40,\n      width: 110,\n      marginBottom: '0px !important',\n      color: 'white !important'\n    },\n    htmlType: \"submit\",\n    className: \"text-center bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full lg:w-1/4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 545,\n      columnNumber: 19\n    }\n  }, __jsx(Text, {\n    className: \"text-custom-white \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 558,\n      columnNumber: 21\n    }\n  }, \"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\")))))))));\n}\n/* getServerSideProps */\n\nexport async function getServerSideProps(context) {\n  const {\n    req\n  } = context;\n  const {\n    origin\n  } = absoluteUrl(req);\n  return {\n    props: {\n      origin\n    }\n  };\n}","map":{"version":3,"sources":["D:/govermentlt/pages/admin/management/journal/[journalId].js"],"names":["FilePdfTwoTone","InboxOutlined","Button","Form","Image","Row","Select","Switch","Typography","Upload","notification","TextArea","axios","dynamic","useRouter","useEffect","useRef","useState","validator","Layout","absoluteUrl","apiInstance","Text","Title","Option","Home","props","user","origin","url","setUrl","journalData","setJournalData","previewImage","setPreviewImage","imageLandingPage","setImageLandingPage","previewVisibleImage","setPreviewVisibleImage","previewFile","setPreviewFile","previewVisibleFile","setPreviewVisibleFile","journal_ori","setJournal_ori","fields","setFields","name","value","api","contextHolder","useNotification","router","journalId","query","Dragger","date","setDate","active","setActive","JoditEditor","ssr","config","require","editor","content","setContent","acept","setAcept","acepted","onSubmitHandler","data","organization_id","journal_subject","journal_detail","journal_file","journal_img","is_show","is_deleted","registerData","put","status","openNotificationRegisterSuccess","fetchJournalData","setTimeout","push","bind","openNotificationRegisterFail","message","success","description","placement","messgae","error","validateURL","inputText","trim","onResetForm","is_use","_journalData","get","journal","fileUploadprops","multiple","listType","maxCount","action","preview","customRequest","options","FormData","append","file","type_user","post","then","res","list","_name","onSuccess","catch","err","console","log","onChange","info","getBase64","originFileObj","resetImagePreview","onRemove","imageUploadprops","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","path","breadcrumbName","required","minRows","maxRows","clear","float","marginRight","newContent","backgroundColor","borderColor","height","width","marginBottom","color","getServerSideProps","context","req"],"mappings":"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","sourcesContent":["import { FilePdfTwoTone, InboxOutlined } from '@ant-design/icons';\r\nimport {\r\n  Button, Form, Image,\r\n  Row, Select,\r\n  Switch, Typography, Upload,\r\n  notification\r\n} from 'antd';\r\nimport TextArea from 'antd/lib/input/TextArea';\r\nimport axios from 'axios';\r\nimport dynamic from 'next/dynamic';\r\nimport { useRouter } from 'next/router';\r\n// import UserNav from '../components/navigation/User';\r\nimport { useEffect, useRef, useState } from 'react';\r\nimport validator from 'validator';\r\n/* components */\r\nimport Layout from '../../../../components/layout/LayoutAdmin';\r\n/* utils */\r\nimport {\r\n  absoluteUrl, apiInstance\r\n} from '../../../../middleware/utils';\r\n\r\nconst { Text, Title } = Typography;\r\nconst { Option } = Select;\r\n\r\nexport default function Home(props) {\r\n  const { user, origin } = props;\r\n  const [url, setUrl] = useState('');\r\n  const [journalData, setJournalData] = useState(null);\r\n  const [previewImage, setPreviewImage] = useState(null)\r\n  const [imageLandingPage, setImageLandingPage] = useState(null)\r\n  const [previewVisibleImage, setPreviewVisibleImage] = useState(false)\r\n  const [previewFile, setPreviewFile] = useState(null)\r\n  const [previewVisibleFile, setPreviewVisibleFile] = useState(false)\r\n  const [journal_ori, setJournal_ori] = useState('')\r\n  const [fields, setFields] = useState([\r\n    {\r\n      name: ['question_title'],\r\n      value: '',\r\n    },\r\n  ]);\r\n  const [api, contextHolder] = notification.useNotification();\r\n  const router = useRouter();\r\n  const { journalId } = router.query;\r\n  const { Dragger } = Upload;\r\n  const [date, setDate] = useState('');\r\n  const [active, setActive] = useState(1);\r\n  const JoditEditor = dynamic(() => import('jodit-react'), { ssr: false });\r\n  const config = require('../../config');\r\n  const editor = useRef(null);\r\n  const [content, setContent] = useState('');\r\n\r\n  const [acept, setAcept] = useState('');\r\n  const acepted = () => {\r\n    acept ? setAcept(0) : setAcept(1);\r\n  };\r\n  async function onSubmitHandler(value) {\r\n    // console.log(\"value\")\r\n    // console.log(value)\r\n    const data = {\r\n      organization_id: user.organization_id,\r\n      journal_subject: value.journal_subject,\r\n      journal_detail: value.journal_detail,\r\n      journal_file: value.journal_subject,\r\n      journal_ori: journal_ori,\r\n      journal_img: imageLandingPage,\r\n      is_show: active,\r\n      is_deleted: '0'\r\n    };\r\n    // console.log(data)\r\n    const registerData = await apiInstance().put(\r\n      '/journal/' + journalId,\r\n      data,\r\n    );\r\n    if (registerData.data.status == 200) {\r\n      openNotificationRegisterSuccess();\r\n      fetchJournalData();\r\n      setTimeout(\r\n        function () {\r\n          //Start the timer\r\n          router.push('/admin/management/journal');\r\n        }.bind(this),\r\n        2000,\r\n      );\r\n    } else {\r\n      openNotificationRegisterFail(registerData.data.message);\r\n    }\r\n  }\r\n\r\n  const openNotificationRegisterSuccess = () => {\r\n    api.success({\r\n      message: `บันทึกข้อมูลสำเร็จ`,\r\n      description: 'บันทึกข้อมูลสำเร็จ',\r\n      placement: 'topRight',\r\n    });\r\n  };\r\n\r\n  const openNotificationRegisterFail = messgae => {\r\n    api.error({\r\n      message: `พบปัญหาระหว่างการบันทึกข้อมูล`,\r\n      description: messgae,\r\n      placement: 'topRight',\r\n    });\r\n  };\r\n  const validateURL = inputText => {\r\n    setUrl(validator.trim(inputText));\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchJournalData();\r\n  }, []);\r\n\r\n  const onResetForm = () => {\r\n    setActive(journalData.is_use == 1 ? 1 : 0);\r\n    setFields([\r\n      {\r\n        name: ['journal_subject'],\r\n        value: journalData.journal_subject,\r\n      },\r\n      {\r\n        name: ['journal_detail'],\r\n        value: journalData.journal_detail,\r\n      },\r\n      {\r\n        name: ['journal_file'],\r\n        value: journalData.journal_file,\r\n      },\r\n      {\r\n        name: ['journal_ori'],\r\n        value: journalData.journal_ori,\r\n      },\r\n      {\r\n        name: ['journal_img'],\r\n        value: journalData.journal_img,\r\n      },\r\n      {\r\n        name: ['is_show'],\r\n        value: journalData.is_show,\r\n      },\r\n    ]);\r\n\r\n    setPreviewFile('..\\\\..\\\\..\\\\uploads\\\\c-' + user.organization_id + '\\\\journal\\\\' + journalData.journal_ori);\r\n    setPreviewVisibleFile(true);\r\n    setJournal_ori(journalData.journal_ori);\r\n\r\n\r\n    setPreviewImage('..\\\\..\\\\..\\\\uploads\\\\c-' + user.organization_id + '\\\\journal\\\\' + journalData.journal_img);\r\n    setPreviewVisibleImage(true);\r\n    setPreviewVisibleImage(journalData.journal_img);\r\n  };\r\n  const fetchJournalData = async () => {\r\n    const _journalData = await apiInstance().get('journal/' + journalId);\r\n    setJournalData(_journalData.data.journal)\r\n    setPreviewImage(\r\n      '..\\\\..\\\\..\\\\uploads\\\\c-' +\r\n      user.organization_id +\r\n      '\\\\journal\\\\' +\r\n      _journalData.data.journal.journal_img,\r\n    );\r\n    setPreviewVisibleImage(true);\r\n    setPreviewVisibleFile(true);\r\n    setImageLandingPage(_journalData.data.journal.journal_img);\r\n    setActive(_journalData.data.journal.is_show);\r\n    setFields([\r\n      {\r\n        name: ['journal_subject'],\r\n        value: _journalData.data.journal.journal_subject,\r\n      },\r\n      {\r\n        name: ['journal_detail'],\r\n        value: _journalData.data.journal.journal_detail,\r\n      },\r\n      {\r\n        name: ['journal_file'],\r\n        value: _journalData.data.journal.journal_file,\r\n      },\r\n      {\r\n        name: ['journal_ori'],\r\n        value: _journalData.data.journal.journal_ori,\r\n      },\r\n      {\r\n        name: ['journal_img'],\r\n        value: _journalData.data.journal.journal_img,\r\n      },\r\n      {\r\n        name: ['is_show'],\r\n        value: _journalData.data.journal.is_show,\r\n      },\r\n    ]);\r\n  };\r\n\r\n  const fileUploadprops = {\r\n    name: 'file',\r\n    multiple: false,\r\n    listType: 'text',\r\n    maxCount: 1,\r\n    action: \"/api/upload/journal\",\r\n    preview: false,\r\n    // uid: user.type_user == 1 ? \"admin\" : user.organization_id,\r\n    // beforeUpload(file) {\r\n    // \tconst isLt10M = file.size / 1024 / 1024 < 10\r\n    // \tif (!isLt10M) {\r\n    // \t\tnotification.open({\r\n    // \t\t\tmessage: 'Upload error!',\r\n    // \t\t\tdescription: <Text className=\"text-black\">Image must smaller than 10MB!</Text>,\r\n    // \t\t})\r\n    // \t}\r\n    // \treturn isLt10M\r\n    // },\r\n    customRequest: (options) => {\r\n      const data = new FormData()\r\n      data.append('file', options.file)\r\n      data.append('id', user.type_user == 1 ? \"admin\" : user.organization_id)\r\n      const config = {\r\n        \"headers\": {\r\n          \"content-type\": 'multipart/form-data; boundary=----WebKitFormBoundaryqTqJIxvkWFYqvP5s'\r\n        }\r\n      }\r\n      axios.post(options.action, data, config).then((res) => {\r\n        setJournal_ori(res.data.data.list[0]._name)\r\n        // setImageLandingPage(res.data.data.list[0]._name)\r\n        options.onSuccess(res.data, options.file)\r\n      }).catch((err) => {\r\n        console.log(err)\r\n      })\r\n\r\n    },\r\n    async onChange(info) {\r\n      const { status } = info.file\r\n      // console.log(user)\r\n      switch (info.file.status) {\r\n        // case \"uploading\":\r\n        //   nextState.selectedFileList = [info.file];\r\n        //   break;\r\n        case \"done\":\r\n          if (!info.file.url && !info.file.preview) {\r\n            info.file.preview = await getBase64(info.file.originFileObj);\r\n          }\r\n          setPreviewFile(info.file.url || info.file.preview)\r\n          setPreviewVisibleFile(true)\r\n          break;\r\n\r\n        default:\r\n          // error or removed\r\n          resetImagePreview()\r\n      }\r\n      //console.log(info.file)\r\n\r\n      // this.setState({\r\n      //   previewImage: file.url || file.preview,\r\n      //   previewVisible: true,\r\n      // });\r\n\r\n    },\r\n    onRemove(info) {\r\n      console.log(\"onRemove\")\r\n      console.log(info)\r\n      resetImagePreview()\r\n\r\n    }\r\n  }\r\n\r\n  const imageUploadprops = {\r\n    name: 'file',\r\n    multiple: false,\r\n    listType: 'text',\r\n    maxCount: 1,\r\n    action: \"/api/upload/journal\",\r\n    preview: false,\r\n    // uid: user.type_user == 1 ? \"admin\" : user.organization_id,\r\n    // beforeUpload(file) {\r\n    // \tconst isLt10M = file.size / 1024 / 1024 < 10\r\n    // \tif (!isLt10M) {\r\n    // \t\tnotification.open({\r\n    // \t\t\tmessage: 'Upload error!',\r\n    // \t\t\tdescription: <Text className=\"text-black\">Image must smaller than 10MB!</Text>,\r\n    // \t\t})\r\n    // \t}\r\n    // \treturn isLt10M\r\n    // },\r\n    customRequest: (options) => {\r\n      const data = new FormData()\r\n      data.append('file', options.file)\r\n      data.append('id', user.type_user == 1 ? \"admin\" : user.organization_id)\r\n      const config = {\r\n        \"headers\": {\r\n          \"content-type\": 'multipart/form-data; boundary=----WebKitFormBoundaryqTqJIxvkWFYqvP5s'\r\n        }\r\n      }\r\n      axios.post(options.action, data, config).then((res) => {\r\n        // setJournal_ori(res.data.data.list[0]._name)\r\n        setImageLandingPage(res.data.data.list[0]._name)\r\n        options.onSuccess(res.data, options.file)\r\n      }).catch((err) => {\r\n        console.log(err)\r\n      })\r\n\r\n    },\r\n    async onChange(info) {\r\n      const { status } = info.file\r\n      // console.log(user)\r\n      switch (info.file.status) {\r\n        // case \"uploading\":\r\n        //   nextState.selectedFileList = [info.file];\r\n        //   break;\r\n        case \"done\":\r\n          if (!info.file.url && !info.file.preview) {\r\n            info.file.preview = await getBase64(info.file.originFileObj);\r\n          }\r\n          setPreviewImage(info.file.url || info.file.preview)\r\n          setPreviewVisibleImage(true)\r\n          break;\r\n\r\n        default:\r\n          // error or removed\r\n          resetImagePreview()\r\n      }\r\n      //console.log(info.file)\r\n\r\n      // this.setState({\r\n      //   previewImage: file.url || file.preview,\r\n      //   previewVisible: true,\r\n      // });\r\n\r\n    },\r\n    onRemove(info) {\r\n      console.log(\"onRemove\")\r\n      console.log(info)\r\n      resetImagePreview()\r\n\r\n    }\r\n  }\r\n\r\n  const resetImagePreview = () => {\r\n    setPreviewVisibleFile(false)\r\n    setPreviewVisibleImage(false)\r\n    setPreviewFile(null)\r\n    setPreviewImage(null)\r\n  };\r\n\r\n  function getBase64(file) {\r\n    return new Promise((resolve, reject) => {\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => resolve(reader.result);\r\n      reader.onerror = error => reject(error);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Government - Admin management\"\r\n      titlePage={\r\n        'แก้ไขวารสาร ' +\r\n        (journalData ? journalData.journal_subject : '')\r\n      }\r\n      url={origin}\r\n      indexSubMenu={\"1\"}\r\n      indexMenu={\"sub-1-7\"}\r\n      origin={origin}\r\n      props={props}\r\n      _routes={[\r\n        {\r\n          path: '/admin/dashborad',\r\n          breadcrumbName: 'หน้าหลัก',\r\n        },\r\n        {\r\n          path: '/admin/management/journal',\r\n          breadcrumbName: 'จัดการวารสาร',\r\n        },\r\n        {\r\n          path: '/admin/management/add-journal',\r\n          breadcrumbName: 'แก้ไขวารสาร',\r\n        },\r\n      ]}\r\n    >\r\n      <div>\r\n        {contextHolder}\r\n        {/* {JSON.stringify(organizationData)} */}\r\n        <Row>\r\n          {/* {JSON.stringify(organizationData)} */}\r\n          <Form\r\n            name=\"basic\"\r\n            className=\"w-full\"\r\n            // initialValues={{ email: email, invitationCode: code }}\r\n            layout=\"vertical\"\r\n            onFinish={onSubmitHandler}\r\n            // onFinishFailed={onFinishFailed}\r\n            requiredMark={true}\r\n            fields={fields}\r\n          >\r\n            <Form.Item\r\n              name=\"journal_subject\"\r\n              label=\"ชื่อวารสาร :\"\r\n              className=\"block text-gray-700 text-sm font-bold mb-2 w-full\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: 'กรุณากรอกชื่อวารสาร',\r\n                },\r\n              ]}\r\n            >\r\n              <TextArea\r\n                id=\"#\"\r\n                type=\"text\"\r\n                placeholder=\"ชื่อวารสาร\"\r\n                className=\"resize-none border rounded-md\"\r\n                autoSize={{ minRows: 1, maxRows: 3 }}\r\n              />\r\n            </Form.Item>\r\n            <div style={{ clear: 'both' }}></div>\r\n            <Form.Item\r\n              name=\"journal_ori\"\r\n              label=\"แนบไฟล์ :\"\r\n              className=\"block text-gray-700 text-sm font-bold mb-2 w-full\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: 'กรุณากรอกเลือกเอกสาร',\r\n                },\r\n              ]}\r\n            >\r\n              <Dragger\r\n                maxCount={1}\r\n                // listType=\"picture\"\r\n                accept=\".pdf\"\r\n                {...fileUploadprops}\r\n              >\r\n\r\n                {previewVisibleFile && <> <p className=\"ant-upload-drag-icon\">\r\n                  <FilePdfTwoTone />\r\n                </p>\r\n                  <p className=\"ant-upload-text\">\r\n                    อัพโหลดไฟล์เรียบร้อย<br />\r\n                    คลิก หรือ ลากไฟล์มาที่บริเวณนี้เพื่ออัปโหลด\r\n                  </p>\r\n                </>\r\n                }\r\n                {!previewVisibleFile && <>\r\n                  <p className=\"ant-upload-drag-icon\">\r\n                    <InboxOutlined />\r\n                  </p>\r\n                  <p className=\"ant-upload-text\">\r\n                    คลิก หรือ ลากไฟล์มาที่บริเวณนี้เพื่ออัปโหลด\r\n                  </p>\r\n                </>\r\n                }\r\n              </Dragger>\r\n            </Form.Item>\r\n            <div style={{ clear: 'both' }}></div>\r\n            <Form.Item>\r\n              {journalData && <>\r\n                {journalData.journal_ori && <><div class=\"ant-upload-text-icon\" style={{ float: 'left', marginRight: '2px' }}><span role=\"img\" aria-label=\"paper-clip\" class=\"anticon anticon-paper-clip\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"paper-clip\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z\"></path></svg></span></div>\r\n                  <a href={'/uploads/c-' + user.organization_id + '/journal/' + journalData.journal_ori} target='_blank'>{journalData.journal_ori}</a></>}\r\n              </>}\r\n            </Form.Item>\r\n            <div style={{ clear: 'both' }}></div>\r\n            <Form.Item\r\n              name=\"journal_detail\"\r\n              label=\"รายละเอียด :\"\r\n              className=\"block text-gray-700 text-sm font-bold mb-2 w-full\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: 'กรุณากรอกรายละเอียดวารสาร',\r\n                },\r\n              ]}\r\n            >\r\n              <JoditEditor\r\n                ref={editor}\r\n                value={content}\r\n                config={config.config(user)}\r\n                height={\"700px\"}\r\n                tabIndex={1} // tabIndex of textarea\r\n                onBlur={newContent => setContent(newContent)} // preferred to use only this option to update the content for performance reasons\r\n                onChange={newContent => { }}\r\n              />\r\n            </Form.Item>\r\n            <div style={{ clear: 'both' }}></div>\r\n            <Form.Item\r\n              name=\"journal_img\"\r\n              label=\"ภาพปกวารสาร :\"\r\n              className=\"block text-gray-700 text-sm font-bold mb-2 w-full\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: 'กรุณากรอกเลือกภาพปกวารสาร',\r\n                },\r\n              ]}\r\n            >\r\n              {/* <Dragger {...dropimg}> */}\r\n              <Dragger\r\n                maxCount={1}\r\n                // listType=\"picture\"\r\n                accept=\".jpg, .jpeg, .png\"\r\n                {...imageUploadprops}\r\n              >\r\n\r\n                {previewVisibleImage && <><Image\r\n                  // width={200}\r\n                  preview={false}\r\n                  src={previewImage}\r\n                />\r\n                </>\r\n                }\r\n                {!previewVisibleImage && <>\r\n                  <p className=\"ant-upload-drag-icon\">\r\n                    <InboxOutlined />\r\n                  </p>\r\n                  <p className=\"ant-upload-text\">\r\n                    คลิก หรือ ลากไฟล์มาที่บริเวณนี้เพื่ออัปโหลด\r\n                  </p>\r\n                </>\r\n                }\r\n              </Dragger>\r\n            </Form.Item>\r\n            <div style={{ clear: 'both' }}></div>\r\n            <Form.Item className=\"flex mt-6\">\r\n              <div className=\"lg:inline-flex w-full\">\r\n                <div className=\"lg:inline-flex text-left w-1/2\">\r\n                  <Switch\r\n                    className=\"swt-btn\"\r\n                    checked={active}\r\n                    onClick={value => setActive(value ? 1 : 0)}\r\n                  />\r\n                  <p className=\"mx-2 text-sm\">การแสดงผล</p>\r\n                </div>\r\n                <div className=\"text-center lg:text-right w-full lg:w-1/2\">\r\n                  <Button\r\n                    htmlType=\"button\"\r\n                    onClick={onResetForm}\r\n                    style={{\r\n                      backgroundColor: '#C2CFE0',\r\n                      borderColor: '#C2CFE0',\r\n                      height: 40,\r\n                      width: 110,\r\n                      marginBottom: '0px !important',\r\n                      marginRight: '2px',\r\n                      color: 'white !important',\r\n                    }}\r\n                    // htmlType=\"submit\"\r\n                    className=\"text-center bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full lg:w-1/4\"\r\n                  >\r\n                    <Text className=\"text-custom-black \">รีเซ็ท</Text>\r\n                  </Button>\r\n                  <Button\r\n                    // type=\"primary\"\r\n                    style={{\r\n                      backgroundColor: '#059669',\r\n                      borderColor: '#059669',\r\n                      height: 40,\r\n                      width: 110,\r\n                      marginBottom: '0px !important',\r\n                      color: 'white !important',\r\n                    }}\r\n                    htmlType=\"submit\"\r\n                    className=\"text-center bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full lg:w-1/4\"\r\n                  >\r\n                    <Text className=\"text-custom-white \">บันทึก</Text>\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </Form.Item>\r\n          </Form>\r\n        </Row>\r\n      </div>\r\n    </Layout >\r\n  );\r\n}\r\n/* getServerSideProps */\r\nexport async function getServerSideProps(context) {\r\n  const { req } = context;\r\n  const { origin } = absoluteUrl(req);\r\n\r\n  return {\r\n    props: {\r\n      origin,\r\n    },\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}