{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sackky\\\\Desktop\\\\govermentlt\\\\pages\\\\admin\\\\management\\\\documents\\\\add-documents.js\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { FilePdfTwoTone, InboxOutlined } from '@ant-design/icons';\nimport { Button, Form, Input, Switch, Typography, Upload, notification } from 'antd';\nimport axios from 'axios';\nimport { useRouter } from 'next/router'; // import UserNav from '../components/navigation/User';\n\nimport React, { useEffect, useState } from 'react';\n/* components */\n\nimport Layout from '../../../../components/layout/LayoutAdmin';\n/* utils */\n\nimport { absoluteUrl, apiInstance } from '../../../../middleware/utils';\nconst {\n  Text,\n  Title\n} = Typography;\nconst {\n  TextArea\n} = Input;\nexport default function Home(props) {\n  const [api, contextHolder] = notification.useNotification();\n  const {\n    user,\n    origin\n  } = props;\n  const {\n    0: previewImage,\n    1: setPreviewImage\n  } = useState(null);\n  const {\n    0: previewVisible,\n    1: setPreviewVisible\n  } = useState(false);\n  const {\n    0: file_name_ori,\n    1: setFile_name_ori\n  } = useState('');\n  const router = useRouter();\n  useEffect(() => {}, []);\n  const {\n    0: active,\n    1: setActive\n  } = useState(1);\n\n  const actived = () => {\n    active ? setActive(0) : setActive(1);\n  };\n\n  async function onSubmitHandler(value) {\n    const data = {\n      organization_id: user.organization_id,\n      file_name: value.file_subject,\n      file_name_ori: file_name_ori,\n      file_subject: value.file_subject,\n      file_url: value.file_url ? value.file_url : \"\",\n      is_show: active,\n      download: '0',\n      is_deleted: '0'\n    };\n    const addactivitiesData = await apiInstance().post('admin/management/add-documents', data);\n\n    if (addactivitiesData.data.status == 200) {\n      openNotificationRegisterSuccess();\n      setTimeout(function () {\n        //Start the timer\n        router.push('/admin/management/documents');\n      }.bind(this), 2000);\n    } else {\n      openNotificationRegisterFail(addactivitiesData.data.message);\n    }\n  }\n\n  const openNotificationRegisterSuccess = () => {\n    api.success({\n      message: `เพิ่มเอกสารสำเร็จ`,\n      description: 'เพิ่มเอกสารแล้ว',\n      placement: 'topRight'\n    });\n  };\n\n  const openNotificationRegisterFail = messgae => {\n    api.error({\n      message: `พบปัญหาระหว่างการเพิ่มเอกสาร`,\n      description: messgae,\n      placement: 'topRight'\n    });\n  };\n\n  const {\n    Dragger\n  } = Upload;\n  const [form] = Form.useForm();\n\n  const onReset = () => {\n    setActive(1);\n    form.resetFields();\n  };\n\n  const imageUploadprops = {\n    name: 'file',\n    multiple: false,\n    listType: 'text',\n    maxCount: 1,\n    action: \"/api/upload/documents\",\n    preview: false,\n    // uid: user.type_user == 1 ? \"admin\" : user.organization_id,\n    // beforeUpload(file) {\n    // \tconst isLt10M = file.size / 1024 / 1024 < 10\n    // \tif (!isLt10M) {\n    // \t\tnotification.open({\n    // \t\t\tmessage: 'Upload error!',\n    // \t\t\tdescription: <Text className=\"text-black\">Image must smaller than 10MB!</Text>,\n    // \t\t})\n    // \t}\n    // \treturn isLt10M\n    // },\n    customRequest: options => {\n      const data = new FormData();\n      data.append('file', options.file);\n      data.append('id', user.type_user == 1 ? \"admin\" : user.organization_id);\n      const config = {\n        \"headers\": {\n          \"content-type\": 'multipart/form-data; boundary=----WebKitFormBoundaryqTqJIxvkWFYqvP5s'\n        }\n      };\n      axios.post(options.action, data, config).then(res => {\n        setFile_name_ori(res.data.data.list[0]._name);\n        options.onSuccess(res.data, options.file);\n      }).catch(err => {\n        console.log(err);\n      });\n    },\n\n    async onChange(info) {\n      const {\n        status\n      } = info.file; // console.log(user)\n\n      switch (info.file.status) {\n        // case \"uploading\":\n        //   nextState.selectedFileList = [info.file];\n        //   break;\n        case \"done\":\n          if (!info.file.url && !info.file.preview) {\n            info.file.preview = await getBase64(info.file.originFileObj);\n          }\n\n          setPreviewImage(info.file.url || info.file.preview);\n          setPreviewVisible(true);\n          break;\n\n        default:\n          // error or removed\n          resetImagePreview();\n      } //console.log(info.file)\n      // this.setState({\n      //   previewImage: file.url || file.preview,\n      //   previewVisible: true,\n      // });\n\n    },\n\n    onRemove(info) {\n      console.log(\"onRemove\");\n      console.log(info);\n      resetImagePreview();\n    }\n\n  };\n\n  const resetImagePreview = () => {\n    setPreviewVisible(false);\n    setPreviewImage(null);\n  };\n\n  function getBase64(file) {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n\n      reader.onload = () => resolve(reader.result);\n\n      reader.onerror = error => reject(error);\n    });\n  }\n\n  return __jsx(Layout, {\n    title: \"Government - Admin management\",\n    titlePage: 'เพิ่มเอกสาร',\n    url: origin,\n    indexMenu: '2',\n    origin: origin,\n    props: props,\n    indexSubMenu: \"1\",\n    indexMenu: \"sub-1-5\",\n    titlePage: \"\\u0E08\\u0E31\\u0E14\\u0E01\\u0E32\\u0E23\\u0E04\\u0E25\\u0E31\\u0E07\\u0E40\\u0E2D\\u0E01\\u0E2A\\u0E32\\u0E23\",\n    _routes: [{\n      path: '/admin/dashborad',\n      breadcrumbName: 'หน้าหลัก'\n    }, {\n      path: '/admin/management/documents',\n      breadcrumbName: 'จัดการคลังเอกสาร'\n    }, {\n      path: '/admin/management/documents/add-documents',\n      breadcrumbName: 'เพิ่มเอกสาร'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 5\n    }\n  }, contextHolder, __jsx(\"link\", {\n    rel: \"stylesheet\",\n    href: \"https://unpkg.com/react-quill@1.3.3/dist/quill.snow.css\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    className: \"w-5/6 lg:w-full mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }\n  }, __jsx(Form, {\n    name: \"basic\",\n    layout: \"vertical\",\n    onFinish: onSubmitHandler,\n    requiredMark: true,\n    form: form,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 9\n    }\n  }, __jsx(Form.Item, {\n    name: \"file_subject\",\n    label: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E40\\u0E2D\\u0E01\\u0E2A\\u0E32\\u0E23 :\",\n    className: \"block text-gray-700 text-sm font-bold mb-2 w-full\",\n    rules: [{\n      required: true,\n      message: 'กรุณากรอกชื่อเอกสาร'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 11\n    }\n  }, __jsx(TextArea, {\n    id: \"#\",\n    type: \"text\",\n    placeholder: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E40\\u0E2D\\u0E01\\u0E2A\\u0E32\\u0E23\",\n    className: \"resize-none border rounded-md\",\n    autoSize: {\n      minRows: 1,\n      maxRows: 3\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 13\n    }\n  })), __jsx(Form.Item, {\n    name: \"file_name\",\n    label: \"\\u0E41\\u0E19\\u0E1A\\u0E44\\u0E1F\\u0E25\\u0E4C :\",\n    className: \"block text-gray-700 text-sm font-bold mb-2 w-full\",\n    rules: [{\n      required: true,\n      message: 'กรุณากรอกเลือกเอกสาร'\n    }] // rules={[\n    //   {\n    //     required: true,\n    //     message: 'กรุณากรอกเลือกเอกสาร',\n    //   },\n    // ]}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 11\n    }\n  }, __jsx(Dragger, _extends({\n    maxCount: 1 // listType=\"picture\"\n    ,\n    accept: \".pdf\"\n  }, imageUploadprops, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 13\n    }\n  }), previewVisible && __jsx(React.Fragment, null, \" \", __jsx(\"p\", {\n    className: \"ant-upload-drag-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 37\n    }\n  }, __jsx(FilePdfTwoTone, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 17\n    }\n  })), __jsx(\"p\", {\n    className: \"ant-upload-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 17\n    }\n  }, \"\\u0E2D\\u0E31\\u0E1E\\u0E42\\u0E2B\\u0E25\\u0E14\\u0E44\\u0E1F\\u0E25\\u0E4C\\u0E40\\u0E23\\u0E35\\u0E22\\u0E1A\\u0E23\\u0E49\\u0E2D\\u0E22\", __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 39\n    }\n  }), \"\\u0E04\\u0E25\\u0E34\\u0E01 \\u0E2B\\u0E23\\u0E37\\u0E2D \\u0E25\\u0E32\\u0E01\\u0E44\\u0E1F\\u0E25\\u0E4C\\u0E21\\u0E32\\u0E17\\u0E35\\u0E48\\u0E1A\\u0E23\\u0E34\\u0E40\\u0E27\\u0E13\\u0E19\\u0E35\\u0E49\\u0E40\\u0E1E\\u0E37\\u0E48\\u0E2D\\u0E2D\\u0E31\\u0E1B\\u0E42\\u0E2B\\u0E25\\u0E14\")), !previewVisible && __jsx(React.Fragment, null, __jsx(\"p\", {\n    className: \"ant-upload-drag-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 17\n    }\n  }, __jsx(InboxOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 19\n    }\n  })), __jsx(\"p\", {\n    className: \"ant-upload-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 17\n    }\n  }, \"\\u0E04\\u0E25\\u0E34\\u0E01 \\u0E2B\\u0E23\\u0E37\\u0E2D \\u0E25\\u0E32\\u0E01\\u0E44\\u0E1F\\u0E25\\u0E4C\\u0E21\\u0E32\\u0E17\\u0E35\\u0E48\\u0E1A\\u0E23\\u0E34\\u0E40\\u0E27\\u0E13\\u0E19\\u0E35\\u0E49\\u0E40\\u0E1E\\u0E37\\u0E48\\u0E2D\\u0E2D\\u0E31\\u0E1B\\u0E42\\u0E2B\\u0E25\\u0E14\")))), __jsx(\"hr\", {\n    style: {\n      backgroundColor: '#C4C4C4',\n      height: 2,\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 11\n    }\n  }), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 11\n    }\n  }), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 17\n    }\n  }, \"\\u0E2B\\u0E23\\u0E37\\u0E2D Download \\u0E08\\u0E32\\u0E01 url\"), __jsx(Form.Item, {\n    name: \"file_url\",\n    label: \"\\u0E17\\u0E35\\u0E48\\u0E2D\\u0E22\\u0E39\\u0E48 url :\",\n    className: \"block text-gray-700 text-sm font-bold mb-2 w-full\",\n    rules: [{\n      required: true,\n      message: 'กรุณากรอกที่อยู่ url ของเอกสาร'\n    }] // rules={[\n    //   {\n    //     required: true,\n    //     message: 'กรุณากรอกที่อยู่ url ของเอกสาร',\n    //   },\n    // ]}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 11\n    }\n  }, __jsx(TextArea, {\n    id: \"#\",\n    type: \"text\",\n    placeholder: \"\\u0E17\\u0E35\\u0E48\\u0E2D\\u0E22\\u0E39\\u0E48 url\",\n    className: \"resize-none border rounded-md\",\n    autoSize: {\n      minRows: 1,\n      maxRows: 3\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 13\n    }\n  })), __jsx(Form.Item, {\n    className: \"flex mt-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"lg:inline-flex w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"inline-flex text-left lg:w-1/2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 15\n    }\n  }, __jsx(Switch, {\n    checked: active,\n    onClick: actived,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 17\n    }\n  }), __jsx(\"p\", {\n    className: \"mx-2 text-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 17\n    }\n  }, \"\\u0E01\\u0E32\\u0E23\\u0E41\\u0E2A\\u0E14\\u0E07\\u0E1C\\u0E25\")), __jsx(\"div\", {\n    className: \"text-center lg:text-right w-full lg:w-1/2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 15\n    }\n  }, __jsx(Button, {\n    htmlType: \"button\",\n    onClick: onReset,\n    style: {\n      backgroundColor: '#C2CFE0',\n      borderColor: '#C2CFE0',\n      height: 40,\n      width: 110,\n      marginBottom: '0px !important',\n      marginRight: '2px',\n      color: 'white !important'\n    } // htmlType=\"submit\"\n    ,\n    className: \"text-center bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full lg:w-1/4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 17\n    }\n  }, __jsx(Text, {\n    className: \"text-custom-black \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 19\n    }\n  }, \"\\u0E23\\u0E35\\u0E40\\u0E0B\\u0E47\\u0E17\")), __jsx(Button // type=\"primary\"\n  , {\n    style: {\n      backgroundColor: '#059669',\n      borderColor: '#059669',\n      height: 40,\n      width: 110,\n      marginBottom: '0px !important',\n      color: 'white !important'\n    },\n    htmlType: \"submit\",\n    className: \"text-center bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full lg:w-1/4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 17\n    }\n  }, __jsx(Text, {\n    className: \"text-custom-white \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 19\n    }\n  }, \"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\"))))))));\n}\n/* getServerSideProps */\n\nexport async function getServerSideProps(context) {\n  const {\n    req\n  } = context;\n  const {\n    origin\n  } = absoluteUrl(req);\n  return {\n    props: {\n      origin\n    }\n  };\n}","map":{"version":3,"sources":["C:/Users/Sackky/Desktop/govermentlt/pages/admin/management/documents/add-documents.js"],"names":["FilePdfTwoTone","InboxOutlined","Button","Form","Input","Switch","Typography","Upload","notification","axios","useRouter","React","useEffect","useState","Layout","absoluteUrl","apiInstance","Text","Title","TextArea","Home","props","api","contextHolder","useNotification","user","origin","previewImage","setPreviewImage","previewVisible","setPreviewVisible","file_name_ori","setFile_name_ori","router","active","setActive","actived","onSubmitHandler","value","data","organization_id","file_name","file_subject","file_url","is_show","download","is_deleted","addactivitiesData","post","status","openNotificationRegisterSuccess","setTimeout","push","bind","openNotificationRegisterFail","message","success","description","placement","messgae","error","Dragger","form","useForm","onReset","resetFields","imageUploadprops","name","multiple","listType","maxCount","action","preview","customRequest","options","FormData","append","file","type_user","config","then","res","list","_name","onSuccess","catch","err","console","log","onChange","info","url","getBase64","originFileObj","resetImagePreview","onRemove","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","path","breadcrumbName","required","minRows","maxRows","backgroundColor","height","width","borderColor","marginBottom","marginRight","color","getServerSideProps","context","req"],"mappings":"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","sourcesContent":["import { FilePdfTwoTone, InboxOutlined } from '@ant-design/icons';\r\nimport {\r\n  Button, Form, Input,\r\n  Switch, Typography, Upload,\r\n  notification\r\n} from 'antd';\r\nimport axios from 'axios';\r\nimport { useRouter } from 'next/router';\r\n// import UserNav from '../components/navigation/User';\r\nimport React, { useEffect, useState } from 'react';\r\n/* components */\r\nimport Layout from '../../../../components/layout/LayoutAdmin';\r\n/* utils */\r\nimport {\r\n  absoluteUrl, apiInstance\r\n} from '../../../../middleware/utils';\r\n\r\n\r\n\r\nconst { Text, Title } = Typography;\r\n\r\nconst { TextArea } = Input;\r\n\r\nexport default function Home(props) {\r\n  const [api, contextHolder] = notification.useNotification();\r\n  const { user, origin } = props;\r\n  const [previewImage, setPreviewImage] = useState(null)\r\n  const [previewVisible, setPreviewVisible] = useState(false)\r\n  const [file_name_ori, setFile_name_ori] = useState('')\r\n\r\n  const router = useRouter();\r\n\r\n\r\n  useEffect(() => {\r\n  }, []);\r\n\r\n  const [active, setActive] = useState(1);\r\n  const actived = () => {\r\n    active ? setActive(0) : setActive(1);\r\n  };\r\n\r\n  async function onSubmitHandler(value) {\r\n    const data = {\r\n      organization_id: user.organization_id,\r\n      file_name: value.file_subject,\r\n      file_name_ori: file_name_ori,\r\n      file_subject: value.file_subject,\r\n      file_url: value.file_url ? value.file_url : \"\",\r\n      is_show: active,\r\n      download: '0',\r\n      is_deleted: '0'\r\n    };\r\n\r\n    const addactivitiesData = await apiInstance().post(\r\n      'admin/management/add-documents',\r\n      data,\r\n    );\r\n    if (addactivitiesData.data.status == 200) {\r\n      openNotificationRegisterSuccess();\r\n      setTimeout(function () { //Start the timer\r\n        router.push('/admin/management/documents')\r\n      }.bind(this), 2000)\r\n    } else {\r\n      openNotificationRegisterFail(addactivitiesData.data.message);\r\n    }\r\n  }\r\n\r\n\r\n\r\n  const openNotificationRegisterSuccess = () => {\r\n    api.success({\r\n      message: `เพิ่มเอกสารสำเร็จ`,\r\n      description: 'เพิ่มเอกสารแล้ว',\r\n      placement: 'topRight',\r\n    });\r\n  };\r\n\r\n  const openNotificationRegisterFail = messgae => {\r\n    api.error({\r\n      message: `พบปัญหาระหว่างการเพิ่มเอกสาร`,\r\n      description: messgae,\r\n      placement: 'topRight',\r\n    });\r\n  };\r\n\r\n\r\n  const { Dragger } = Upload;\r\n\r\n  const [form] = Form.useForm();\r\n\r\n  const onReset = () => {\r\n    setActive(1)\r\n    form.resetFields();\r\n  };\r\n\r\n  const imageUploadprops = {\r\n    name: 'file',\r\n    multiple: false,\r\n    listType: 'text',\r\n    maxCount: 1,\r\n    action: \"/api/upload/documents\",\r\n    preview: false,\r\n    // uid: user.type_user == 1 ? \"admin\" : user.organization_id,\r\n    // beforeUpload(file) {\r\n    // \tconst isLt10M = file.size / 1024 / 1024 < 10\r\n    // \tif (!isLt10M) {\r\n    // \t\tnotification.open({\r\n    // \t\t\tmessage: 'Upload error!',\r\n    // \t\t\tdescription: <Text className=\"text-black\">Image must smaller than 10MB!</Text>,\r\n    // \t\t})\r\n    // \t}\r\n    // \treturn isLt10M\r\n    // },\r\n    customRequest: (options) => {\r\n      const data = new FormData()\r\n      data.append('file', options.file)\r\n      data.append('id', user.type_user == 1 ? \"admin\" : user.organization_id)\r\n      const config = {\r\n        \"headers\": {\r\n          \"content-type\": 'multipart/form-data; boundary=----WebKitFormBoundaryqTqJIxvkWFYqvP5s'\r\n        }\r\n      }\r\n      axios.post(options.action, data, config).then((res) => {\r\n        setFile_name_ori(res.data.data.list[0]._name)\r\n        options.onSuccess(res.data, options.file)\r\n      }).catch((err) => {\r\n        console.log(err)\r\n      })\r\n\r\n    },\r\n    async onChange(info) {\r\n      const { status } = info.file\r\n      // console.log(user)\r\n      switch (info.file.status) {\r\n        // case \"uploading\":\r\n        //   nextState.selectedFileList = [info.file];\r\n        //   break;\r\n        case \"done\":\r\n          if (!info.file.url && !info.file.preview) {\r\n            info.file.preview = await getBase64(info.file.originFileObj);\r\n          }\r\n          setPreviewImage(info.file.url || info.file.preview)\r\n          setPreviewVisible(true)\r\n          break;\r\n\r\n        default:\r\n          // error or removed\r\n          resetImagePreview()\r\n      }\r\n      //console.log(info.file)\r\n\r\n      // this.setState({\r\n      //   previewImage: file.url || file.preview,\r\n      //   previewVisible: true,\r\n      // });\r\n\r\n    },\r\n    onRemove(info) {\r\n      console.log(\"onRemove\")\r\n      console.log(info)\r\n      resetImagePreview()\r\n\r\n    }\r\n  }\r\n\r\n  const resetImagePreview = () => {\r\n    setPreviewVisible(false)\r\n    setPreviewImage(null)\r\n  }\r\n\r\n  function getBase64(file) {\r\n    return new Promise((resolve, reject) => {\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => resolve(reader.result);\r\n      reader.onerror = error => reject(error);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Government - Admin management\"\r\n      titlePage={\r\n        'เพิ่มเอกสาร'\r\n      }\r\n      url={origin}\r\n      indexMenu={'2'}\r\n      origin={origin}\r\n      props={props}\r\n      indexSubMenu={\"1\"}\r\n      indexMenu={\"sub-1-5\"}\r\n      titlePage=\"จัดการคลังเอกสาร\"\r\n      _routes={[\r\n        {\r\n          path: '/admin/dashborad',\r\n          breadcrumbName: 'หน้าหลัก',\r\n        },\r\n        {\r\n          path: '/admin/management/documents',\r\n          breadcrumbName: 'จัดการคลังเอกสาร',\r\n        },\r\n        {\r\n          path: '/admin/management/documents/add-documents',\r\n          breadcrumbName: 'เพิ่มเอกสาร',\r\n        },\r\n      ]}\r\n    >\r\n      {contextHolder}\r\n      <link\r\n        rel=\"stylesheet\"\r\n        href=\"https://unpkg.com/react-quill@1.3.3/dist/quill.snow.css\"\r\n      ></link>\r\n      <div className=\"w-5/6 lg:w-full mx-auto\">\r\n        <Form\r\n          name=\"basic\"\r\n          layout=\"vertical\"\r\n          onFinish={onSubmitHandler}\r\n          requiredMark={true}\r\n          form={form}\r\n        >\r\n          <Form.Item\r\n            name=\"file_subject\"\r\n            label=\"ชื่อเอกสาร :\"\r\n            className=\"block text-gray-700 text-sm font-bold mb-2 w-full\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: 'กรุณากรอกชื่อเอกสาร',\r\n              },\r\n            ]}\r\n          >\r\n            <TextArea\r\n              id=\"#\"\r\n              type=\"text\"\r\n              placeholder=\"ชื่อเอกสาร\"\r\n              className=\"resize-none border rounded-md\"\r\n              autoSize={{ minRows: 1, maxRows: 3 }}\r\n            />\r\n          </Form.Item>\r\n          <Form.Item\r\n            name=\"file_name\"\r\n            label=\"แนบไฟล์ :\"\r\n            className=\"block text-gray-700 text-sm font-bold mb-2 w-full\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: 'กรุณากรอกเลือกเอกสาร',\r\n              },\r\n            ]}\r\n          // rules={[\r\n          //   {\r\n          //     required: true,\r\n          //     message: 'กรุณากรอกเลือกเอกสาร',\r\n          //   },\r\n          // ]}\r\n          >\r\n            <Dragger\r\n              maxCount={1}\r\n              // listType=\"picture\"\r\n              accept=\".pdf\"\r\n              {...imageUploadprops}\r\n            >\r\n\r\n              {previewVisible && <> <p className=\"ant-upload-drag-icon\">\r\n                <FilePdfTwoTone />\r\n              </p>\r\n                <p className=\"ant-upload-text\">\r\n                  อัพโหลดไฟล์เรียบร้อย<br />\r\n                  คลิก หรือ ลากไฟล์มาที่บริเวณนี้เพื่ออัปโหลด\r\n                </p>\r\n              </>\r\n              }\r\n              {!previewVisible && <>\r\n                <p className=\"ant-upload-drag-icon\">\r\n                  <InboxOutlined />\r\n                </p>\r\n                <p className=\"ant-upload-text\">\r\n                  คลิก หรือ ลากไฟล์มาที่บริเวณนี้เพื่ออัปโหลด\r\n                </p>\r\n              </>\r\n              }\r\n            </Dragger>\r\n          </Form.Item>\r\n          <hr\r\n            style={{\r\n              backgroundColor: '#C4C4C4',\r\n              height: 2,\r\n              width: '100%',\r\n            }}\r\n          />\r\n          <br /><p>หรือ Download จาก url</p>\r\n          <Form.Item\r\n            name=\"file_url\"\r\n            label=\"ที่อยู่ url :\"\r\n            className=\"block text-gray-700 text-sm font-bold mb-2 w-full\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: 'กรุณากรอกที่อยู่ url ของเอกสาร',\r\n              },\r\n            ]}\r\n          // rules={[\r\n          //   {\r\n          //     required: true,\r\n          //     message: 'กรุณากรอกที่อยู่ url ของเอกสาร',\r\n          //   },\r\n          // ]}\r\n          >\r\n            <TextArea\r\n              id=\"#\"\r\n              type=\"text\"\r\n              placeholder=\"ที่อยู่ url\"\r\n              className=\"resize-none border rounded-md\"\r\n              autoSize={{ minRows: 1, maxRows: 3 }}\r\n            />\r\n          </Form.Item>\r\n          <Form.Item className=\"flex mt-6\">\r\n            <div className=\"lg:inline-flex w-full\">\r\n              <div className=\"inline-flex text-left lg:w-1/2\">\r\n                <Switch checked={active} onClick={actived} />\r\n                <p className=\"mx-2 text-sm\">การแสดงผล</p>\r\n              </div>\r\n              <div className=\"text-center lg:text-right w-full lg:w-1/2\">\r\n                <Button\r\n                  htmlType=\"button\"\r\n                  onClick={onReset}\r\n                  style={{\r\n                    backgroundColor: '#C2CFE0',\r\n                    borderColor: '#C2CFE0',\r\n                    height: 40,\r\n                    width: 110,\r\n                    marginBottom: '0px !important',\r\n                    marginRight: '2px',\r\n                    color: 'white !important',\r\n                  }}\r\n                  // htmlType=\"submit\"\r\n                  className=\"text-center bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full lg:w-1/4\"\r\n                >\r\n                  <Text className=\"text-custom-black \">รีเซ็ท</Text>\r\n                </Button>\r\n                <Button\r\n                  // type=\"primary\"\r\n                  style={{\r\n                    backgroundColor: '#059669',\r\n                    borderColor: '#059669',\r\n                    height: 40,\r\n                    width: 110,\r\n                    marginBottom: '0px !important',\r\n                    color: 'white !important',\r\n                  }}\r\n                  htmlType=\"submit\"\r\n                  className=\"text-center bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full lg:w-1/4\"\r\n                >\r\n                  <Text className=\"text-custom-white \">บันทึก</Text>\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </Form.Item>\r\n        </Form>\r\n      </div>\r\n    </Layout>\r\n  );\r\n}\r\n/* getServerSideProps */\r\nexport async function getServerSideProps(context) {\r\n  const { req } = context;\r\n  const { origin } = absoluteUrl(req);\r\n\r\n  return {\r\n    props: {\r\n      origin,\r\n    },\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}