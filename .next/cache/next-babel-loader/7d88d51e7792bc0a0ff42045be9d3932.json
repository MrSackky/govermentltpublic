{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"D:\\\\govermentlt\\\\pages\\\\admin\\\\setting\\\\general\\\\add-holiday.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { InboxOutlined } from '@ant-design/icons';\nimport { Button, DatePicker, Form, Image, notification, Row, Switch, Typography, Upload } from 'antd';\nimport axios from 'axios';\nimport moment from 'moment';\nimport { useRouter } from 'next/router'; // import UserNav from '../components/navigation/User';\n\nimport { useEffect, useState } from 'react';\nimport validator from 'validator';\n/* components */\n\nimport Layout from '../../../../components/layout/LayoutAdmin';\n/* utils */\n\nimport { apiInstance } from '../../../../middleware/utils';\nvar Text = Typography.Text,\n    Title = Typography.Title;\nvar Dragger = Upload.Dragger;\nexport var __N_SSP = true;\nexport default function Home(props) {\n  _s();\n\n  var user = props.user,\n      origin = props.origin;\n\n  var _useState = useState(\"\"),\n      url = _useState[0],\n      setUrl = _useState[1];\n\n  var _useState2 = useState(null),\n      previewImage = _useState2[0],\n      setPreviewImage = _useState2[1];\n\n  var _useState3 = useState(null),\n      imageLandingPage = _useState3[0],\n      setImageLandingPage = _useState3[1];\n\n  var _useState4 = useState(false),\n      previewVisible = _useState4[0],\n      setPreviewVisible = _useState4[1];\n\n  var _useState5 = useState(0),\n      isHasBless = _useState5[0],\n      setIsHasBless = _useState5[1];\n\n  var _useState6 = useState(1),\n      isUse = _useState6[0],\n      setIsUse = _useState6[1];\n\n  var _Form$useForm = Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var _notification$useNoti = notification.useNotification(),\n      _notification$useNoti2 = _slicedToArray(_notification$useNoti, 2),\n      api = _notification$useNoti2[0],\n      contextHolder = _notification$useNoti2[1];\n\n  var router = useRouter();\n\n  function onSubmitHandler(_x) {\n    return _onSubmitHandler.apply(this, arguments);\n  }\n\n  function _onSubmitHandler() {\n    _onSubmitHandler = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(value) {\n      var date_s_Str, date_e_Str, data, introData;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              // console.log(\"value\")\n              // console.log(value)\n              date_s_Str = moment(value.intro_date_s).format();\n              date_e_Str = moment(value.intro_date_e).format();\n              data = {\n                \"organization_id\": user.organization_id,\n                \"intro_title\": value.intro_title,\n                \"intro_url\": value.intro_url,\n                \"intro_btn\": value.intro_btn,\n                \"intro_date_s\": date_s_Str,\n                \"intro_date_e\": date_e_Str,\n                \"intro_image\": imageLandingPage,\n                \"is_has_bless\": isHasBless,\n                \"is_use\": isUse,\n                \"is_admin\": 1\n              };\n              _context2.next = 5;\n              return apiInstance().post('/holiday', data);\n\n            case 5:\n              introData = _context2.sent;\n\n              if (introData.data.status == 200) {\n                openNotificationSuccess();\n                setTimeout(function () {\n                  //Start the timer\n                  router.push('/admin/setting/general/management-holiday');\n                }.bind(this), 2000);\n              } else {\n                openNotificationFail(introData.data.message);\n              }\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n    return _onSubmitHandler.apply(this, arguments);\n  }\n\n  useEffect(function () {}, []);\n\n  var openNotificationSuccess = function openNotificationSuccess() {\n    api.success({\n      message: \"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E2A\\u0E33\\u0E40\\u0E23\\u0E47\\u0E08\",\n      description: 'บันทึกข้อมูลสำเร็จ',\n      placement: 'topRight'\n    });\n  };\n\n  var openNotificationFail = function openNotificationFail(messgae) {\n    api.error({\n      message: \"\\u0E1E\\u0E1A\\u0E1B\\u0E31\\u0E0D\\u0E2B\\u0E32\\u0E23\\u0E30\\u0E2B\\u0E27\\u0E48\\u0E32\\u0E07\\u0E01\\u0E32\\u0E23\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\",\n      description: messgae,\n      placement: 'topRight'\n    });\n  };\n\n  var validateURL = function validateURL(inputText) {\n    setUrl(validator.trim(inputText));\n  };\n\n  var onResetForm = function onResetForm() {\n    form.resetFields();\n    setUrl(\"\");\n    resetImagePreview();\n  };\n\n  var imageUploadprops = {\n    name: 'file',\n    multiple: false,\n    listType: 'text',\n    maxCount: 1,\n    action: \"/api/upload/holiday\",\n    preview: false,\n    // uid: user.type_user == 1 ? \"admin\" : user.organization_id,\n    // beforeUpload(file) {\n    // \tconst isLt10M = file.size / 1024 / 1024 < 10\n    // \tif (!isLt10M) {\n    // \t\tnotification.open({\n    // \t\t\tmessage: 'Upload error!',\n    // \t\t\tdescription: <Text className=\"text-black\">Image must smaller than 10MB!</Text>,\n    // \t\t})\n    // \t}\n    // \treturn isLt10M\n    // },\n    customRequest: function customRequest(options) {\n      var data = new FormData();\n      data.append('file', options.file);\n      data.append('id', user.type_user == 1 ? \"admin\" : user.organization_id);\n      var config = {\n        \"headers\": {\n          \"content-type\": 'multipart/form-data; boundary=----WebKitFormBoundaryqTqJIxvkWFYqvP5s'\n        }\n      };\n      axios.post(options.action, data, config).then(function (res) {\n        // imageLandingPage\n        // console.log(res.data.data.list[0]._name)\n        setImageLandingPage(res.data.data.list[0]._name);\n        options.onSuccess(res.data, options.file);\n      })[\"catch\"](function (err) {\n        console.log(err);\n      });\n    },\n    onChange: function onChange(info) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var status;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                status = info.file.status; // console.log(user)\n\n                _context.t0 = info.file.status;\n                _context.next = _context.t0 === \"done\" ? 4 : 11;\n                break;\n\n              case 4:\n                if (!(!info.file.url && !info.file.preview)) {\n                  _context.next = 8;\n                  break;\n                }\n\n                _context.next = 7;\n                return getBase64(info.file.originFileObj);\n\n              case 7:\n                info.file.preview = _context.sent;\n\n              case 8:\n                setPreviewImage(info.file.url || info.file.preview);\n                setPreviewVisible(true);\n                return _context.abrupt(\"break\", 12);\n\n              case 11:\n                // error or removed\n                resetImagePreview();\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    onRemove: function onRemove(info) {\n      console.log(\"onRemove\");\n      console.log(info);\n      resetImagePreview();\n    }\n  };\n\n  var resetImagePreview = function resetImagePreview() {\n    setPreviewVisible(false);\n    setPreviewImage(null);\n  };\n\n  function getBase64(file) {\n    return new Promise(function (resolve, reject) {\n      var reader = new FileReader();\n      reader.readAsDataURL(file);\n\n      reader.onload = function () {\n        return resolve(reader.result);\n      };\n\n      reader.onerror = function (error) {\n        return reject(error);\n      };\n    });\n  }\n\n  return __jsx(Layout, {\n    title: \"Government - Admin management\",\n    titlePage: \"เพิ่มวันหยุด\",\n    indexSubMenu: \"6\",\n    indexMenu: \"sub-6-3\",\n    url: origin,\n    origin: origin,\n    props: props,\n    _routes: [{\n      path: '/admin/dashborad',\n      breadcrumbName: 'หน้าหลัก'\n    }, {\n      path: '/admin/setting/general/management-holiday',\n      breadcrumbName: 'จัดการวันหยุดพิเศษ'\n    }, {\n      path: '/admin/setting/general/add-holiday',\n      breadcrumbName: 'เพิ่มวันหยุด'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 3\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 4\n    }\n  }, contextHolder, __jsx(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 5\n    }\n  }, __jsx(Form, {\n    name: \"basic\",\n    className: \"w-full\" // initialValues={{ email: email, invitationCode: code }}\n    ,\n    layout: \"vertical\",\n    onFinish: onSubmitHandler // onFinishFailed={onFinishFailed}\n    ,\n    requiredMark: true,\n    form: form,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 6\n    }\n  }, __jsx(Form.Item, {\n    name: \"intro_title\",\n    label: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E27\\u0E31\\u0E19\\u0E2B\\u0E22\\u0E38\\u0E14\",\n    className: \"block text-gray-700 text-sm font-bold mb-2 w-1/3 form-organization\",\n    style: {\n      textAlign: \"left !important\"\n    },\n    rules: [{\n      required: true,\n      message: 'กรุณากรอก ชื่อวันหยุด!'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }\n  }, __jsx(\"input\", {\n    className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n    id: \"#\",\n    type: \"text\",\n    placeholder: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E27\\u0E31\\u0E19\\u0E2B\\u0E22\\u0E38\\u0E14\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 8\n    }\n  })), __jsx(Form.Item, {\n    name: \"intro_date_s\",\n    label: \"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E40\\u0E23\\u0E34\\u0E48\\u0E21\\u0E41\\u0E2A\\u0E14\\u0E07\",\n    className: \"block text-gray-700 text-sm font-bold mb-2  w-1/3 form-organization\",\n    style: {\n      textAlign: \"left !important\"\n    },\n    rules: [{\n      required: true,\n      message: 'กรุณากรอก วันที่เริ่มแสดง!'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }\n  }, __jsx(DatePicker, {\n    format: \"YYYY-MM-DD\",\n    className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\" // showTime={{ defaultValue: moment('00:00:00') }}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 8\n    }\n  })), __jsx(Form.Item, {\n    name: \"intro_date_e\",\n    label: \"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E2A\\u0E34\\u0E49\\u0E19\\u0E2A\\u0E38\\u0E14\\u0E01\\u0E32\\u0E23\\u0E41\\u0E2A\\u0E14\\u0E07\",\n    className: \"block text-gray-700 text-sm font-bold mb-2  w-1/3 form-organization\",\n    style: {\n      textAlign: \"left !important\"\n    },\n    rules: [{\n      required: true,\n      message: 'กรุณากรอก วันที่สิ้นสุดการแสดง!'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 7\n    }\n  }, __jsx(DatePicker, {\n    format: \"YYYY-MM-DD\",\n    className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\" // showTime={{ defaultValue: moment('00:00:00') }}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 8\n    }\n  })), __jsx(\"div\", {\n    style: {\n      clear: \"both\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 7\n    }\n  }), __jsx(Form.Item, {\n    name: \"intro_image\",\n    label: \"\\u0E20\\u0E32\\u0E1E\\u0E27\\u0E31\\u0E19\\u0E2B\\u0E22\\u0E38\\u0E14\",\n    className: \"block text-gray-700 text-sm font-bold mb-2 w-full\",\n    rules: [{\n      required: true,\n      message: 'กรุณาเลือก ภาพวันหยุด'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 7\n    }\n  }, __jsx(Dragger, _extends({\n    maxCount: 1 // listType=\"picture\"\n    ,\n    accept: \".jpg, .jpeg, .png\"\n  }, imageUploadprops, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 8\n    }\n  }), previewVisible && __jsx(React.Fragment, null, __jsx(Image // width={200}\n  , {\n    preview: false,\n    src: previewImage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 30\n    }\n  })), !previewVisible && __jsx(React.Fragment, null, __jsx(\"p\", {\n    className: \"ant-upload-drag-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 10\n    }\n  }, __jsx(InboxOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 11\n    }\n  })), __jsx(\"p\", {\n    className: \"ant-upload-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 10\n    }\n  }, \"\\u0E04\\u0E25\\u0E34\\u0E01 \\u0E2B\\u0E23\\u0E37\\u0E2D \\u0E25\\u0E32\\u0E01\\u0E44\\u0E1F\\u0E25\\u0E4C\\u0E21\\u0E32\\u0E17\\u0E35\\u0E48\\u0E1A\\u0E23\\u0E34\\u0E40\\u0E27\\u0E13\\u0E19\\u0E35\\u0E49\\u0E40\\u0E1E\\u0E37\\u0E48\\u0E2D\\u0E2D\\u0E31\\u0E1B\\u0E42\\u0E2B\\u0E25\\u0E14\")))), __jsx(\"div\", {\n    style: {\n      clear: \"both\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 7\n    }\n  }), __jsx(Form.Item, {\n    name: \"intro_btn\",\n    label: \"\\u0E04\\u0E33\\u0E17\\u0E35\\u0E48\\u0E41\\u0E2A\\u0E14\\u0E07\\u0E1A\\u0E19\\u0E1B\\u0E38\\u0E48\\u0E21\",\n    className: \"block text-gray-700 text-sm font-bold mb-2  w-1/2 form-organization\",\n    style: {\n      textAlign: \"left !important\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 7\n    }\n  }, __jsx(\"input\", {\n    className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n    size: \"large\",\n    placeholder: \"\\u0E04\\u0E33\\u0E17\\u0E35\\u0E48\\u0E41\\u0E2A\\u0E14\\u0E07\\u0E1A\\u0E19\\u0E1B\\u0E38\\u0E48\\u0E21\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 8\n    }\n  })), __jsx(Form.Item, {\n    name: \"intro_url\",\n    label: \"url \\u0E17\\u0E35\\u0E48\\u0E15\\u0E49\\u0E2D\\u0E07\\u0E01\\u0E32\\u0E23\\u0E43\\u0E2B\\u0E49\\u0E25\\u0E34\\u0E07\\u0E04\\u0E4C\\u0E44\\u0E1B\",\n    className: \"block text-gray-700 text-sm font-bold mb-2  w-1/2 form-organization\",\n    style: {\n      textAlign: \"left !important\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 7\n    }\n  }, __jsx(\"input\", {\n    className: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n    size: \"large\",\n    placeholder: \"url \\u0E17\\u0E35\\u0E48\\u0E15\\u0E49\\u0E2D\\u0E07\\u0E01\\u0E32\\u0E23\\u0E43\\u0E2B\\u0E49\\u0E25\\u0E34\\u0E07\\u0E04\\u0E4C\\u0E44\\u0E1B\" // onChange={() => setEmailText(event.target.value)}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 8\n    }\n  })), __jsx(\"div\", {\n    style: {\n      clear: \"both\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 7\n    }\n  }), __jsx(Form.Item, {\n    className: \"flex mt-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"lg:inline-flex w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 8\n    }\n  }, __jsx(\"div\", {\n    className: \"lg:inline-flex text-left w-full lg:w-1/2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 9\n    }\n  }, __jsx(Switch, {\n    checked: isHasBless,\n    onClick: setIsHasBless,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 10\n    }\n  }), __jsx(\"p\", {\n    className: \"mx-2 text-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 10\n    }\n  }, \"\\u0E21\\u0E35\\u0E01\\u0E32\\u0E23\\u0E16\\u0E27\\u0E32\\u0E22\\u0E1E\\u0E23\\u0E30\\u0E1E\\u0E23\"), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 10\n    }\n  }), __jsx(Switch, {\n    checked: isUse,\n    onClick: setIsUse,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 10\n    }\n  }), __jsx(\"p\", {\n    className: \"mx-2 text-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 10\n    }\n  }, \"\\u0E01\\u0E32\\u0E23\\u0E41\\u0E2A\\u0E14\\u0E07\\u0E1C\\u0E25\")), __jsx(\"div\", {\n    className: \"text-center lg:text-right w-full lg:w-1/2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 9\n    }\n  }, __jsx(Button, {\n    htmlType: \"button\",\n    onClick: onResetForm,\n    style: {\n      backgroundColor: '#C2CFE0',\n      borderColor: '#C2CFE0',\n      height: 40,\n      width: 110,\n      marginBottom: '0px !important',\n      marginRight: '2px',\n      color: 'white !important'\n    } // htmlType=\"submit\"\n    ,\n    className: \"text-center bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full lg:w-1/4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 10\n    }\n  }, __jsx(Text, {\n    className: \"text-custom-black \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 11\n    }\n  }, \"\\u0E23\\u0E35\\u0E40\\u0E0B\\u0E47\\u0E17\")), __jsx(Button // type=\"primary\"\n  , {\n    style: {\n      backgroundColor: '#059669',\n      borderColor: '#059669',\n      height: 40,\n      width: 110,\n      marginBottom: '0px !important',\n      color: 'white !important'\n    },\n    htmlType: \"submit\",\n    className: \"text-center bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full lg:w-1/4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 10\n    }\n  }, __jsx(Text, {\n    className: \"text-custom-white \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 11\n    }\n  }, \"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\")))))))));\n}\n/* getServerSideProps */\n\n_s(Home, \"R3vZH9snXXgQ/o+2dmAscP8Yt8g=\", false, function () {\n  return [Form.useForm, notification.useNotification, useRouter];\n});\n\n_c = Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["D:/govermentlt/pages/admin/setting/general/add-holiday.js"],"names":["InboxOutlined","Button","DatePicker","Form","Image","notification","Row","Switch","Typography","Upload","axios","moment","useRouter","useEffect","useState","validator","Layout","apiInstance","Text","Title","Dragger","Home","props","user","origin","url","setUrl","previewImage","setPreviewImage","imageLandingPage","setImageLandingPage","previewVisible","setPreviewVisible","isHasBless","setIsHasBless","isUse","setIsUse","useForm","form","useNotification","api","contextHolder","router","onSubmitHandler","value","date_s_Str","intro_date_s","format","date_e_Str","intro_date_e","data","organization_id","intro_title","intro_url","intro_btn","post","introData","status","openNotificationSuccess","setTimeout","push","bind","openNotificationFail","message","success","description","placement","messgae","error","validateURL","inputText","trim","onResetForm","resetFields","resetImagePreview","imageUploadprops","name","multiple","listType","maxCount","action","preview","customRequest","options","FormData","append","file","type_user","config","then","res","list","_name","onSuccess","err","console","log","onChange","info","getBase64","originFileObj","onRemove","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","path","breadcrumbName","textAlign","required","clear","backgroundColor","borderColor","height","width","marginBottom","marginRight","color"],"mappings":";;;;;;;;;;AAAA,SAASA,aAAT,QAA8B,mBAA9B;AACA,SACCC,MADD,EACSC,UADT,EACqBC,IADrB,EAC2BC,KAD3B,EACkCC,YADlC,EACgDC,GADhD,EACqDC,MADrD,EAC6DC,UAD7D,EACyEC,MADzE,QAEO,MAFP;AAGA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,SAASC,SAAT,QAA0B,aAA1B,C,CACA;;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,SAAP,MAAsB,WAAtB;AACA;;AACA,OAAOC,MAAP,MAAmB,2CAAnB;AACA;;AACA,SAAsBC,WAAtB,QAAyC,8BAAzC;AACA,IAAQC,IAAR,GAAwBV,UAAxB,CAAQU,IAAR;AAAA,IAAcC,KAAd,GAAwBX,UAAxB,CAAcW,KAAd;AACA,IAAQC,OAAR,GAAoBX,MAApB,CAAQW,OAAR;;AAEA,eAAe,SAASC,IAAT,CAAcC,KAAd,EAAqB;AAAA;;AACnC,MAAQC,IAAR,GAAyBD,KAAzB,CAAQC,IAAR;AAAA,MAAcC,MAAd,GAAyBF,KAAzB,CAAcE,MAAd;;AACA,kBAAsBV,QAAQ,CAAC,EAAD,CAA9B;AAAA,MAAOW,GAAP;AAAA,MAAYC,MAAZ;;AACA,mBAAwCZ,QAAQ,CAAC,IAAD,CAAhD;AAAA,MAAOa,YAAP;AAAA,MAAqBC,eAArB;;AACA,mBAAgDd,QAAQ,CAAC,IAAD,CAAxD;AAAA,MAAOe,gBAAP;AAAA,MAAyBC,mBAAzB;;AACA,mBAA4ChB,QAAQ,CAAC,KAAD,CAApD;AAAA,MAAOiB,cAAP;AAAA,MAAuBC,iBAAvB;;AACA,mBAAoClB,QAAQ,CAAC,CAAD,CAA5C;AAAA,MAAOmB,UAAP;AAAA,MAAmBC,aAAnB;;AACA,mBAA0BpB,QAAQ,CAAC,CAAD,CAAlC;AAAA,MAAOqB,KAAP;AAAA,MAAcC,QAAd;;AACA,sBAAejC,IAAI,CAACkC,OAAL,EAAf;AAAA;AAAA,MAAOC,IAAP;;AACA,8BAA6BjC,YAAY,CAACkC,eAAb,EAA7B;AAAA;AAAA,MAAOC,GAAP;AAAA,MAAYC,aAAZ;;AACA,MAAMC,MAAM,GAAG9B,SAAS,EAAxB;;AAVmC,WAWpB+B,eAXoB;AAAA;AAAA;;AAAA;AAAA,gFAWnC,kBAA+BC,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AACC;AACA;AACIC,cAAAA,UAHL,GAGkBlC,MAAM,CAACiC,KAAK,CAACE,YAAP,CAAN,CAA2BC,MAA3B,EAHlB;AAIKC,cAAAA,UAJL,GAIkBrC,MAAM,CAACiC,KAAK,CAACK,YAAP,CAAN,CAA2BF,MAA3B,EAJlB;AAKOG,cAAAA,IALP,GAKc;AACZ,mCAAmB3B,IAAI,CAAC4B,eADZ;AAEZ,+BAAeP,KAAK,CAACQ,WAFT;AAGZ,6BAAaR,KAAK,CAACS,SAHP;AAIZ,6BAAaT,KAAK,CAACU,SAJP;AAKZ,gCAAgBT,UALJ;AAMZ,gCAAgBG,UANJ;AAOZ,+BAAenB,gBAPH;AAQZ,gCAAgBI,UARJ;AASZ,0BAAUE,KATE;AAUZ,4BAAY;AAVA,eALd;AAAA;AAAA,qBAiByBlB,WAAW,GAAGsC,IAAd,CAAmB,UAAnB,EAA+BL,IAA/B,CAjBzB;;AAAA;AAiBOM,cAAAA,SAjBP;;AAkBC,kBAAIA,SAAS,CAACN,IAAV,CAAeO,MAAf,IAAyB,GAA7B,EAAkC;AACjCC,gBAAAA,uBAAuB;AACvBC,gBAAAA,UAAU,CAAC,YAAY;AAAE;AACxBjB,kBAAAA,MAAM,CAACkB,IAAP,CAAY,2CAAZ;AACA,iBAFU,CAETC,IAFS,CAEJ,IAFI,CAAD,EAEI,IAFJ,CAAV;AAGA,eALD,MAKO;AACNC,gBAAAA,oBAAoB,CAACN,SAAS,CAACN,IAAV,CAAea,OAAhB,CAApB;AAEA;;AA1BF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAXmC;AAAA;AAAA;;AAwCnClD,EAAAA,SAAS,CAAC,YAAM,CAEf,CAFQ,EAEN,EAFM,CAAT;;AAIA,MAAM6C,uBAAuB,GAAG,SAA1BA,uBAA0B,GAAM;AACrClB,IAAAA,GAAG,CAACwB,OAAJ,CAAY;AACXD,MAAAA,OAAO,gHADI;AAEXE,MAAAA,WAAW,EAAE,oBAFF;AAGXC,MAAAA,SAAS,EAAE;AAHA,KAAZ;AAKA,GAND;;AAQA,MAAMJ,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACK,OAAD,EAAa;AACzC3B,IAAAA,GAAG,CAAC4B,KAAJ,CAAU;AACTL,MAAAA,OAAO,kLADE;AAETE,MAAAA,WAAW,EAAEE,OAFJ;AAGTD,MAAAA,SAAS,EAAE;AAHF,KAAV;AAKA,GAND;;AAOA,MAAMG,WAAW,GAAG,SAAdA,WAAc,CAACC,SAAD,EAAe;AAClC5C,IAAAA,MAAM,CAACX,SAAS,CAACwD,IAAV,CAAeD,SAAf,CAAD,CAAN;AACA,GAFD;;AAGA,MAAME,WAAW,GAAG,SAAdA,WAAc,GAAM;AACzBlC,IAAAA,IAAI,CAACmC,WAAL;AACA/C,IAAAA,MAAM,CAAC,EAAD,CAAN;AACAgD,IAAAA,iBAAiB;AACjB,GAJD;;AAMA,MAAMC,gBAAgB,GAAG;AACxBC,IAAAA,IAAI,EAAE,MADkB;AAExBC,IAAAA,QAAQ,EAAE,KAFc;AAGxBC,IAAAA,QAAQ,EAAE,MAHc;AAIxBC,IAAAA,QAAQ,EAAE,CAJc;AAKxBC,IAAAA,MAAM,EAAE,qBALgB;AAMxBC,IAAAA,OAAO,EAAE,KANe;AAOxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,IAAAA,aAAa,EAAE,uBAACC,OAAD,EAAa;AAC3B,UAAMjC,IAAI,GAAG,IAAIkC,QAAJ,EAAb;AACAlC,MAAAA,IAAI,CAACmC,MAAL,CAAY,MAAZ,EAAoBF,OAAO,CAACG,IAA5B;AACApC,MAAAA,IAAI,CAACmC,MAAL,CAAY,IAAZ,EAAkB9D,IAAI,CAACgE,SAAL,IAAkB,CAAlB,GAAsB,OAAtB,GAAgChE,IAAI,CAAC4B,eAAvD;AACA,UAAMqC,MAAM,GAAG;AACd,mBAAW;AACV,0BAAgB;AADN;AADG,OAAf;AAKA9E,MAAAA,KAAK,CAAC6C,IAAN,CAAW4B,OAAO,CAACH,MAAnB,EAA2B9B,IAA3B,EAAiCsC,MAAjC,EAAyCC,IAAzC,CAA8C,UAACC,GAAD,EAAS;AACtD;AACA;AACA5D,QAAAA,mBAAmB,CAAC4D,GAAG,CAACxC,IAAJ,CAASA,IAAT,CAAcyC,IAAd,CAAmB,CAAnB,EAAsBC,KAAvB,CAAnB;AACAT,QAAAA,OAAO,CAACU,SAAR,CAAkBH,GAAG,CAACxC,IAAtB,EAA4BiC,OAAO,CAACG,IAApC;AACA,OALD,WAKS,UAACQ,GAAD,EAAS;AACjBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,OAPD;AASA,KApCuB;AAqClBG,IAAAA,QArCkB,oBAqCTC,IArCS,EAqCH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACZzC,gBAAAA,MADY,GACDyC,IAAI,CAACZ,IADJ,CACZ7B,MADY,EAEpB;;AAFoB,8BAGZyC,IAAI,CAACZ,IAAL,CAAU7B,MAHE;AAAA,gDAOd,MAPc;AAAA;;AAAA;AAAA,sBAQd,CAACyC,IAAI,CAACZ,IAAL,CAAU7D,GAAX,IAAkB,CAACyE,IAAI,CAACZ,IAAL,CAAUL,OARf;AAAA;AAAA;AAAA;;AAAA;AAAA,uBASSkB,SAAS,CAACD,IAAI,CAACZ,IAAL,CAAUc,aAAX,CATlB;;AAAA;AASjBF,gBAAAA,IAAI,CAACZ,IAAL,CAAUL,OATO;;AAAA;AAWlBrD,gBAAAA,eAAe,CAACsE,IAAI,CAACZ,IAAL,CAAU7D,GAAV,IAAiByE,IAAI,CAACZ,IAAL,CAAUL,OAA5B,CAAf;AACAjD,gBAAAA,iBAAiB,CAAC,IAAD,CAAjB;AAZkB;;AAAA;AAgBlB;AACA0C,gBAAAA,iBAAiB;;AAjBC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA0BpB,KA/DuB;AAgExB2B,IAAAA,QAhEwB,oBAgEfH,IAhEe,EAgET;AACdH,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYE,IAAZ;AACAxB,MAAAA,iBAAiB;AAEjB;AArEuB,GAAzB;;AAwEA,MAAMA,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;AAC/B1C,IAAAA,iBAAiB,CAAC,KAAD,CAAjB;AACAJ,IAAAA,eAAe,CAAC,IAAD,CAAf;AACA,GAHD;;AAKA,WAASuE,SAAT,CAAmBb,IAAnB,EAAyB;AACxB,WAAO,IAAIgB,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACvC,UAAMC,MAAM,GAAG,IAAIC,UAAJ,EAAf;AACAD,MAAAA,MAAM,CAACE,aAAP,CAAqBrB,IAArB;;AACAmB,MAAAA,MAAM,CAACG,MAAP,GAAgB;AAAA,eAAML,OAAO,CAACE,MAAM,CAACI,MAAR,CAAb;AAAA,OAAhB;;AACAJ,MAAAA,MAAM,CAACK,OAAP,GAAiB,UAAA1C,KAAK;AAAA,eAAIoC,MAAM,CAACpC,KAAD,CAAV;AAAA,OAAtB;AACA,KALM,CAAP;AAMA;;AAED,SACC,MAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,+BAAd;AAA8C,IAAA,SAAS,EAAE,cAAzD;AACC,IAAA,YAAY,EAAE,GADf;AAEC,IAAA,SAAS,EAAE,SAFZ;AAEuB,IAAA,GAAG,EAAE5C,MAF5B;AAEoC,IAAA,MAAM,EAAEA,MAF5C;AAEoD,IAAA,KAAK,EAAEF,KAF3D;AAEkE,IAAA,OAAO,EAAE,CACzE;AACCyF,MAAAA,IAAI,EAAE,kBADP;AAECC,MAAAA,cAAc,EAAE;AAFjB,KADyE,EAItE;AACFD,MAAAA,IAAI,EAAE,2CADJ;AAEFC,MAAAA,cAAc,EAAE;AAFd,KAJsE,EAOtE;AACFD,MAAAA,IAAI,EAAE,oCADJ;AAEFC,MAAAA,cAAc,EAAE;AAFd,KAPsE,CAF3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAaC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACEvE,aADF,EAEC,MAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,MAAC,IAAD;AACC,IAAA,IAAI,EAAC,OADN;AAEC,IAAA,SAAS,EAAC,QAFX,CAGC;AAHD;AAIC,IAAA,MAAM,EAAC,UAJR;AAKC,IAAA,QAAQ,EAAEE,eALX,CAMC;AAND;AAOC,IAAA,YAAY,EAAE,IAPf;AAQC,IAAA,IAAI,EAAEL,IARP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAYC,MAAC,IAAD,CAAM,IAAN;AACC,IAAA,IAAI,EAAC,aADN;AAEC,IAAA,KAAK,EAAC,oEAFP;AAGC,IAAA,SAAS,EAAC,oEAHX;AAIC,IAAA,KAAK,EAAE;AAAE2E,MAAAA,SAAS,EAAE;AAAb,KAJR;AAKC,IAAA,KAAK,EAAE,CACN;AACCC,MAAAA,QAAQ,EAAE,IADX;AAECnD,MAAAA,OAAO,EAAE;AAFV,KADM,CALR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAYC;AACC,IAAA,SAAS,EAAC,4HADX;AAEC,IAAA,EAAE,EAAC,GAFJ;AAGC,IAAA,IAAI,EAAC,MAHN;AAIC,IAAA,WAAW,EAAC,oEAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZD,CAZD,EA+BC,MAAC,IAAD,CAAM,IAAN;AACC,IAAA,IAAI,EAAC,cADN;AAEC,IAAA,KAAK,EAAC,4FAFP;AAGC,IAAA,SAAS,EAAC,qEAHX;AAIC,IAAA,KAAK,EAAE;AAAEkD,MAAAA,SAAS,EAAE;AAAb,KAJR;AAKC,IAAA,KAAK,EAAE,CACN;AACCC,MAAAA,QAAQ,EAAE,IADX;AAECnD,MAAAA,OAAO,EAAE;AAFV,KADM,CALR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAaC,MAAC,UAAD;AACC,IAAA,MAAM,EAAC,YADR;AAEC,IAAA,SAAS,EAAC,4HAFX,CAGA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAbD,CA/BD,EAkDC,MAAC,IAAD,CAAM,IAAN;AACC,IAAA,IAAI,EAAC,cADN;AAEC,IAAA,KAAK,EAAC,0HAFP;AAGC,IAAA,SAAS,EAAC,qEAHX;AAIC,IAAA,KAAK,EAAE;AAAEkD,MAAAA,SAAS,EAAE;AAAb,KAJR;AAKC,IAAA,KAAK,EAAE,CACN;AACCC,MAAAA,QAAQ,EAAE,IADX;AAECnD,MAAAA,OAAO,EAAE;AAFV,KADM,CALR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAYC,MAAC,UAAD;AACC,IAAA,MAAM,EAAC,YADR;AAEC,IAAA,SAAS,EAAC,4HAFX,CAGA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZD,CAlDD,EAoEC;AAAK,IAAA,KAAK,EAAE;AAAEoD,MAAAA,KAAK,EAAE;AAAT,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IApED,EAsEC,MAAC,IAAD,CAAM,IAAN;AACC,IAAA,IAAI,EAAC,aADN;AAEC,IAAA,KAAK,EAAC,8DAFP;AAGC,IAAA,SAAS,EAAC,mDAHX;AAIC,IAAA,KAAK,EAAE,CACN;AACCD,MAAAA,QAAQ,EAAE,IADX;AAECnD,MAAAA,OAAO,EAAE;AAFV,KADM,CAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAYC,MAAC,OAAD;AACC,IAAA,QAAQ,EAAE,CADX,CAEC;AAFD;AAGC,IAAA,MAAM,EAAC;AAHR,KAIKY,gBAJL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAOE5C,cAAc,IAAI,4BAAE,MAAC,KAAD,CACpB;AADoB;AAEpB,IAAA,OAAO,EAAE,KAFW;AAGpB,IAAA,GAAG,EAAEJ,YAHe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAF,CAPpB,EAcE,CAACI,cAAD,IAAmB,4BACnB;AAAG,IAAA,SAAS,EAAC,sBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,MAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CADmB,EAInB;AAAG,IAAA,SAAS,EAAC,iBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gQAJmB,CAdrB,CAZD,CAtED,EA4GC;AAAK,IAAA,KAAK,EAAE;AAAEoF,MAAAA,KAAK,EAAE;AAAT,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA5GD,EA6GC,MAAC,IAAD,CAAM,IAAN;AACC,IAAA,IAAI,EAAC,WADN;AAEC,IAAA,KAAK,EAAC,4FAFP;AAGC,IAAA,SAAS,EAAC,qEAHX;AAIC,IAAA,KAAK,EAAE;AAAEF,MAAAA,SAAS,EAAE;AAAb,KAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOC;AACC,IAAA,SAAS,EAAC,4HADX;AAEC,IAAA,IAAI,EAAC,OAFN;AAEc,IAAA,WAAW,EAAC,4FAF1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPD,CA7GD,EA0HC,MAAC,IAAD,CAAM,IAAN;AACC,IAAA,IAAI,EAAC,WADN;AAEC,IAAA,KAAK,EAAC,8HAFP;AAGC,IAAA,SAAS,EAAC,qEAHX;AAIC,IAAA,KAAK,EAAE;AAAEA,MAAAA,SAAS,EAAE;AAAb,KAJR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOC;AAAO,IAAA,SAAS,EAAC,4HAAjB;AAA8I,IAAA,IAAI,EAAC,OAAnJ;AAA2J,IAAA,WAAW,EAAC,8HAAvK,CACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPD,CA1HD,EAuIC;AAAK,IAAA,KAAK,EAAE;AAAEE,MAAAA,KAAK,EAAE;AAAT,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAvID,EA0IC,MAAC,IAAD,CAAM,IAAN;AAAW,IAAA,SAAS,EAAC,WAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AAAK,IAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC;AAAK,IAAA,SAAS,EAAC,0CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,MAAC,MAAD;AAAQ,IAAA,OAAO,EAAElF,UAAjB;AAA6B,IAAA,OAAO,EAAEC,aAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,EAEC;AAAG,IAAA,SAAS,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4FAFD,EAGC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHD,EAIC,MAAC,MAAD;AAAQ,IAAA,OAAO,EAAEC,KAAjB;AAAwB,IAAA,OAAO,EAAEC,QAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJD,EAKC;AAAG,IAAA,SAAS,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8DALD,CADD,EAQC;AAAK,IAAA,SAAS,EAAC,2CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,MAAC,MAAD;AACC,IAAA,QAAQ,EAAC,QADV;AAEC,IAAA,OAAO,EAAEoC,WAFV;AAGC,IAAA,KAAK,EAAE;AACN4C,MAAAA,eAAe,EAAE,SADX;AAENC,MAAAA,WAAW,EAAE,SAFP;AAGNC,MAAAA,MAAM,EAAE,EAHF;AAINC,MAAAA,KAAK,EAAE,GAJD;AAKNC,MAAAA,YAAY,EAAE,gBALR;AAMNC,MAAAA,WAAW,EAAE,KANP;AAONC,MAAAA,KAAK,EAAE;AAPD,KAHR,CAYC;AAZD;AAaC,IAAA,SAAS,EAAC,4IAbX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAeC,MAAC,IAAD;AAAM,IAAA,SAAS,EAAC,oBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAfD,CADD,EAkBC,MAAC,MAAD,CACC;AADD;AAEC,IAAA,KAAK,EAAE;AACNN,MAAAA,eAAe,EAAE,SADX;AAENC,MAAAA,WAAW,EAAE,SAFP;AAGNC,MAAAA,MAAM,EAAE,EAHF;AAINC,MAAAA,KAAK,EAAE,GAJD;AAKNC,MAAAA,YAAY,EAAE,gBALR;AAMNE,MAAAA,KAAK,EAAE;AAND,KAFR;AAUC,IAAA,QAAQ,EAAC,QAVV;AAWC,IAAA,SAAS,EAAC,4IAXX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAaC,MAAC,IAAD;AAAM,IAAA,SAAS,EAAC,oBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAbD,CAlBD,CARD,CADD,CA1ID,CADD,CAFD,CAbD,CADD;AAiNA;AACD;;GA5WwBrG,I;UAQRlB,IAAI,CAACkC,O,EACShC,YAAY,CAACkC,e,EAC3B3B,S;;;KAVQS,I","sourcesContent":["import { InboxOutlined } from '@ant-design/icons';\r\nimport {\r\n\tButton, DatePicker, Form, Image, notification, Row, Switch, Typography, Upload\r\n} from 'antd';\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\nimport { useRouter } from 'next/router';\r\n// import UserNav from '../components/navigation/User';\r\nimport { useEffect, useState } from 'react';\r\nimport validator from 'validator';\r\n/* components */\r\nimport Layout from '../../../../components/layout/LayoutAdmin';\r\n/* utils */\r\nimport { absoluteUrl, apiInstance } from '../../../../middleware/utils';\r\nconst { Text, Title } = Typography;\r\nconst { Dragger } = Upload;\r\n\r\nexport default function Home(props) {\r\n\tconst { user, origin } = props;\r\n\tconst [url, setUrl] = useState(\"\")\r\n\tconst [previewImage, setPreviewImage] = useState(null)\r\n\tconst [imageLandingPage, setImageLandingPage] = useState(null)\r\n\tconst [previewVisible, setPreviewVisible] = useState(false)\r\n\tconst [isHasBless, setIsHasBless] = useState(0)\r\n\tconst [isUse, setIsUse] = useState(1)\r\n\tconst [form] = Form.useForm();\r\n\tconst [api, contextHolder] = notification.useNotification();\r\n\tconst router = useRouter();\r\n\tasync function onSubmitHandler(value) {\r\n\t\t// console.log(\"value\")\r\n\t\t// console.log(value)\r\n\t\tvar date_s_Str = moment(value.intro_date_s).format()\r\n\t\tvar date_e_Str = moment(value.intro_date_e).format()\r\n\t\tconst data = {\r\n\t\t\t\"organization_id\": user.organization_id,\r\n\t\t\t\"intro_title\": value.intro_title,\r\n\t\t\t\"intro_url\": value.intro_url,\r\n\t\t\t\"intro_btn\": value.intro_btn,\r\n\t\t\t\"intro_date_s\": date_s_Str,\r\n\t\t\t\"intro_date_e\": date_e_Str,\r\n\t\t\t\"intro_image\": imageLandingPage,\r\n\t\t\t\"is_has_bless\": isHasBless,\r\n\t\t\t\"is_use\": isUse,\r\n\t\t\t\"is_admin\": 1,\r\n\t\t}\r\n\t\tconst introData = await apiInstance().post('/holiday', data);\r\n\t\tif (introData.data.status == 200) {\r\n\t\t\topenNotificationSuccess()\r\n\t\t\tsetTimeout(function () { //Start the timer\r\n\t\t\t\trouter.push('/admin/setting/general/management-holiday')\r\n\t\t\t}.bind(this), 2000)\r\n\t\t} else {\r\n\t\t\topenNotificationFail(introData.data.message)\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\r\n\t}, [])\r\n\r\n\tconst openNotificationSuccess = () => {\r\n\t\tapi.success({\r\n\t\t\tmessage: `บันทึกข้อมูลสำเร็จ`,\r\n\t\t\tdescription: 'บันทึกข้อมูลสำเร็จ',\r\n\t\t\tplacement: 'topRight',\r\n\t\t});\r\n\t};\r\n\r\n\tconst openNotificationFail = (messgae) => {\r\n\t\tapi.error({\r\n\t\t\tmessage: `พบปัญหาระหว่างการบันทึกข้อมูล`,\r\n\t\t\tdescription: messgae,\r\n\t\t\tplacement: 'topRight',\r\n\t\t});\r\n\t};\r\n\tconst validateURL = (inputText) => {\r\n\t\tsetUrl(validator.trim(inputText))\r\n\t}\r\n\tconst onResetForm = () => {\r\n\t\tform.resetFields();\r\n\t\tsetUrl(\"\");\r\n\t\tresetImagePreview();\r\n\t}\r\n\r\n\tconst imageUploadprops = {\r\n\t\tname: 'file',\r\n\t\tmultiple: false,\r\n\t\tlistType: 'text',\r\n\t\tmaxCount: 1,\r\n\t\taction: \"/api/upload/holiday\",\r\n\t\tpreview: false,\r\n\t\t// uid: user.type_user == 1 ? \"admin\" : user.organization_id,\r\n\t\t// beforeUpload(file) {\r\n\t\t// \tconst isLt10M = file.size / 1024 / 1024 < 10\r\n\t\t// \tif (!isLt10M) {\r\n\t\t// \t\tnotification.open({\r\n\t\t// \t\t\tmessage: 'Upload error!',\r\n\t\t// \t\t\tdescription: <Text className=\"text-black\">Image must smaller than 10MB!</Text>,\r\n\t\t// \t\t})\r\n\t\t// \t}\r\n\t\t// \treturn isLt10M\r\n\t\t// },\r\n\t\tcustomRequest: (options) => {\r\n\t\t\tconst data = new FormData()\r\n\t\t\tdata.append('file', options.file)\r\n\t\t\tdata.append('id', user.type_user == 1 ? \"admin\" : user.organization_id)\r\n\t\t\tconst config = {\r\n\t\t\t\t\"headers\": {\r\n\t\t\t\t\t\"content-type\": 'multipart/form-data; boundary=----WebKitFormBoundaryqTqJIxvkWFYqvP5s'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\taxios.post(options.action, data, config).then((res) => {\r\n\t\t\t\t// imageLandingPage\r\n\t\t\t\t// console.log(res.data.data.list[0]._name)\r\n\t\t\t\tsetImageLandingPage(res.data.data.list[0]._name)\r\n\t\t\t\toptions.onSuccess(res.data, options.file)\r\n\t\t\t}).catch((err) => {\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t})\r\n\r\n\t\t},\r\n\t\tasync onChange(info) {\r\n\t\t\tconst { status } = info.file\r\n\t\t\t// console.log(user)\r\n\t\t\tswitch (info.file.status) {\r\n\t\t\t\t// case \"uploading\":\r\n\t\t\t\t//   nextState.selectedFileList = [info.file];\r\n\t\t\t\t//   break;\r\n\t\t\t\tcase \"done\":\r\n\t\t\t\t\tif (!info.file.url && !info.file.preview) {\r\n\t\t\t\t\t\tinfo.file.preview = await getBase64(info.file.originFileObj);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetPreviewImage(info.file.url || info.file.preview)\r\n\t\t\t\t\tsetPreviewVisible(true)\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\t// error or removed\r\n\t\t\t\t\tresetImagePreview()\r\n\t\t\t}\r\n\t\t\t//console.log(info.file)\r\n\r\n\t\t\t// this.setState({\r\n\t\t\t//   previewImage: file.url || file.preview,\r\n\t\t\t//   previewVisible: true,\r\n\t\t\t// });\r\n\r\n\t\t},\r\n\t\tonRemove(info) {\r\n\t\t\tconsole.log(\"onRemove\")\r\n\t\t\tconsole.log(info)\r\n\t\t\tresetImagePreview()\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tconst resetImagePreview = () => {\r\n\t\tsetPreviewVisible(false)\r\n\t\tsetPreviewImage(null)\r\n\t}\r\n\r\n\tfunction getBase64(file) {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tconst reader = new FileReader();\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t\treader.onload = () => resolve(reader.result);\r\n\t\t\treader.onerror = error => reject(error);\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Layout title=\"Government - Admin management\" titlePage={\"เพิ่มวันหยุด\"}\r\n\t\t\tindexSubMenu={\"6\"}\r\n\t\t\tindexMenu={\"sub-6-3\"} url={origin} origin={origin} props={props} _routes={[\r\n\t\t\t\t{\r\n\t\t\t\t\tpath: '/admin/dashborad',\r\n\t\t\t\t\tbreadcrumbName: 'หน้าหลัก',\r\n\t\t\t\t}, {\r\n\t\t\t\t\tpath: '/admin/setting/general/management-holiday',\r\n\t\t\t\t\tbreadcrumbName: 'จัดการวันหยุดพิเศษ',\r\n\t\t\t\t}, {\r\n\t\t\t\t\tpath: '/admin/setting/general/add-holiday',\r\n\t\t\t\t\tbreadcrumbName: 'เพิ่มวันหยุด',\r\n\t\t\t\t}]}>\r\n\t\t\t<div>\r\n\t\t\t\t{contextHolder}\r\n\t\t\t\t<Row >\r\n\t\t\t\t\t<Form\r\n\t\t\t\t\t\tname=\"basic\"\r\n\t\t\t\t\t\tclassName=\"w-full\"\r\n\t\t\t\t\t\t// initialValues={{ email: email, invitationCode: code }}\r\n\t\t\t\t\t\tlayout=\"vertical\"\r\n\t\t\t\t\t\tonFinish={onSubmitHandler}\r\n\t\t\t\t\t\t// onFinishFailed={onFinishFailed}\r\n\t\t\t\t\t\trequiredMark={true}\r\n\t\t\t\t\t\tform={form}\r\n\t\t\t\t\t>\r\n\r\n\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tname=\"intro_title\"\r\n\t\t\t\t\t\t\tlabel=\"ชื่อวันหยุด\"\r\n\t\t\t\t\t\t\tclassName=\"block text-gray-700 text-sm font-bold mb-2 w-1/3 form-organization\"\r\n\t\t\t\t\t\t\tstyle={{ textAlign: \"left !important\" }}\r\n\t\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\tmessage: 'กรุณากรอก ชื่อวันหยุด!'\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclassName=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n\t\t\t\t\t\t\t\tid=\"#\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"ชื่อวันหยุด\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tname=\"intro_date_s\"\r\n\t\t\t\t\t\t\tlabel=\"วันที่เริ่มแสดง\"\r\n\t\t\t\t\t\t\tclassName=\"block text-gray-700 text-sm font-bold mb-2  w-1/3 form-organization\"\r\n\t\t\t\t\t\t\tstyle={{ textAlign: \"left !important\" }}\r\n\t\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\tmessage: 'กรุณากรอก วันที่เริ่มแสดง!'\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t>\r\n\r\n\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\tformat=\"YYYY-MM-DD\"\r\n\t\t\t\t\t\t\t\tclassName=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n\t\t\t\t\t\t\t// showTime={{ defaultValue: moment('00:00:00') }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tname=\"intro_date_e\"\r\n\t\t\t\t\t\t\tlabel=\"วันที่สิ้นสุดการแสดง\"\r\n\t\t\t\t\t\t\tclassName=\"block text-gray-700 text-sm font-bold mb-2  w-1/3 form-organization\"\r\n\t\t\t\t\t\t\tstyle={{ textAlign: \"left !important\" }}\r\n\t\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\tmessage: 'กรุณากรอก วันที่สิ้นสุดการแสดง!'\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\tformat=\"YYYY-MM-DD\"\r\n\t\t\t\t\t\t\t\tclassName=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n\t\t\t\t\t\t\t// showTime={{ defaultValue: moment('00:00:00') }}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<div style={{ clear: \"both\" }}></div>\r\n\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tname=\"intro_image\"\r\n\t\t\t\t\t\t\tlabel=\"ภาพวันหยุด\"\r\n\t\t\t\t\t\t\tclassName=\"block text-gray-700 text-sm font-bold mb-2 w-full\"\r\n\t\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\tmessage: 'กรุณาเลือก ภาพวันหยุด',\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{/* <Dragger {...dropimg}> */}\r\n\t\t\t\t\t\t\t<Dragger\r\n\t\t\t\t\t\t\t\tmaxCount={1}\r\n\t\t\t\t\t\t\t\t// listType=\"picture\"\r\n\t\t\t\t\t\t\t\taccept=\".jpg, .jpeg, .png\"\r\n\t\t\t\t\t\t\t\t{...imageUploadprops}\r\n\t\t\t\t\t\t\t>\r\n\r\n\t\t\t\t\t\t\t\t{previewVisible && <><Image\r\n\t\t\t\t\t\t\t\t\t// width={200}\r\n\t\t\t\t\t\t\t\t\tpreview={false}\r\n\t\t\t\t\t\t\t\t\tsrc={previewImage}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{!previewVisible && <>\r\n\t\t\t\t\t\t\t\t\t<p className=\"ant-upload-drag-icon\">\r\n\t\t\t\t\t\t\t\t\t\t<InboxOutlined />\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<p className=\"ant-upload-text\">\r\n\t\t\t\t\t\t\t\t\t\tคลิก หรือ ลากไฟล์มาที่บริเวณนี้เพื่ออัปโหลด\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</Dragger>\r\n\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<div style={{ clear: \"both\" }}></div>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tname=\"intro_btn\"\r\n\t\t\t\t\t\t\tlabel=\"คำที่แสดงบนปุ่ม\"\r\n\t\t\t\t\t\t\tclassName=\"block text-gray-700 text-sm font-bold mb-2  w-1/2 form-organization\"\r\n\t\t\t\t\t\t\tstyle={{ textAlign: \"left !important\" }}\r\n\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclassName=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n\t\t\t\t\t\t\t\tsize=\"large\" placeholder=\"คำที่แสดงบนปุ่ม\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tname=\"intro_url\"\r\n\t\t\t\t\t\t\tlabel=\"url ที่ต้องการให้ลิงค์ไป\"\r\n\t\t\t\t\t\t\tclassName=\"block text-gray-700 text-sm font-bold mb-2  w-1/2 form-organization\"\r\n\t\t\t\t\t\t\tstyle={{ textAlign: \"left !important\" }}\r\n\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<input className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\" size=\"large\" placeholder=\"url ที่ต้องการให้ลิงค์ไป\"\r\n\t\t\t\t\t\t\t// onChange={() => setEmailText(event.target.value)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Form.Item>\r\n\r\n\r\n\t\t\t\t\t\t<div style={{ clear: \"both\" }}></div>\r\n\r\n\r\n\t\t\t\t\t\t<Form.Item className=\"flex mt-6\">\r\n\t\t\t\t\t\t\t<div className=\"lg:inline-flex w-full\">\r\n\t\t\t\t\t\t\t\t<div className=\"lg:inline-flex text-left w-full lg:w-1/2\">\r\n\t\t\t\t\t\t\t\t\t<Switch checked={isHasBless} onClick={setIsHasBless} />\r\n\t\t\t\t\t\t\t\t\t<p className=\"mx-2 text-sm\">มีการถวายพระพร</p>\r\n\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t<Switch checked={isUse} onClick={setIsUse} />\r\n\t\t\t\t\t\t\t\t\t<p className=\"mx-2 text-sm\">การแสดงผล</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"text-center lg:text-right w-full lg:w-1/2\">\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\thtmlType=\"button\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={onResetForm}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#C2CFE0',\r\n\t\t\t\t\t\t\t\t\t\t\tborderColor: '#C2CFE0',\r\n\t\t\t\t\t\t\t\t\t\t\theight: 40,\r\n\t\t\t\t\t\t\t\t\t\t\twidth: 110,\r\n\t\t\t\t\t\t\t\t\t\t\tmarginBottom: '0px !important',\r\n\t\t\t\t\t\t\t\t\t\t\tmarginRight: '2px',\r\n\t\t\t\t\t\t\t\t\t\t\tcolor: 'white !important',\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t// htmlType=\"submit\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"text-center bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full lg:w-1/4\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Text className=\"text-custom-black \">รีเซ็ท</Text>\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t// type=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#059669',\r\n\t\t\t\t\t\t\t\t\t\t\tborderColor: '#059669',\r\n\t\t\t\t\t\t\t\t\t\t\theight: 40,\r\n\t\t\t\t\t\t\t\t\t\t\twidth: 110,\r\n\t\t\t\t\t\t\t\t\t\t\tmarginBottom: '0px !important',\r\n\t\t\t\t\t\t\t\t\t\t\tcolor: 'white !important',\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\thtmlType=\"submit\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"text-center bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full lg:w-1/4\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Text className=\"text-custom-white \">บันทึก</Text>\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Row>\r\n\r\n\t\t\t</div>\r\n\r\n\r\n\t\t</Layout>\r\n\t);\r\n}\r\n/* getServerSideProps */\r\nexport async function getServerSideProps(context) {\r\n\tconst { req } = context;\r\n\tconst { origin } = absoluteUrl(req);\r\n\r\n\treturn {\r\n\t\tprops: {\r\n\t\t\torigin,\r\n\t\t},\r\n\t};\r\n}\r\n"]},"metadata":{},"sourceType":"module"}