{"ast":null,"code":"var _jsxFileName = \"D:\\\\govermentlt\\\\pages\\\\admin\\\\management\\\\webboard\\\\add-webboard-q.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { Button, Checkbox, DatePicker, Form, Input, notification, Switch, Typography } from 'antd';\nimport moment from 'moment';\nimport dynamic from 'next/dynamic';\nimport { useRouter } from 'next/router'; // import UserNav from '../components/navigation/User';\n\nimport { useEffect, useRef, useState } from 'react';\n/* components */\n\nimport Layout from '../../../../components/layout/LayoutAdmin';\nimport { absoluteUrl, apiInstance } from '../../../../middleware/utils';\nconst {\n  Text,\n  Title\n} = Typography;\nconst JoditEditor = dynamic(() => import('jodit-react'), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak('jodit-react')],\n    modules: ['jodit-react']\n  }\n});\nconst {\n  TextArea\n} = Input;\n\nconst config = require('./../../config');\n\nexport default function Home(props) {\n  const [api, contextHolder] = notification.useNotification();\n  const {\n    user,\n    origin\n  } = props;\n  const {\n    0: login,\n    1: setLogin\n  } = useState(null);\n  const router = useRouter();\n  const editor = useRef(null);\n  const {\n    0: content,\n    1: setContent\n  } = useState('');\n  useEffect(() => {}, []);\n  const {\n    0: active,\n    1: setActive\n  } = useState('1');\n\n  const actived = () => {\n    active ? setActive(0) : setActive(1);\n  };\n\n  const {\n    0: acept,\n    1: setAcept\n  } = useState('');\n\n  const acepted = () => {\n    acept ? setAcept(0) : setAcept(1);\n  };\n\n  const {\n    0: date,\n    1: setDate\n  } = useState('');\n  const {\n    0: fields,\n    1: setFields\n  } = useState([{\n    name: ['date_question_date'],\n    value: moment()\n  }]);\n\n  async function onSubmitHandler(value) {\n    var date = moment(value.date_question_date).format();\n    const data = {\n      organization_id: user.organization_id,\n      question_title: value.question_title,\n      question_detail: value.question_detail,\n      question_post: value.question_post,\n      question_personid: value.question_personid,\n      is_show_personid: acept,\n      is_approve: active,\n      approve_date: date,\n      date_question_date: date,\n      question_view: '0'\n    };\n    const addwebboardData = await apiInstance().post('admin/management/add-webboard-q', data);\n\n    if (addwebboardData.data.status == 200) {\n      openNotificationRegisterSuccess();\n      setTimeout(function () {\n        //Start the timer\n        router.push('/admin/management/webboard');\n      }.bind(this), 2000);\n    } else {\n      openNotificationRegisterFail(addwebboardData.data.message);\n    }\n  }\n\n  const openNotificationRegisterSuccess = () => {\n    api.success({\n      message: `เพิ่มหัวข้อกระดานข่าวเรียบร้อย`,\n      description: 'เพิ่มหัวข้อกระดานข่าวเรียบร้อย',\n      placement: 'topRight'\n    });\n  };\n\n  const openNotificationRegisterFail = messgae => {\n    api.error({\n      message: `พบปัญหาระหว่างการเพิ่มหัวข้อกระดานข่าว`,\n      description: messgae,\n      placement: 'topRight'\n    });\n  };\n\n  function onChange(value, dateString) {\n    setDate(dateString);\n  }\n\n  const [form] = Form.useForm();\n\n  const onReset = () => {\n    setActive(1);\n    form.resetFields();\n    setFields([{\n      name: ['date_question_date'],\n      value: moment()\n    }]);\n  };\n\n  return __jsx(Layout, {\n    title: \"Government - Admin management\",\n    url: origin,\n    origin: origin,\n    user: login,\n    indexSubMenu: \"1\",\n    indexMenu: \"sub-1-4\",\n    titlePage: \"\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E2B\\u0E31\\u0E27\\u0E02\\u0E49\\u0E2D\\u0E01\\u0E23\\u0E30\\u0E14\\u0E32\\u0E19\\u0E02\\u0E48\\u0E32\\u0E27\",\n    _routes: [{\n      path: '/admin/dashborad',\n      breadcrumbName: 'หน้าหลัก'\n    }, {\n      path: '/admin/management/webboard',\n      breadcrumbName: 'จัดการหัวข้อกระดานข่าว'\n    }, {\n      path: '/admin/management/webboard/add-webboard-q',\n      breadcrumbName: 'เพิ่มหัวข้อกระดานข่าว'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 5\n    }\n  }, contextHolder, __jsx(\"link\", {\n    rel: \"stylesheet\",\n    href: \"https://unpkg.com/react-quill@1.3.3/dist/quill.snow.css\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }\n  }), __jsx(\"div\", {\n    className: \"w-5/6 lg:w-full mx-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }\n  }, __jsx(Form, {\n    name: \"basic\",\n    layout: \"vertical\",\n    onFinish: onSubmitHandler,\n    requiredMark: true,\n    form: form,\n    fields: fields,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }\n  }, __jsx(Form.Item, {\n    name: \"question_title\",\n    label: \"\\u0E2B\\u0E31\\u0E27\\u0E02\\u0E49\\u0E2D\\u0E01\\u0E23\\u0E30\\u0E14\\u0E32\\u0E19\\u0E02\\u0E48\\u0E32\\u0E27 :\",\n    className: \"block text-gray-700 text-sm font-bold mb-2 w-full\",\n    rules: [{\n      required: true,\n      message: 'กรุณากรอกหัวข้อกระดานข่าว'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 11\n    }\n  }, __jsx(TextArea, {\n    id: \"#\",\n    type: \"text\",\n    placeholder: \"\\u0E2B\\u0E31\\u0E27\\u0E02\\u0E49\\u0E2D\\u0E01\\u0E23\\u0E30\\u0E14\\u0E32\\u0E19\\u0E02\\u0E48\\u0E32\\u0E27\",\n    className: \"resize-none border rounded-md\",\n    autoSize: {\n      minRows: 1,\n      maxRows: 3\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }\n  })), __jsx(Form.Item, {\n    name: \"question_detail\",\n    label: \"\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14 :\",\n    className: \"block text-gray-700 text-sm font-bold mb-2 w-full\",\n    rules: [{\n      required: true,\n      message: 'กรุณากรอกรายละเอียดกระดานข่าว'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 11\n    }\n  }, __jsx(JoditEditor, {\n    ref: editor,\n    value: content,\n    config: config.config(user),\n    height: '700px',\n    tabIndex: 1 // tabIndex of textarea\n    ,\n    onBlur: newContent => setContent(newContent) // preferred to use only this option to update the content for performance reasons\n    ,\n    onChange: newContent => {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }\n  })), __jsx(Form.Item, {\n    name: \"date_question_date\",\n    label: \"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48\\u0E25\\u0E07\\u0E2B\\u0E31\\u0E27\\u0E02\\u0E49\\u0E2D\\u0E01\\u0E23\\u0E30\\u0E14\\u0E32\\u0E19\\u0E02\\u0E48\\u0E32\\u0E27 :\",\n    className: \"block text-gray-700 text-sm font-bold mb-2 w-full \",\n    rules: [{\n      required: true,\n      message: 'กรุณากรอกวันที่ลงหัวข้อกระดานข่าว'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 11\n    }\n  }, __jsx(DatePicker, {\n    className: \"w-full\",\n    showTime: true,\n    onChange: onChange,\n    style: {\n      width: '100%'\n    },\n    defaultValue: moment(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 13\n    }\n  })), __jsx(Form.Item, {\n    name: \"question_post\",\n    label: \"\\u0E1C\\u0E39\\u0E49\\u0E42\\u0E1E\\u0E2A\\u0E2B\\u0E31\\u0E27\\u0E02\\u0E49\\u0E2D\\u0E01\\u0E23\\u0E30\\u0E14\\u0E32\\u0E19\\u0E02\\u0E48\\u0E32\\u0E27 :\",\n    className: \"block text-gray-700 text-sm font-bold mb-2 w-full\",\n    rules: [{\n      required: true,\n      message: 'กรุณากรอกชื่อผู้โพสหัวข้อกระดานข่าว'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 11\n    }\n  }, __jsx(TextArea, {\n    id: \"#\",\n    type: \"text\",\n    placeholder: \"\\u0E1C\\u0E39\\u0E49\\u0E14\\u0E39\\u0E41\\u0E25\\u0E23\\u0E30\\u0E1A\\u0E1A\",\n    className: \"resize-none border rounded-md\",\n    autoSize: {\n      minRows: 1,\n      maxRows: 3\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 13\n    }\n  })), __jsx(Form.Item, {\n    name: \"question_personid\",\n    label: \"\\u0E40\\u0E25\\u0E02\\u0E1B\\u0E23\\u0E30\\u0E08\\u0E33\\u0E15\\u0E31\\u0E27\\u0E1B\\u0E23\\u0E30\\u0E0A\\u0E32\\u0E0A\\u0E19 :\",\n    className: \"block text-gray-700 text-sm font-bold mb-2 w-full\",\n    rules: [{\n      required: true,\n      message: 'กรุณากรอกเลขประจำตัวประชาชน'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 11\n    }\n  }, __jsx(TextArea, {\n    id: \"#\",\n    type: \"text\",\n    placeholder: \"\\u0E40\\u0E25\\u0E02\\u0E1B\\u0E23\\u0E30\\u0E08\\u0E33\\u0E15\\u0E31\\u0E27\\u0E1B\\u0E23\\u0E30\\u0E0A\\u0E32\\u0E0A\\u0E19\",\n    className: \"resize-none border rounded-md\",\n    autoSize: {\n      minRows: 1,\n      maxRows: 3\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 13\n    }\n  })), __jsx(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 11\n    }\n  }, __jsx(Checkbox, {\n    onChange: onChange,\n    onClick: acepted,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 13\n    }\n  }, \"\\u0E44\\u0E21\\u0E48\\u0E41\\u0E2A\\u0E14\\u0E07\\u0E40\\u0E25\\u0E02\\u0E1B\\u0E23\\u0E30\\u0E08\\u0E33\\u0E15\\u0E31\\u0E27\\u0E1B\\u0E23\\u0E30\\u0E0A\\u0E32\\u0E0A\\u0E19\\u0E43\\u0E2B\\u0E49\\u0E1C\\u0E39\\u0E49\\u0E2D\\u0E37\\u0E48\\u0E19\\u0E40\\u0E2B\\u0E47\\u0E19\")), __jsx(Form.Item, {\n    className: \"flex mt-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"lg:inline-flex w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"inline-flex text-left lg:w-1/2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 15\n    }\n  }, __jsx(Switch, {\n    checked: active,\n    onClick: actived,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 17\n    }\n  }), __jsx(\"p\", {\n    className: \"mx-2 text-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 17\n    }\n  }, \"\\u0E01\\u0E32\\u0E23\\u0E41\\u0E2A\\u0E14\\u0E07\\u0E1C\\u0E25\")), __jsx(\"div\", {\n    className: \"text-center lg:text-right w-full lg:w-1/2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 15\n    }\n  }, __jsx(Button, {\n    htmlType: \"button\",\n    onClick: onReset,\n    style: {\n      backgroundColor: '#C2CFE0',\n      borderColor: '#C2CFE0',\n      height: 40,\n      width: 110,\n      marginBottom: '0px !important',\n      marginRight: '2px',\n      color: 'white !important'\n    } // htmlType=\"submit\"\n    ,\n    className: \"text-center bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full lg:w-1/4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 17\n    }\n  }, __jsx(Text, {\n    className: \"text-custom-black \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 19\n    }\n  }, \"\\u0E23\\u0E35\\u0E40\\u0E0B\\u0E47\\u0E17\")), __jsx(Button // type=\"primary\"\n  , {\n    style: {\n      backgroundColor: '#059669',\n      borderColor: '#059669',\n      height: 40,\n      width: 110,\n      marginBottom: '0px !important',\n      color: 'white !important'\n    },\n    htmlType: \"submit\",\n    className: \"text-center bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full lg:w-1/4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 17\n    }\n  }, __jsx(Text, {\n    className: \"text-custom-white \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 19\n    }\n  }, \"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\"))))))));\n}\n/* getServerSideProps */\n\nexport async function getServerSideProps(context) {\n  const {\n    req\n  } = context;\n  const {\n    origin\n  } = absoluteUrl(req);\n  return {\n    props: {\n      origin\n    }\n  };\n}","map":{"version":3,"sources":["D:/govermentlt/pages/admin/management/webboard/add-webboard-q.js"],"names":["Button","Checkbox","DatePicker","Form","Input","notification","Switch","Typography","moment","dynamic","useRouter","useEffect","useRef","useState","Layout","absoluteUrl","apiInstance","Text","Title","JoditEditor","ssr","TextArea","config","require","Home","props","api","contextHolder","useNotification","user","origin","login","setLogin","router","editor","content","setContent","active","setActive","actived","acept","setAcept","acepted","date","setDate","fields","setFields","name","value","onSubmitHandler","date_question_date","format","data","organization_id","question_title","question_detail","question_post","question_personid","is_show_personid","is_approve","approve_date","question_view","addwebboardData","post","status","openNotificationRegisterSuccess","setTimeout","push","bind","openNotificationRegisterFail","message","success","description","placement","messgae","error","onChange","dateString","form","useForm","onReset","resetFields","path","breadcrumbName","required","minRows","maxRows","newContent","width","backgroundColor","borderColor","height","marginBottom","marginRight","color","getServerSideProps","context","req"],"mappings":"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","sourcesContent":["import {\r\n  Button, Checkbox, DatePicker, Form, Input, notification, Switch, Typography\r\n} from 'antd';\r\nimport moment from 'moment';\r\nimport dynamic from 'next/dynamic';\r\nimport { useRouter } from 'next/router';\r\n// import UserNav from '../components/navigation/User';\r\nimport { useEffect, useRef, useState } from 'react';\r\n/* components */\r\nimport Layout from '../../../../components/layout/LayoutAdmin';\r\nimport {\r\n  absoluteUrl, apiInstance\r\n} from '../../../../middleware/utils';\r\n\r\n\r\nconst { Text, Title } = Typography;\r\n\r\nconst JoditEditor = dynamic(() => import('jodit-react'), { ssr: false });\r\nconst { TextArea } = Input;\r\nconst config = require('./../../config');\r\n\r\nexport default function Home(props) {\r\n  const [api, contextHolder] = notification.useNotification();\r\n  const { user, origin } = props;\r\n  const [login, setLogin] = useState(null);\r\n  const router = useRouter();\r\n\r\n  const editor = useRef(null);\r\n  const [content, setContent] = useState('');\r\n\r\n  useEffect(() => {\r\n  }, []);\r\n\r\n\r\n  const [active, setActive] = useState('1');\r\n  const actived = () => {\r\n    active ? setActive(0) : setActive(1);\r\n  };\r\n\r\n  const [acept, setAcept] = useState('');\r\n  const acepted = () => {\r\n    acept ? setAcept(0) : setAcept(1);\r\n  };\r\n\r\n  const [date, setDate] = useState('');\r\n  const [fields, setFields] = useState([\r\n    {\r\n      name: ['date_question_date'],\r\n      value: moment(),\r\n    },\r\n  ]);\r\n  async function onSubmitHandler(value) {\r\n    var date = moment(value.date_question_date).format()\r\n    const data = {\r\n      organization_id: user.organization_id,\r\n      question_title: value.question_title,\r\n      question_detail: value.question_detail,\r\n      question_post: value.question_post,\r\n      question_personid: value.question_personid,\r\n      is_show_personid: acept,\r\n      is_approve: active,\r\n      approve_date: date,\r\n      date_question_date: date,\r\n      question_view: '0',\r\n    };\r\n\r\n    const addwebboardData = await apiInstance().post(\r\n      'admin/management/add-webboard-q',\r\n      data,\r\n    );\r\n    if (addwebboardData.data.status == 200) {\r\n      openNotificationRegisterSuccess();\r\n      setTimeout(function () { //Start the timer\r\n        router.push('/admin/management/webboard')\r\n      }.bind(this), 2000)\r\n    } else {\r\n      openNotificationRegisterFail(addwebboardData.data.message);\r\n    }\r\n  }\r\n\r\n  const openNotificationRegisterSuccess = () => {\r\n    api.success({\r\n      message: `เพิ่มหัวข้อกระดานข่าวเรียบร้อย`,\r\n      description: 'เพิ่มหัวข้อกระดานข่าวเรียบร้อย',\r\n      placement: 'topRight',\r\n    });\r\n  };\r\n\r\n  const openNotificationRegisterFail = messgae => {\r\n    api.error({\r\n      message: `พบปัญหาระหว่างการเพิ่มหัวข้อกระดานข่าว`,\r\n      description: messgae,\r\n      placement: 'topRight',\r\n    });\r\n  };\r\n\r\n  function onChange(value, dateString) {\r\n    setDate(dateString);\r\n  }\r\n\r\n  const [form] = Form.useForm();\r\n\r\n  const onReset = () => {\r\n    setActive(1);\r\n    form.resetFields();\r\n    setFields([\r\n      {\r\n        name: ['date_question_date'],\r\n        value: moment(),\r\n      },\r\n    ])\r\n  };\r\n\r\n  return (\r\n    <Layout\r\n      title=\"Government - Admin management\"\r\n      url={origin}\r\n      origin={origin}\r\n      user={login}\r\n      indexSubMenu={\"1\"}\r\n      indexMenu={\"sub-1-4\"}\r\n      titlePage=\"เพิ่มหัวข้อกระดานข่าว\"\r\n      _routes={[\r\n        {\r\n          path: '/admin/dashborad',\r\n          breadcrumbName: 'หน้าหลัก',\r\n        },\r\n        {\r\n          path: '/admin/management/webboard',\r\n          breadcrumbName: 'จัดการหัวข้อกระดานข่าว',\r\n        },\r\n        {\r\n          path: '/admin/management/webboard/add-webboard-q',\r\n          breadcrumbName: 'เพิ่มหัวข้อกระดานข่าว',\r\n        }\r\n      ]}\r\n    >\r\n      {contextHolder}\r\n      <link\r\n        rel=\"stylesheet\"\r\n        href=\"https://unpkg.com/react-quill@1.3.3/dist/quill.snow.css\"\r\n      ></link>\r\n      <div className=\"w-5/6 lg:w-full mx-auto\">\r\n        <Form\r\n          name=\"basic\"\r\n          layout=\"vertical\"\r\n          onFinish={onSubmitHandler}\r\n          requiredMark={true}\r\n          form={form}\r\n          fields={fields}\r\n        >\r\n          <Form.Item\r\n            name=\"question_title\"\r\n            label=\"หัวข้อกระดานข่าว :\"\r\n            className=\"block text-gray-700 text-sm font-bold mb-2 w-full\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: 'กรุณากรอกหัวข้อกระดานข่าว',\r\n              },\r\n            ]}\r\n          >\r\n            <TextArea\r\n              id=\"#\"\r\n              type=\"text\"\r\n              placeholder=\"หัวข้อกระดานข่าว\"\r\n              className=\"resize-none border rounded-md\"\r\n              autoSize={{ minRows: 1, maxRows: 3 }}\r\n            />\r\n          </Form.Item>\r\n          <Form.Item\r\n            name=\"question_detail\"\r\n            label=\"รายละเอียด :\"\r\n            className=\"block text-gray-700 text-sm font-bold mb-2 w-full\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: 'กรุณากรอกรายละเอียดกระดานข่าว',\r\n              },\r\n            ]}\r\n          >\r\n            <JoditEditor\r\n              ref={editor}\r\n              value={content}\r\n              config={config.config(user)}\r\n              height={'700px'}\r\n              tabIndex={1} // tabIndex of textarea\r\n              onBlur={newContent => setContent(newContent)} // preferred to use only this option to update the content for performance reasons\r\n              onChange={newContent => { }}\r\n            />\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            name=\"date_question_date\"\r\n            label=\"วันที่ลงหัวข้อกระดานข่าว :\"\r\n            className=\"block text-gray-700 text-sm font-bold mb-2 w-full \"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: 'กรุณากรอกวันที่ลงหัวข้อกระดานข่าว',\r\n              },\r\n            ]}\r\n          >\r\n            <DatePicker\r\n              className=\"w-full\"\r\n              showTime\r\n              onChange={onChange}\r\n              style={{\r\n                width: '100%',\r\n              }}\r\n              defaultValue={moment()}\r\n            />\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            name=\"question_post\"\r\n            label=\"ผู้โพสหัวข้อกระดานข่าว :\"\r\n            className=\"block text-gray-700 text-sm font-bold mb-2 w-full\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: 'กรุณากรอกชื่อผู้โพสหัวข้อกระดานข่าว',\r\n              },\r\n            ]}\r\n          >\r\n            <TextArea\r\n              id=\"#\"\r\n              type=\"text\"\r\n              placeholder=\"ผู้ดูแลระบบ\"\r\n              className=\"resize-none border rounded-md\"\r\n              autoSize={{ minRows: 1, maxRows: 3 }}\r\n            />\r\n          </Form.Item>\r\n          <Form.Item\r\n            name=\"question_personid\"\r\n            label=\"เลขประจำตัวประชาชน :\"\r\n            className=\"block text-gray-700 text-sm font-bold mb-2 w-full\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: 'กรุณากรอกเลขประจำตัวประชาชน',\r\n              },\r\n            ]}\r\n          >\r\n            <TextArea\r\n              id=\"#\"\r\n              type=\"text\"\r\n              placeholder=\"เลขประจำตัวประชาชน\"\r\n              className=\"resize-none border rounded-md\"\r\n              autoSize={{ minRows: 1, maxRows: 3 }}\r\n            />\r\n          </Form.Item>\r\n          <Form.Item>\r\n            <Checkbox onChange={onChange} onClick={acepted}>\r\n              ไม่แสดงเลขประจำตัวประชาชนให้ผู้อื่นเห็น\r\n            </Checkbox>\r\n          </Form.Item>\r\n\r\n          <Form.Item className=\"flex mt-6\">\r\n            <div className=\"lg:inline-flex w-full\">\r\n              <div className=\"inline-flex text-left lg:w-1/2\">\r\n                <Switch checked={active} onClick={actived} />\r\n                <p className=\"mx-2 text-sm\">การแสดงผล</p>\r\n              </div>\r\n              <div className=\"text-center lg:text-right w-full lg:w-1/2\">\r\n                <Button\r\n                  htmlType=\"button\"\r\n                  onClick={onReset}\r\n                  style={{\r\n                    backgroundColor: '#C2CFE0',\r\n                    borderColor: '#C2CFE0',\r\n                    height: 40,\r\n                    width: 110,\r\n                    marginBottom: '0px !important',\r\n                    marginRight: '2px',\r\n                    color: 'white !important',\r\n                  }}\r\n                  // htmlType=\"submit\"\r\n                  className=\"text-center bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full lg:w-1/4\"\r\n                >\r\n                  <Text className=\"text-custom-black \">รีเซ็ท</Text>\r\n                </Button>\r\n                <Button\r\n                  // type=\"primary\"\r\n                  style={{\r\n                    backgroundColor: '#059669',\r\n                    borderColor: '#059669',\r\n                    height: 40,\r\n                    width: 110,\r\n                    marginBottom: '0px !important',\r\n                    color: 'white !important',\r\n                  }}\r\n                  htmlType=\"submit\"\r\n                  className=\"text-center bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full lg:w-1/4\"\r\n                >\r\n                  <Text className=\"text-custom-white \">บันทึก</Text>\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </Form.Item>\r\n        </Form>\r\n      </div>\r\n    </Layout>\r\n  );\r\n}\r\n/* getServerSideProps */\r\nexport async function getServerSideProps(context) {\r\n  const { req } = context;\r\n  const { origin } = absoluteUrl(req);\r\n\r\n  return {\r\n    props: {\r\n      origin,\r\n    },\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}